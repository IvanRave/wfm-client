<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>WFM</title><meta name="description" content=""><meta name="viewport" content="width=device-width, initial-scale=1.0"><link href="#" id="wfm-style-link" rel="stylesheet"><script>(function(){
    function readCssCookie(name) {
      var nameEQ = name + "=";
      var ca = document.cookie.split(';');
      for(var i=0;i < ca.length;i++) {
          var c = ca[i];
          while (c.charAt(0)==' ') c = c.substring(1,c.length);
          if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
      }
      return null;
    }
  
    var styleLinkElem = document.getElementById('wfm-style-link');
    var cssPathCookie = readCssCookie('wfmstylelink');
    styleLinkElem.href = (cssPathCookie || 'css/main-light.css') + '?0.9.9';
  })();</script></head><body><!--[if lt IE 10]><p class="chromeframe">You are using an <strong>outdated</strong> browser. Please upgrade your browser.</p><![endif]--><div class="hide" id="workspace-project"><div><!-- current: vwmWorkspace--><nav class="wfm-nav clearfix navbar-inverse" role="navigation" data-bind="visible: mdlWorkspace.isTriedToLoadUserProfile"><div data-bind="ifnot: vwmUserProfile"><!-- current: vwmWorkspace --><div class="pull-right"><select class="input-sm" data-bind="options: listOfGlobalCss, optionsText: 'lbl', optionsCaption: 'Choose theme...', value: curGlobalCss"></select></div></div><div><div class="pull-left wfm-nav__block" data-bind="with: vwmUserProfile"><span class="link-view-inverse wfm-brand-title" data-bind="click: deactivateVwmChild">WFM</span></div><div class="pull-right wfm-nav__block" data-bind="if: vwmUserProfile"><div class="dropdown" style="min-width: 200px"><a href="#" class="dropdown-toggle" data-toggle="dropdown" data-bind="drpdwn: {}"><span data-bind="with:vwmUserProfile"><span data-bind="text: uname"></span></span> <span class="caret"></span></a><ul class="dropdown-menu" role="menu"><li><a href="#" data-bind="click: accountLogOff">Logout (WFM)</a></li><li><a href="#" data-bind="click: accountFullLogOff">Logout (WFM + Petrohelp)</a></li></ul></div></div></div></nav><div class="wfm-content-wrap"><div><div data-bind="visible: mdlWorkspace.isTriedToLoadUserProfile"><div class="min-top-margin" data-bind="ifnot: vwmUserProfile"><div class="clearfix"><div class="col-sm-4"></div><div class="col-sm-4"><h3 class="text-center">Well file manager</h3><!-- TODO: #22! Place a button --><div class="text-center"><button class="btn btn-default" data-bind="click: openAuth, disable: isLoginInProgress"><span data-bind="hidden: isLoginInProgress">Login using PetrohelpAuth</span> <span data-bind="visible: isLoginInProgress">Login...</span></button></div><div class="text-center"><small>secured authentication / register free / demo login</small></div><div class="min-top-margin"><p class="text-center">Petrohelp’s Well File Manager is specialized software used to manage well data, production data, maps and to calculate many parameters.</p><ul class="list-unstyled min-left-margin"><li>✓ Management of Drilling data and history of the well, including deviation survey and completion details.</li><li>✓ Maps with well location, distance between wells and area calculations.</li><li>✓ Management of Production data from the field. This can simply be loaded to the data base and visualized using a graph wherever you are.</li><li>✓ Artificial lift method and gas lift calculations.</li><li>✓ Decline analysis.</li><li>✓ PVT data review.</li><li>✓ Nodal Analysis and Reservoir performance review.</li><li>✓ and more...</li></ul><p class="text-center">Keep all the information for your asset always updated and organized as well as accessible worldwide thanks to WFM.</p></div></div></div></div><div data-bind="with: vwmUserProfile"><!-- current: vwmUserProfile --><div data-bind="ifnot: mdlStage.isLoadedEmployees">loading</div><div data-bind="if: mdlStage.isLoadedEmployees"><!-- If no selected employee: show list of employees --><div data-bind="ifnot: slcVwmChild"><div class="min-margin"><!-- current: vwmUserProfile--><ul class="list-group" data-bind="foreach: listOfVwmChild"><!-- current: vwmEmployee--><li class="list-group-item"><div class="clearfix" data-bind="if: mdlEmployee.canViewAll"><div class="pull-left"><!-- select employee --><span data-bind="with: vwmCompany"><!-- parent: vwmEmployee, parents[1]: vwmUpro --><span class="pointer" data-bind="click: $parents[1].activateVwmChild.bind($parents[1])"><span data-bind="with: mdlStage"><span data-bind="with: fileSpecOfLogo"><img class="company-logo" src="#" data-bind="attr: {src: fileUrl }" title="View WFM"></span> <span data-bind="ifnot: fileSpecOfLogo"><img class="company-logo" src="img/question.jpg" alt="company logo"></span></span></span></span></div><div class="pull-left min-left-margin"><h4 class="min-left-margin"><span data-bind="with: vwmCompany"><span class="link-view" data-bind="click: $parents[1].activateVwmChild.bind($parents[1])"><span data-bind="text: mdlStage.name"></span></span></span></h4><h5 class="min-left-margin"><span data-bind="with: vwmCompany"><span data-bind="text: mdlStage.description"></span></span></h5></div></div></li></ul><!-- if user profile has no employee with company ownership show form with creation of new company --><div data-bind="ifnot: mdlStage.isOwnerAlready"><div class="col-md-5 col-md-offset-3"><form class="form-horizontal" data-bind="submit: mdlStage.postEmployee"><div class="form-group"><label class="control-label col-md-3">Company name</label><div class="col-md-9"><input class="form-control" type="text" pattern=".{3,255}" title="From 3 to 255 characters" data-bind="value: mdlStage.nameOfCreatedCompany" required="" placeholder="company name"></div></div><div class="form-group"><div class="col-md-4 col-md-offset-3"><div class="checkbox"><label><input type="checkbox" required="">I agree with terms</label></div></div><div class="col-md-5 text-right"><button class="btn btn-default" type="submit">Register a company</button></div></div></form></div></div></div></div><div data-bind="with: slcVwmChild"><!-- current: vwmEmployee--><div data-bind="if: mdlEmployee.canEditAll"><div class="wfm-top-tab-panel edit-mode-block"><button class="btn btn-xs btn-inverse" data-bind="click: toggleEditMode"><span data-bind="if: isEditMode"><i class="glyphicon glyphicon-check"></i></span> <span data-bind="ifnot: isEditMode"><i class="glyphicon glyphicon-unchecked"></i></span> <span>Edit mode</span></button></div></div><div><div><div class="clearfix"><div class="sidebar-toggle" data-bind="css: $root.sidebarToggleCss"><button type="button" data-bind="click: $root.toggleIsVisibleMenu.bind($root)" title="Hide/show menu"><i class="glyphicon glyphicon-chevron-left" data-bind="visible: $root.isVisibleMenu"></i> <i class="glyphicon glyphicon-chevron-right" data-bind="hidden: $root.isVisibleMenu"></i></button></div><!-- TODO: fix: slider scroll with page scroll #MH! --><div class="sidebar-wrap" data-bind="css: $root.sidebarWrapCss"><div data-bind="scroller: { }"><div class="wfm-list"><!-- parent: vwmUserProfile --><!-- current: slcVwmEmployee (slcVwmChild) --><ul class="list-unstyled"><li><div data-bind="with: vwmCompany"><div class="wfm-menu-item wfm-menu-header" data-bind="click: $parents[1].activateVwmChild.bind($parents[1])"><span data-bind="css: { 'bld': isActiveVwmStage }"><!-- select company view, using userprofile parent --><span data-bind="text: mdlStage.name, attr: {title: mdlStage.name}"></span></span></div></div></li><!-- ko with: vwmCompany --><!-- ko ifnot: mdlStage.isLoadedWegions --><li><div class="wfm-menu-item wfm-menu-header text-center"><span class="loader-line-medium"></span></div></li><!-- /ko --><!-- ko foreach: listOfVwmChild --><!-- current: vwmWegion--><li><div class="clearfix"><i class="glyphicon wfm-toggle-item" data-bind="css: menuItemCss, click: toggleItem"></i><div class="wfm-menu-item" data-bind="click: $parent.activateVwmChild.bind($parent), css: { 'wfm-slc-menu-item': isActiveVwmStage }"><div class="pull-right"><small><i class="glyphicon glyphicon-globe"></i></small></div><div data-bind="with: mdlStage"><span data-bind="text: name, attr: {title: name}"></span></div></div></div><ul class="list-unstyled wfm-child" data-bind="visible: isOpenedItem"><!-- ko foreach: listOfVwmChild --><!-- current: vwmWield --><li><div class="clearfix"><i class="glyphicon wfm-toggle-item" data-bind="css: menuItemCss, click: toggleItem"></i><div class="wfm-menu-item" data-bind="click: $parent.activateVwmChild.bind($parent), css: { 'wfm-slc-menu-item': isActiveVwmStage }"><div class="pull-right"><small><i class="glyphicon glyphicon-home"></i></small></div><div data-bind="with: mdlStage"><span data-bind="text: name, attr: {title: name}"></span></div></div></div><ul class="list-unstyled wfm-child" data-bind="visible: isOpenedItem"><!-- ko foreach: listOfVwmChild --><!-- current: vwmWroup --><li><div class="clearfix"><i class="glyphicon wfm-toggle-item" data-bind="css: menuItemCss, click: toggleItem"></i><div class="wfm-menu-item" data-bind="click: $parent.activateVwmChild.bind($parent), css: { 'wfm-slc-menu-item': isActiveVwmStage }"><div class="pull-right"><small><i class="glyphicon glyphicon-list"></i></small></div><div data-bind="with: mdlStage"><span data-bind="text: Name, attr: {title: Name}"></span></div></div></div><ul class="list-unstyled wfm-child" data-bind="visible: isOpenedItem"><!-- ko foreach: listOfVwmChild --><!-- current: well --><li><div class="clearfix"><div class="wfm-menu-item" data-bind="click: $parent.activateVwmChild.bind($parent), css: { 'wfm-slc-menu-item': isActiveVwmStage }"><div class="pull-right"><small><i class="glyphicon glyphicon-leaf"></i></small></div><div data-bind="with: mdlStage"><span data-bind="text: Name, attr: {title: Name}"></span></div></div></div></li><!-- /ko --><li data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs wfm-menu-button" data-bind="click: postVwmWell" type="button">Add well</button></li></ul></li><!-- /ko --><li data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs wfm-menu-button" data-bind="click: addVwmWroup" type="button">Add group</button></li></ul></li><!-- /ko --><li data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs wfm-menu-button" data-bind="click: addVwmWield" type="button">Add field</button></li></ul></li><!-- /ko --><li data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs wfm-menu-button" type="button" data-bind="click: prePostVwmWegion">Add region</button></li><!-- /ko --></ul></div></div></div><div class="workspace-container" data-bind="css: $root.workAreaCss, with: vwmCompany"><!-- current: vwmCompany--><div data-bind="ifnot: slcVwmChild"><!-- if no selected wegion --><!-- current: vwmStage (wroup ... company, exclude the well stage) --><div class="wfm-section-panel clearfix"><div class="pull-left"><ul class="nav nav-pills" data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.isVisibleAsView --><li><div class="wfm-section-item" data-bind="click: $parent.selectVwmSectionWrk.bind($parent), css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div></div></li><!-- /ko --></ul></div></div><div class="wfm-top-tab-panel dashboard-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewDashboard"><i class="glyphicon glyphicon-th"></i>&nbsp;&nbsp;<span>Dashboard</span></button></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="wfm-top-tab-panel fmgr-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewFmgr"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<span>File manager</span></button></div><!-- current: vwmStage (vwmUpro, vwmCompany... vwmWell) --><div class="modal fade" role="dialog" tabindex="-1" aria-hidden="true" data-bind="modalWindow: {isOpenFileMgr: fmgrModal.isShowed, fileMgrHiddenCallback: fmgrModal.hide.bind(fmgrModal)}"><div class="modal-dialog modal-fullscreen"><div class="modal-content full-min-height"><div class="modal-header clearfix"><h4 class="modal-title pull-left" data-bind="text: fmgrModal.okDescription"></h4><div class="pull-right min-right-margin"><span class="min-right-margin" style="color:red" data-bind="text: fmgrModal.okError"></span> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.okCallback()">OK</button> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.hide.bind(fmgrModal)">Cancel</button></div></div><div class="modal-body"><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div></div></div><div class="tab-content-pad"><!-- current: vwmCompany --><div data-bind="if: isNullSlcVwmSectionWrk"><div data-bind="if: isSlcStageViewDashboard"><!-- current: vwmStage (from company to well) --><div><div data-bind="ifnot: mdlStage.isLoadedWidgouts">Dashboard loading...</div><div data-bind="if: mdlStage.isLoadedWidgouts"><div data-bind="ifnot: mdlStage.widgouts.hasItems">Dashboard is empty</div><div class="clearfix"><div class="pull-left"><span data-bind="with: slcVwmWidgout"><span data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm" type="text" data-bind="value: mdlWidgout.name"></span> <span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: mdlWidgout.name"></span></span> <button class="btn btn-link" data-bind="click: preGenerateReport"><i class="glyphicon glyphicon-book"></i> Generate a report</button> <span data-bind="with: reportFileSpec"><button class="btn btn-sm btn-default" data-bind="click: $parent.downloadWithClean.bind($parent)"><!-- <span data-bind="text: namePlusExtension"></span> --><i class="glyphicon glyphicon-download-alt"></i> Download</button> <small>(saved in a Report folder)</small></span> <span data-bind="visible: isReportInProgress"><span class="loader-line-small"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: slcVwmWidgout"><button class="btn btn-sm btn-default" data-bind="click: $parent.removeVwmWidgout.bind($parent)">Delete layout</button></span></div><div class="pull-right" data-bind="visible: slcVwmWidgout" style="margin-left: 32px"><select class="input-sm" data-bind="options: listOfVwmWidgout, optionsText: 'name', value: slcVwmWidgout"></select></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><select class="input-sm" data-bind="options: widgoutTemplates, optionsText: 'name', value: slcWidgoutTemplate, optionsCaption: 'Choose scheme...'"></select><button class="btn btn-sm btn-default" data-bind="enable: slcWidgoutTemplate, click: postWidgout">Create new layout</button></div></div></div><div data-bind="with: slcVwmWidgout"><div class="row" data-bind="foreach: listOfVwmWidgock"><div data-bind="css: mdlWidgock.columnStyle"><div data-bind="foreach: listOfVwmWidget"><div class="widget-tile"><div class="clearfix widget-tile-header"><div class="pull-left"><div data-bind="ifnot: isVisSettingPanel"><b data-bind="text: mdlWidget.name"></b></div><div data-bind="if: isVisSettingPanel"><input type="text" class="input-sm" data-bind="value: mdlWidget.name"></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="ifnot: isVisSettingPanel"><button class="btn btn-xs btn-default" type="button" data-bind="click: showVisSettingPanel"><i class="glyphicon glyphicon-cog" title="Settings"></i></button> <!-- parent: vwmWidgock --> <button class="btn btn-xs btn-default" type="button" data-bind="click: $parent.removeVwmWidget.bind($parent)"><i class="glyphicon glyphicon-remove" title="Delete"></i></button></div><div data-bind="if: isVisSettingPanel"><button class="btn btn-sm btn-success" type="button" data-bind="click: saveVwmWidget">Save</button></div></div></div><div class="widget-tile-content"><!-- current: vwmWidget from foreach --><div data-bind="template: { name: mdlWidget.widgetTpl, data: $data, as: 'vwmWidget', afterRender: afterRenderWidget.bind($data) }"></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="widget-tile"><div class="widget-empty"><!--sectionIdList--><!-- current: vwmWidgock --><!-- parent: vwmWidgout --><!-- parents[1]: vwmStage --><select class="input-sm" data-bind="options: dictOfKeyOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcKeyOfStage"></select><select class="input-sm" data-bind="options: dictOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcCntxStage"></select><select class="input-sm" data-bind="options: listOfPatternOfSection, optionsText: 'name', value: slcStagePatternForWidget, optionsCaption: 'choose widget...'"></select><button class="btn btn-default btn-sm" type="button" data-bind="click: addVwmWidget, enable: canAddVwmWidget"><i class="glyphicon glyphicon-plus"></i> Add</button></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcStageViewFmgr"><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="clearfix" data-bind="hidden: slcVwmSectionFmg"><div data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.sectionPattern --><!-- ko if: mdlSection.sectionPattern().isFolder --><div class="pull-left min-margin"><div class="stage-folder" data-bind="css: {'active': isSlcVwmSectionFmg }, click: $parent.selectVwmSectionFmg.bind($parent)"><div><span data-bind="with: mdlSection.sectionPattern"><i class="wfm-icon stage-folder__wfm-icon" data-bind="css: iconClass"></i></span> <span class="stage-folder__folder-icon"><i class="glyphicon glyphicon-folder-open"></i></span></div><div data-bind="with: mdlSection.sectionPattern"><span class="stage-folder__name" data-bind="text: name"></span></div></div></div><!-- /ko --><!-- /ko --></div></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div><div data-bind="if: slcVwmSectionWrk"><div data-bind="if: patternOfSlcVwmSectionWrk() === 'company-summary'"><div><!--current: vwmStage (company...well)--><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><div data-bind="if: tpe"><div class="row"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><span data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'MultiLine'"><span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'DateLine'"><span data-bind="unix: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span></span> <span data-bind="if: tpe === 'BoolLine'"><span data-bind="text: $parent[clientId]"></span></span></div></div></div></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="clearfix"><div class="pull-right"><!-- parent: vwmEmployee; parents[1]: vwmUserProfile --><button class="btn btn-sm btn-danger" data-bind="click: function() { getParentVwm().removeVwmChild($data); }"><i class="glyphicon glyphicon-remove-sign"></i> Delete</button></div><div class="pull-right min-right-margin" data-bind="with: mdlStage"><button class="btn btn-sm btn-success" data-bind="click: save"><i class="glyphicon glyphicon-saved"></i> Save</button></div></div><div class="min-top-margin" data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><!-- Properties without type do not showed in this list: not-editable properties --><div class="row" data-bind="if: tpe"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><input class="form-control" type="text" data-bind="value: $parent[clientId], attr: {maxlength: addtData.maxLength}"></span> <span data-bind="if: tpe === 'MultiLine'"><textarea class="form-control" rows="5" data-bind="value: $parent[clientId]"></textarea></span> <span data-bind="if: tpe === 'DateLine'"><input class="input-sm" type="text" size="10" data-bind="datepicker: $parent[clientId], datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <span data-bind="if: tpe === 'BoolLine'"><input type="checkbox" data-bind="checked: $parent[clientId]"></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span> <!-- parent: mdlStage (only for stages with image types, like company logo) --> <!-- parents[1]: vwmStage --> <button class="btn btn-default btn-sm" data-bind="click: $parents[1].selectImgFileSpec.bind($parents[1])">Select image...</button> <span data-bind="if: $parent[clientId]"><!-- parent: mdlStage --><button class="btn btn-default btn-sm" data-bind="click: $parent.deleteImgFileSpec.bind($parent)">Delete image</button></span></span></div></div></div></div></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'company-report'">No reports</div></div></div></div><div data-bind="with: slcVwmChild"><!-- current: vwmWegion --><div data-bind="ifnot: slcVwmChild"><!-- current: vwmStage (wroup ... company, exclude the well stage) --><div class="wfm-section-panel clearfix"><div class="pull-left"><ul class="nav nav-pills" data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.isVisibleAsView --><li><div class="wfm-section-item" data-bind="click: $parent.selectVwmSectionWrk.bind($parent), css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div></div></li><!-- /ko --></ul></div></div><div class="wfm-top-tab-panel dashboard-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewDashboard"><i class="glyphicon glyphicon-th"></i>&nbsp;&nbsp;<span>Dashboard</span></button></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="wfm-top-tab-panel fmgr-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewFmgr"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<span>File manager</span></button></div><!-- current: vwmStage (vwmUpro, vwmCompany... vwmWell) --><div class="modal fade" role="dialog" tabindex="-1" aria-hidden="true" data-bind="modalWindow: {isOpenFileMgr: fmgrModal.isShowed, fileMgrHiddenCallback: fmgrModal.hide.bind(fmgrModal)}"><div class="modal-dialog modal-fullscreen"><div class="modal-content full-min-height"><div class="modal-header clearfix"><h4 class="modal-title pull-left" data-bind="text: fmgrModal.okDescription"></h4><div class="pull-right min-right-margin"><span class="min-right-margin" style="color:red" data-bind="text: fmgrModal.okError"></span> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.okCallback()">OK</button> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.hide.bind(fmgrModal)">Cancel</button></div></div><div class="modal-body"><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div></div></div><div class="tab-content-pad"><!-- current: vwmWegion --><div data-bind="if: isNullSlcVwmSectionWrk"><div data-bind="if: isSlcStageViewDashboard"><!-- current: vwmStage (from company to well) --><div><div data-bind="ifnot: mdlStage.isLoadedWidgouts">Dashboard loading...</div><div data-bind="if: mdlStage.isLoadedWidgouts"><div data-bind="ifnot: mdlStage.widgouts.hasItems">Dashboard is empty</div><div class="clearfix"><div class="pull-left"><span data-bind="with: slcVwmWidgout"><span data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm" type="text" data-bind="value: mdlWidgout.name"></span> <span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: mdlWidgout.name"></span></span> <button class="btn btn-link" data-bind="click: preGenerateReport"><i class="glyphicon glyphicon-book"></i> Generate a report</button> <span data-bind="with: reportFileSpec"><button class="btn btn-sm btn-default" data-bind="click: $parent.downloadWithClean.bind($parent)"><!-- <span data-bind="text: namePlusExtension"></span> --><i class="glyphicon glyphicon-download-alt"></i> Download</button> <small>(saved in a Report folder)</small></span> <span data-bind="visible: isReportInProgress"><span class="loader-line-small"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: slcVwmWidgout"><button class="btn btn-sm btn-default" data-bind="click: $parent.removeVwmWidgout.bind($parent)">Delete layout</button></span></div><div class="pull-right" data-bind="visible: slcVwmWidgout" style="margin-left: 32px"><select class="input-sm" data-bind="options: listOfVwmWidgout, optionsText: 'name', value: slcVwmWidgout"></select></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><select class="input-sm" data-bind="options: widgoutTemplates, optionsText: 'name', value: slcWidgoutTemplate, optionsCaption: 'Choose scheme...'"></select><button class="btn btn-sm btn-default" data-bind="enable: slcWidgoutTemplate, click: postWidgout">Create new layout</button></div></div></div><div data-bind="with: slcVwmWidgout"><div class="row" data-bind="foreach: listOfVwmWidgock"><div data-bind="css: mdlWidgock.columnStyle"><div data-bind="foreach: listOfVwmWidget"><div class="widget-tile"><div class="clearfix widget-tile-header"><div class="pull-left"><div data-bind="ifnot: isVisSettingPanel"><b data-bind="text: mdlWidget.name"></b></div><div data-bind="if: isVisSettingPanel"><input type="text" class="input-sm" data-bind="value: mdlWidget.name"></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="ifnot: isVisSettingPanel"><button class="btn btn-xs btn-default" type="button" data-bind="click: showVisSettingPanel"><i class="glyphicon glyphicon-cog" title="Settings"></i></button> <!-- parent: vwmWidgock --> <button class="btn btn-xs btn-default" type="button" data-bind="click: $parent.removeVwmWidget.bind($parent)"><i class="glyphicon glyphicon-remove" title="Delete"></i></button></div><div data-bind="if: isVisSettingPanel"><button class="btn btn-sm btn-success" type="button" data-bind="click: saveVwmWidget">Save</button></div></div></div><div class="widget-tile-content"><!-- current: vwmWidget from foreach --><div data-bind="template: { name: mdlWidget.widgetTpl, data: $data, as: 'vwmWidget', afterRender: afterRenderWidget.bind($data) }"></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="widget-tile"><div class="widget-empty"><!--sectionIdList--><!-- current: vwmWidgock --><!-- parent: vwmWidgout --><!-- parents[1]: vwmStage --><select class="input-sm" data-bind="options: dictOfKeyOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcKeyOfStage"></select><select class="input-sm" data-bind="options: dictOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcCntxStage"></select><select class="input-sm" data-bind="options: listOfPatternOfSection, optionsText: 'name', value: slcStagePatternForWidget, optionsCaption: 'choose widget...'"></select><button class="btn btn-default btn-sm" type="button" data-bind="click: addVwmWidget, enable: canAddVwmWidget"><i class="glyphicon glyphicon-plus"></i> Add</button></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcStageViewFmgr"><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="clearfix" data-bind="hidden: slcVwmSectionFmg"><div data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.sectionPattern --><!-- ko if: mdlSection.sectionPattern().isFolder --><div class="pull-left min-margin"><div class="stage-folder" data-bind="css: {'active': isSlcVwmSectionFmg }, click: $parent.selectVwmSectionFmg.bind($parent)"><div><span data-bind="with: mdlSection.sectionPattern"><i class="wfm-icon stage-folder__wfm-icon" data-bind="css: iconClass"></i></span> <span class="stage-folder__folder-icon"><i class="glyphicon glyphicon-folder-open"></i></span></div><div data-bind="with: mdlSection.sectionPattern"><span class="stage-folder__name" data-bind="text: name"></span></div></div></div><!-- /ko --><!-- /ko --></div></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div><div data-bind="if: slcVwmSectionWrk"><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wegion-summary'"><div><!--current: vwmStage (company...well)--><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><div data-bind="if: tpe"><div class="row"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><span data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'MultiLine'"><span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'DateLine'"><span data-bind="unix: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span></span> <span data-bind="if: tpe === 'BoolLine'"><span data-bind="text: $parent[clientId]"></span></span></div></div></div></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="clearfix"><div class="pull-right"><!-- parent: vwmEmployee; parents[1]: vwmUserProfile --><button class="btn btn-sm btn-danger" data-bind="click: function() { getParentVwm().removeVwmChild($data); }"><i class="glyphicon glyphicon-remove-sign"></i> Delete</button></div><div class="pull-right min-right-margin" data-bind="with: mdlStage"><button class="btn btn-sm btn-success" data-bind="click: save"><i class="glyphicon glyphicon-saved"></i> Save</button></div></div><div class="min-top-margin" data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><!-- Properties without type do not showed in this list: not-editable properties --><div class="row" data-bind="if: tpe"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><input class="form-control" type="text" data-bind="value: $parent[clientId], attr: {maxlength: addtData.maxLength}"></span> <span data-bind="if: tpe === 'MultiLine'"><textarea class="form-control" rows="5" data-bind="value: $parent[clientId]"></textarea></span> <span data-bind="if: tpe === 'DateLine'"><input class="input-sm" type="text" size="10" data-bind="datepicker: $parent[clientId], datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <span data-bind="if: tpe === 'BoolLine'"><input type="checkbox" data-bind="checked: $parent[clientId]"></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span> <!-- parent: mdlStage (only for stages with image types, like company logo) --> <!-- parents[1]: vwmStage --> <button class="btn btn-default btn-sm" data-bind="click: $parents[1].selectImgFileSpec.bind($parents[1])">Select image...</button> <span data-bind="if: $parent[clientId]"><!-- parent: mdlStage --><button class="btn btn-default btn-sm" data-bind="click: $parent.deleteImgFileSpec.bind($parent)">Delete image</button></span></span></div></div></div></div></div></div></div></div></div></div></div><div data-bind="with: slcVwmChild"><!-- current: vwmWield--><div data-bind="ifnot: slcVwmChild"><!-- current: vwmStage (wroup ... company, exclude the well stage) --><div class="wfm-section-panel clearfix"><div class="pull-left"><ul class="nav nav-pills" data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.isVisibleAsView --><li><div class="wfm-section-item" data-bind="click: $parent.selectVwmSectionWrk.bind($parent), css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div></div></li><!-- /ko --></ul></div></div><div class="wfm-top-tab-panel dashboard-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewDashboard"><i class="glyphicon glyphicon-th"></i>&nbsp;&nbsp;<span>Dashboard</span></button></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="wfm-top-tab-panel fmgr-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewFmgr"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<span>File manager</span></button></div><!-- current: vwmStage (vwmUpro, vwmCompany... vwmWell) --><div class="modal fade" role="dialog" tabindex="-1" aria-hidden="true" data-bind="modalWindow: {isOpenFileMgr: fmgrModal.isShowed, fileMgrHiddenCallback: fmgrModal.hide.bind(fmgrModal)}"><div class="modal-dialog modal-fullscreen"><div class="modal-content full-min-height"><div class="modal-header clearfix"><h4 class="modal-title pull-left" data-bind="text: fmgrModal.okDescription"></h4><div class="pull-right min-right-margin"><span class="min-right-margin" style="color:red" data-bind="text: fmgrModal.okError"></span> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.okCallback()">OK</button> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.hide.bind(fmgrModal)">Cancel</button></div></div><div class="modal-body"><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div></div></div><div class="tab-content-pad"><!-- current: vwmWield --><div data-bind="if: isNullSlcVwmSectionWrk"><div data-bind="if: isSlcStageViewDashboard"><!-- current: vwmStage (from company to well) --><div><div data-bind="ifnot: mdlStage.isLoadedWidgouts">Dashboard loading...</div><div data-bind="if: mdlStage.isLoadedWidgouts"><div data-bind="ifnot: mdlStage.widgouts.hasItems">Dashboard is empty</div><div class="clearfix"><div class="pull-left"><span data-bind="with: slcVwmWidgout"><span data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm" type="text" data-bind="value: mdlWidgout.name"></span> <span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: mdlWidgout.name"></span></span> <button class="btn btn-link" data-bind="click: preGenerateReport"><i class="glyphicon glyphicon-book"></i> Generate a report</button> <span data-bind="with: reportFileSpec"><button class="btn btn-sm btn-default" data-bind="click: $parent.downloadWithClean.bind($parent)"><!-- <span data-bind="text: namePlusExtension"></span> --><i class="glyphicon glyphicon-download-alt"></i> Download</button> <small>(saved in a Report folder)</small></span> <span data-bind="visible: isReportInProgress"><span class="loader-line-small"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: slcVwmWidgout"><button class="btn btn-sm btn-default" data-bind="click: $parent.removeVwmWidgout.bind($parent)">Delete layout</button></span></div><div class="pull-right" data-bind="visible: slcVwmWidgout" style="margin-left: 32px"><select class="input-sm" data-bind="options: listOfVwmWidgout, optionsText: 'name', value: slcVwmWidgout"></select></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><select class="input-sm" data-bind="options: widgoutTemplates, optionsText: 'name', value: slcWidgoutTemplate, optionsCaption: 'Choose scheme...'"></select><button class="btn btn-sm btn-default" data-bind="enable: slcWidgoutTemplate, click: postWidgout">Create new layout</button></div></div></div><div data-bind="with: slcVwmWidgout"><div class="row" data-bind="foreach: listOfVwmWidgock"><div data-bind="css: mdlWidgock.columnStyle"><div data-bind="foreach: listOfVwmWidget"><div class="widget-tile"><div class="clearfix widget-tile-header"><div class="pull-left"><div data-bind="ifnot: isVisSettingPanel"><b data-bind="text: mdlWidget.name"></b></div><div data-bind="if: isVisSettingPanel"><input type="text" class="input-sm" data-bind="value: mdlWidget.name"></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="ifnot: isVisSettingPanel"><button class="btn btn-xs btn-default" type="button" data-bind="click: showVisSettingPanel"><i class="glyphicon glyphicon-cog" title="Settings"></i></button> <!-- parent: vwmWidgock --> <button class="btn btn-xs btn-default" type="button" data-bind="click: $parent.removeVwmWidget.bind($parent)"><i class="glyphicon glyphicon-remove" title="Delete"></i></button></div><div data-bind="if: isVisSettingPanel"><button class="btn btn-sm btn-success" type="button" data-bind="click: saveVwmWidget">Save</button></div></div></div><div class="widget-tile-content"><!-- current: vwmWidget from foreach --><div data-bind="template: { name: mdlWidget.widgetTpl, data: $data, as: 'vwmWidget', afterRender: afterRenderWidget.bind($data) }"></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="widget-tile"><div class="widget-empty"><!--sectionIdList--><!-- current: vwmWidgock --><!-- parent: vwmWidgout --><!-- parents[1]: vwmStage --><select class="input-sm" data-bind="options: dictOfKeyOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcKeyOfStage"></select><select class="input-sm" data-bind="options: dictOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcCntxStage"></select><select class="input-sm" data-bind="options: listOfPatternOfSection, optionsText: 'name', value: slcStagePatternForWidget, optionsCaption: 'choose widget...'"></select><button class="btn btn-default btn-sm" type="button" data-bind="click: addVwmWidget, enable: canAddVwmWidget"><i class="glyphicon glyphicon-plus"></i> Add</button></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcStageViewFmgr"><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="clearfix" data-bind="hidden: slcVwmSectionFmg"><div data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.sectionPattern --><!-- ko if: mdlSection.sectionPattern().isFolder --><div class="pull-left min-margin"><div class="stage-folder" data-bind="css: {'active': isSlcVwmSectionFmg }, click: $parent.selectVwmSectionFmg.bind($parent)"><div><span data-bind="with: mdlSection.sectionPattern"><i class="wfm-icon stage-folder__wfm-icon" data-bind="css: iconClass"></i></span> <span class="stage-folder__folder-icon"><i class="glyphicon glyphicon-folder-open"></i></span></div><div data-bind="with: mdlSection.sectionPattern"><span class="stage-folder__name" data-bind="text: name"></span></div></div></div><!-- /ko --><!-- /ko --></div></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div><div data-bind="if: slcVwmSectionWrk"><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wield-summary'"><div><!--current: vwmStage (company...well)--><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><div data-bind="if: tpe"><div class="row"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><span data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'MultiLine'"><span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'DateLine'"><span data-bind="unix: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span></span> <span data-bind="if: tpe === 'BoolLine'"><span data-bind="text: $parent[clientId]"></span></span></div></div></div></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="clearfix"><div class="pull-right"><!-- parent: vwmEmployee; parents[1]: vwmUserProfile --><button class="btn btn-sm btn-danger" data-bind="click: function() { getParentVwm().removeVwmChild($data); }"><i class="glyphicon glyphicon-remove-sign"></i> Delete</button></div><div class="pull-right min-right-margin" data-bind="with: mdlStage"><button class="btn btn-sm btn-success" data-bind="click: save"><i class="glyphicon glyphicon-saved"></i> Save</button></div></div><div class="min-top-margin" data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><!-- Properties without type do not showed in this list: not-editable properties --><div class="row" data-bind="if: tpe"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><input class="form-control" type="text" data-bind="value: $parent[clientId], attr: {maxlength: addtData.maxLength}"></span> <span data-bind="if: tpe === 'MultiLine'"><textarea class="form-control" rows="5" data-bind="value: $parent[clientId]"></textarea></span> <span data-bind="if: tpe === 'DateLine'"><input class="input-sm" type="text" size="10" data-bind="datepicker: $parent[clientId], datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <span data-bind="if: tpe === 'BoolLine'"><input type="checkbox" data-bind="checked: $parent[clientId]"></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span> <!-- parent: mdlStage (only for stages with image types, like company logo) --> <!-- parents[1]: vwmStage --> <button class="btn btn-default btn-sm" data-bind="click: $parents[1].selectImgFileSpec.bind($parents[1])">Select image...</button> <span data-bind="if: $parent[clientId]"><!-- parent: mdlStage --><button class="btn btn-default btn-sm" data-bind="click: $parent.deleteImgFileSpec.bind($parent)">Delete image</button></span></span></div></div></div></div></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wield-map'"><div><!--context: vwmStage (Wield)--><div class="row"><div class="col-md-9"><!--view: maps--><div><div data-bind="ifnot: slcVwmMapOfWield"><div class="alert alert-warning">No maps</div></div><div data-bind="with: slcVwmMapOfWield"><!-- view: map --><div style="position: absolute"><div class="min-top-margin min-left-margin" data-bind="foreach: mapTools"><!-- ko if: $root.isEmployeeInEditMode() || isPublicTool --><button class="btn btn-sm btn-default" data-bind="click: $parent.selectMapTool.bind($parent), css: { 'active': isSlc}"><i data-bind="css: icon, attr: {title: name}"></i></button> <!-- /ko --></div></div><div class="oil-map-wrap"><!-- current: vwmMapOfWield --><svg class="oil-map-svg" version="1.1" width="100%" viewbox="0 0 1200 600" data-bind="attr: { height: svgMap.sizePx.height }, svgResponsive: { koSvgWidth: svgMap.sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu}"><!-- Draw wrap rectange: just for a gray background --><rect class="oil-map-svg__back-rect" width="1200" height="600"></rect><g data-bind="attr: { 'transform': ('translate(' + svgMap.imgStartVgX + ','+ svgMap.imgStartVgY +')') }"><g data-bind="svgZoomBehavior: svgMap.baseZoomBhvr"><g data-bind="attr: { 'transform' : svgMap.zoomTransformAttr }"><g data-bind="mapBinding: mapBindingOptions"><!--inner group for transforming and scale group of next elements: image, well markers and areas--></g></g></g></g><!-- ko with: svgMap --><g class="svg-zoom-controls"><g transform="translate(1050,10)"><path transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle></g><g transform="translate(1050,60)"><path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle></g></g><!-- /ko --></svg></div></div></div></div><div class="col-md-3"><div class="clearfix" data-bind="if: $root.isEmployeeInEditMode"><h4 class="pull-right"><button class="btn btn-default btn-xs" data-bind="click: createMapFromFile"><i class="glyphicon glyphicon-plus"></i> Add map...</button></h4></div><div><!-- ko foreach: sortedListOfVwmMapOfWield --><div class="min-top-margin"><div class="clearfix"><div class="pull-left"><i class="glyphicon glyphicon-circle-arrow-down" data-bind="visible: isSlcVwmMapOfWield"></i> <i class="glyphicon glyphicon-circle-arrow-right" data-bind="hidden: isSlcVwmMapOfWield"></i> <span class="link-view pointer" data-bind="click: $parent.selectVwmMapOfWield.bind($parent)"><span data-bind="with: mdlMapOfWield"><span data-bind="text: name, attr: { title: description }"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: mdlMapOfWield"><!-- TODO: replace method --><button class="btn btn-xs btn-default" data-bind="click: editWellFieldMap"><i class="glyphicon glyphicon-edit link-icon"></i></button></span> <!-- parent: vwmWield --> <button class="btn btn-xs btn-default" data-bind="click: $parent.removeVwmMapOfWield.bind($parent)"><i class="glyphicon glyphicon-remove link-icon"></i></button></div></div><div data-bind="slideVisible: isSlcVwmMapOfWield"><div data-bind="foreach: listVwmWellMarker"><div class="min-left-margin"><div class="clearfix"><div class="pull-left"><span data-bind="visible: mdlWellMarker.isDrilled"><i class="glyphicon glyphicon-tint"></i></span> <span data-bind="hidden: mdlWellMarker.isDrilled"><i class="glyphicon glyphicon-tint text-muted"></i></span> <span class="link-view pointer" data-bind="click: $parent.selectVwmWellMarker.bind($parent)"><span data-bind="text: mdlWellMarker.wellName, css: { 'bld': isSlc }"></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs btn-default" data-bind="click: $parent.removeVwmWellMarker.bind($parent)"><i class="glyphicon glyphicon-remove link-icon"></i></button></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: vwmWellMarkerToAdd"><div data-bind="slideVisible: coords"><div class="well min-left-margin"><div data-bind="with: coords">x: <span data-bind="prec: { value: $data[0] }"></span> y: <span data-bind="prec: { value: $data[1] }"></span></div><div><select class="input-sm" data-bind="options: $parent.mdlMapOfWield.outWellsOfWield, optionsText: 'Name', optionsValue: 'id', value: idOfWell, optionsCaption: 'select well...'"></select></div><div class="checkbox"><label><input type="checkbox" data-bind="checked: isDrilled">Is active</label></div><div class="min-top-margin"><button class="btn btn-sm btn-success" data-bind="enable: idOfWell, click: $parent.addWellMarkerToMap.bind($parent)">Add</button> <button class="btn btn-sm btn-default" data-bind="click: $parent.cancelAddingWellMarker.bind($parent)">Cancel</button></div></div></div></div></div><div data-bind="foreach: handledAreas"><div style="margin-left: 16px"><i class="glyphicon glyphicon-picture"></i> <span class="min-left-margin" data-bind="text: Name"></span></div></div></div></div><!-- /ko --></div></div></div><!--<div>
    <h4>Map help:</h4>
    <div>
      <h5>Scale:</h5>
      <div>1. Select 'Ruler' and specify two points on the map</div>
      <div>2. Press "Set scale" and enter actual distance between this points (in meters)</div>
    </div>
    <div>
      <h5>Point:</h5>
      <label>Select 'Add well' button and specify well point on the map</label>
    </div>
    <div>
      <h5>Area:</h5>
      <div>1. Select "Ruler" and specify few points on the map</div>
      <div>2. Click "Add area" on the map toolbar</div>
      <div>3. Hover on selected area to get the result (square meters)</div>
    </div>
  </div>--></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wield-pvt'"><div>PVT</div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wield-reservoir'"><div>Import data to File Manager<br>Specify data: Permeability – PERM, Porosity – PORO, etc.<br>Run statistic tool app on ipad, sync data base<br>Run statistic calcs, upload data to WFM</div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wield-potential'"><div>Potential</div></div></div></div></div><div data-bind="with: slcVwmChild"><!-- current: vwmWroup --><div data-bind="ifnot: slcVwmChild"><!-- current: vwmStage (wroup ... company, exclude the well stage) --><div class="wfm-section-panel clearfix"><div class="pull-left"><ul class="nav nav-pills" data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.isVisibleAsView --><li><div class="wfm-section-item" data-bind="click: $parent.selectVwmSectionWrk.bind($parent), css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div></div></li><!-- /ko --></ul></div></div><div class="wfm-top-tab-panel dashboard-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewDashboard"><i class="glyphicon glyphicon-th"></i>&nbsp;&nbsp;<span>Dashboard</span></button></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="wfm-top-tab-panel fmgr-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewFmgr"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<span>File manager</span></button></div><!-- current: vwmStage (vwmUpro, vwmCompany... vwmWell) --><div class="modal fade" role="dialog" tabindex="-1" aria-hidden="true" data-bind="modalWindow: {isOpenFileMgr: fmgrModal.isShowed, fileMgrHiddenCallback: fmgrModal.hide.bind(fmgrModal)}"><div class="modal-dialog modal-fullscreen"><div class="modal-content full-min-height"><div class="modal-header clearfix"><h4 class="modal-title pull-left" data-bind="text: fmgrModal.okDescription"></h4><div class="pull-right min-right-margin"><span class="min-right-margin" style="color:red" data-bind="text: fmgrModal.okError"></span> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.okCallback()">OK</button> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.hide.bind(fmgrModal)">Cancel</button></div></div><div class="modal-body"><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div></div></div><div class="tab-content-pad"><!-- current: vwmWroup --><div data-bind="if: isNullSlcVwmSectionWrk"><div data-bind="if: isSlcStageViewDashboard"><!-- current: vwmStage (from company to well) --><div><div data-bind="ifnot: mdlStage.isLoadedWidgouts">Dashboard loading...</div><div data-bind="if: mdlStage.isLoadedWidgouts"><div data-bind="ifnot: mdlStage.widgouts.hasItems">Dashboard is empty</div><div class="clearfix"><div class="pull-left"><span data-bind="with: slcVwmWidgout"><span data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm" type="text" data-bind="value: mdlWidgout.name"></span> <span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: mdlWidgout.name"></span></span> <button class="btn btn-link" data-bind="click: preGenerateReport"><i class="glyphicon glyphicon-book"></i> Generate a report</button> <span data-bind="with: reportFileSpec"><button class="btn btn-sm btn-default" data-bind="click: $parent.downloadWithClean.bind($parent)"><!-- <span data-bind="text: namePlusExtension"></span> --><i class="glyphicon glyphicon-download-alt"></i> Download</button> <small>(saved in a Report folder)</small></span> <span data-bind="visible: isReportInProgress"><span class="loader-line-small"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: slcVwmWidgout"><button class="btn btn-sm btn-default" data-bind="click: $parent.removeVwmWidgout.bind($parent)">Delete layout</button></span></div><div class="pull-right" data-bind="visible: slcVwmWidgout" style="margin-left: 32px"><select class="input-sm" data-bind="options: listOfVwmWidgout, optionsText: 'name', value: slcVwmWidgout"></select></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><select class="input-sm" data-bind="options: widgoutTemplates, optionsText: 'name', value: slcWidgoutTemplate, optionsCaption: 'Choose scheme...'"></select><button class="btn btn-sm btn-default" data-bind="enable: slcWidgoutTemplate, click: postWidgout">Create new layout</button></div></div></div><div data-bind="with: slcVwmWidgout"><div class="row" data-bind="foreach: listOfVwmWidgock"><div data-bind="css: mdlWidgock.columnStyle"><div data-bind="foreach: listOfVwmWidget"><div class="widget-tile"><div class="clearfix widget-tile-header"><div class="pull-left"><div data-bind="ifnot: isVisSettingPanel"><b data-bind="text: mdlWidget.name"></b></div><div data-bind="if: isVisSettingPanel"><input type="text" class="input-sm" data-bind="value: mdlWidget.name"></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="ifnot: isVisSettingPanel"><button class="btn btn-xs btn-default" type="button" data-bind="click: showVisSettingPanel"><i class="glyphicon glyphicon-cog" title="Settings"></i></button> <!-- parent: vwmWidgock --> <button class="btn btn-xs btn-default" type="button" data-bind="click: $parent.removeVwmWidget.bind($parent)"><i class="glyphicon glyphicon-remove" title="Delete"></i></button></div><div data-bind="if: isVisSettingPanel"><button class="btn btn-sm btn-success" type="button" data-bind="click: saveVwmWidget">Save</button></div></div></div><div class="widget-tile-content"><!-- current: vwmWidget from foreach --><div data-bind="template: { name: mdlWidget.widgetTpl, data: $data, as: 'vwmWidget', afterRender: afterRenderWidget.bind($data) }"></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="widget-tile"><div class="widget-empty"><!--sectionIdList--><!-- current: vwmWidgock --><!-- parent: vwmWidgout --><!-- parents[1]: vwmStage --><select class="input-sm" data-bind="options: dictOfKeyOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcKeyOfStage"></select><select class="input-sm" data-bind="options: dictOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcCntxStage"></select><select class="input-sm" data-bind="options: listOfPatternOfSection, optionsText: 'name', value: slcStagePatternForWidget, optionsCaption: 'choose widget...'"></select><button class="btn btn-default btn-sm" type="button" data-bind="click: addVwmWidget, enable: canAddVwmWidget"><i class="glyphicon glyphicon-plus"></i> Add</button></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcStageViewFmgr"><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="clearfix" data-bind="hidden: slcVwmSectionFmg"><div data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.sectionPattern --><!-- ko if: mdlSection.sectionPattern().isFolder --><div class="pull-left min-margin"><div class="stage-folder" data-bind="css: {'active': isSlcVwmSectionFmg }, click: $parent.selectVwmSectionFmg.bind($parent)"><div><span data-bind="with: mdlSection.sectionPattern"><i class="wfm-icon stage-folder__wfm-icon" data-bind="css: iconClass"></i></span> <span class="stage-folder__folder-icon"><i class="glyphicon glyphicon-folder-open"></i></span></div><div data-bind="with: mdlSection.sectionPattern"><span class="stage-folder__name" data-bind="text: name"></span></div></div></div><!-- /ko --><!-- /ko --></div></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div><div data-bind="if: slcVwmSectionWrk"><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wroup-summary'"><div><!--current: vwmStage (company...well)--><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><div data-bind="if: tpe"><div class="row"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><span data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'MultiLine'"><span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'DateLine'"><span data-bind="unix: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span></span> <span data-bind="if: tpe === 'BoolLine'"><span data-bind="text: $parent[clientId]"></span></span></div></div></div></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="clearfix"><div class="pull-right"><!-- parent: vwmEmployee; parents[1]: vwmUserProfile --><button class="btn btn-sm btn-danger" data-bind="click: function() { getParentVwm().removeVwmChild($data); }"><i class="glyphicon glyphicon-remove-sign"></i> Delete</button></div><div class="pull-right min-right-margin" data-bind="with: mdlStage"><button class="btn btn-sm btn-success" data-bind="click: save"><i class="glyphicon glyphicon-saved"></i> Save</button></div></div><div class="min-top-margin" data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><!-- Properties without type do not showed in this list: not-editable properties --><div class="row" data-bind="if: tpe"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><input class="form-control" type="text" data-bind="value: $parent[clientId], attr: {maxlength: addtData.maxLength}"></span> <span data-bind="if: tpe === 'MultiLine'"><textarea class="form-control" rows="5" data-bind="value: $parent[clientId]"></textarea></span> <span data-bind="if: tpe === 'DateLine'"><input class="input-sm" type="text" size="10" data-bind="datepicker: $parent[clientId], datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <span data-bind="if: tpe === 'BoolLine'"><input type="checkbox" data-bind="checked: $parent[clientId]"></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span> <!-- parent: mdlStage (only for stages with image types, like company logo) --> <!-- parents[1]: vwmStage --> <button class="btn btn-default btn-sm" data-bind="click: $parents[1].selectImgFileSpec.bind($parents[1])">Select image...</button> <span data-bind="if: $parent[clientId]"><!-- parent: mdlStage --><button class="btn btn-default btn-sm" data-bind="click: $parent.deleteImgFileSpec.bind($parent)">Delete image</button></span></span></div></div></div></div></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wroup-potential'"><!-- current: vwmStage (wroup) --><div><h4>Monthly potential</h4><div class="table-responsive"><table class="table table-condensed table-hover"><thead><tr><th class="text-center">Well</th><th class="text-center">Test date</th><!-- ko foreach: listOfVwmWfmParameterOfWroup --><th class="text-center" data-bind="with: mdlWfmParameterOfWroup.wfmParameter"><span data-bind="text: id"></span> <span data-bind="visible: uom"><br><span data-bind="text: uom"></span></span></th><!-- /ko --></tr></thead><tbody><!-- ko foreach: {data: listOfVwmChild, as: 'vwmWell'} --><tr><td class="text-center"><div><span data-bind="text: vwmWell.mdlStage.Name"></span></div><div><small class="text-success" data-bind="visible: vwmWell.mdlStage.IsActive">Active</small> <small class="text-danger" data-bind="hidden: vwmWell.mdlStage.IsActive">Inactive</small></div></td><td class="text-center"><div data-bind="with: vwmWell.mdlStage.lastApprovedTestScope"><span data-bind="css: {'text-muted': vwmWell.mdlStage.IsActive() === false }"><span data-bind="text: startUnixTimeDateView"></span></span></div></td><!-- parent: vwmWroup --><!-- ko foreach: { data: $parent.listOfVwmWfmParameterOfWroup, as: 'vwmWfmPrm'} --><td class="text-center"><div data-bind="with: vwmWell.mdlStage.lastApprovedTestScope"><span data-bind="css: {'text-muted': vwmWell.mdlStage.IsActive() === false }"><span data-bind="text: testDataTotal()[vwmWfmPrm.mdlWfmParameterOfWroup.wfmParameterId]"></span></span></div></td><!-- /ko --><!-- /ko --></tr><!-- /ko --></tbody><tfoot><tr class="success"><td class="text-center">Total</td><td><!-- Date --></td><!-- ko foreach: { data: listOfVwmWfmParameterOfWroup, as: 'vwmWfmPrm'} --><td class="text-center"><span data-bind="text: $parent.mdlStage.totalTestScopeOfWells()[vwmWfmPrm.mdlWfmParameterOfWroup.wfmParameterId]"></span></td><!-- /ko --></tr></tfoot></table></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wroup-monitoring'"><!-- current: vwmStage (wroup) --><div><div class="clearfix"><h4 class="pull-left">Platform monitoring:</h4><div class="pull-left min-left-margin"><div data-bind="hidden: isMonthlyProcentView"><input class="input-sm" size="10" data-bind="datepicker: monitoringUnixTime, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></div><h4 data-bind="visible: isMonthlyProcentView"><span>monthly % of change</span></h4></div><div class="pull-right"><div class="btn-group"><button class="btn btn-default btn-sm" type="button" data-bind="css: { 'active': !isMonthlyProcentView() }, click: turnOffMonthlyProcentView">Well values</button> <button class="btn btn-default btn-sm" type="button" data-bind="css: { 'active': isMonthlyProcentView }, click: turnOnMonthlyProcentView">Monthly % of change</button></div></div></div><div data-bind="if: mdlStage.isLoadedListOfWfmParameterOfWroup"><div data-bind="ifnot: listOfMonitoredVwmParams.hasItems">No monitored parameters. Please select parameters in the Units section of the well group.</div><div class="table-responsive" data-bind="if: listOfMonitoredVwmParams().length > 0"><table class="table table-condensed"><thead><tr><th class="text-center">Well</th><!-- ko foreach: listOfMonitoredVwmParams --><th class="text-center" data-bind="with: mdlWfmParameterOfWroup.wfmParameter"><span data-bind="text: id"></span> <span data-bind="visible: uom"><br><span data-bind="text: uom"></span></span></th><!-- /ko --></tr></thead><tbody><!-- ko foreach: {data: listOfVwmChild, as: 'vwmWell'} --><tr><td class="text-center"><div><button class="btn btn-xs btn-link" type="button" data-bind="click: $parent.goToMonitoringOfWell.bind($parent)"><span class="bld" data-bind="text: vwmWell.mdlStage.Name"></span></button></div><div><small class="text-success" data-bind="visible: vwmWell.mdlStage.IsActive">Active</small> <small class="text-danger" data-bind="hidden: vwmWell.mdlStage.IsActive">Inactive</small></div></td><!-- current: vwmWell; parent: vwmWroup --><!-- ko ifnot: $parent.isMonthlyProcentView --><!-- Create record if it's not exists --><!-- ko ifnot: vwmWell.monitoringRecordForWroup --><td colspan="100%"><span data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: vwmWell"><button class="btn btn-sm btn-default" data-bind="click: createMonitoringRecord">Create record</button> <!-- TODO: #42! show this button only for demo cabinet --> <span><button class="btn btn-sm btn-default" data-bind="click: createDemoMonitoringRecords">Generate records for last month</button></span></span></span></td><!-- /ko --><!-- ko if: vwmWell.monitoringRecordForWroup --><!-- ko foreach: { data: $parent.listOfMonitoredVwmParams, as: 'vwmPrm' } --><!-- ko with: vwmWell.monitoringRecordForWroup --><td class="text-center" data-bind="css: diffClassDict[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]"><div data-bind="attr: { title: 'Month average: ' + aveDict[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]() }"><div data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: dict[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]"></span></div><div data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm input-narrow" type="text" size="10" data-bind="value: dict[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]"></div></div></td><!-- /ko --><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko if: $parent.isMonthlyProcentView --><!-- ko foreach: { data: $parent.listOfMonitoredVwmParams, as: 'vwmPrm' } --><td class="text-center"><div><span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="with: vwmWell.mdlStage.objProcentBorders"><span data-bind="with: $data[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]"><span data-bind="text: procent"></span></span></span></span> <span data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: vwmWell.mdlStage.objProcentBorders"><span data-bind="with: $data[vwmPrm.mdlWfmParameterOfWroup.wfmParameterId]">%<input class="input-sm input-width-md" type="text" size="10" data-bind="value: procent"><span class="loader-line-small" data-bind="visible: isSaveProgress" style="position: absolute"></span></span></span></span></div></td><!-- /ko --><!-- /ko --></tr><!-- /ko --></tbody></table></div></div><!-- TODO: #34! Stream data: the same for well tools (separators, flares, etc.) --></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'wroup-unit'"><!-- current: vwmStage (wroup) --><div><div class="clearfix"><div class="pull-left"><h4>Units:</h4></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><button type="button" class="btn btn-sm btn-default" data-bind="click: addWellGroupWfmParameter, enable: slcWfmParameter">Add</button></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><select class="form-control input-sm" data-bind="options: unselectedWfmParameterList, optionsText: 'name', value: slcWfmParameter, optionsCaption: 'Add new parameter...'"></select></div></div><div class="row"><div class="col-sm-4"><span class="bld">Id - Name</span></div><div class="col-sm-2"><span class="bld">Color</span></div><div class="col-sm-2"><span class="bld">UoM</span></div><div class="col-sm-2"><span class="bld">Is cumulative</span></div><div class="col-sm-2"><span class="bld">Is monitored</span></div></div><div data-bind="foreach: listOfVwmWfmParameterOfWroup"><div class="row min-top-margin"><div class="col-sm-4"><div><span data-bind="with: mdlWfmParameterOfWroup"><span data-bind="with: wfmParameter"><span data-bind="text: id"></span> - <span data-bind="text: name"></span></span></span> <span data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-default btn-xs" type="button" data-bind="click: $parent.removeVwmWfmParameterOfWroup.bind($parent)"><i class="glyphicon glyphicon-remove"></i></button></span></div></div><div class="col-sm-2" data-bind="with: mdlWfmParameterOfWroup"><i class="glyphicon glyphicon-bookmark" data-bind="style: { color: color }"></i> <span data-bind="text: color"></span></div><div class="col-sm-2" data-bind="with: mdlWfmParameterOfWroup"><span data-bind="text: uom"></span></div><div class="col-sm-2" data-bind="with: mdlWfmParameterOfWroup"><div data-bind="with: wfmParameter"><input type="checkbox" data-bind="checked: isCumulative" disabled="disabled"></div></div><div class="col-sm-2" data-bind="with: mdlWfmParameterOfWroup"><input type="checkbox" data-bind="checked: isMonitored, enable: $root.isEmployeeInEditMode"></div></div></div><!-- /ko --><!-- TODO: feat: slide#9 #HM! --><!-- Plot button: select date range and show graph using table data of selected well (with procent shlafe) --><!-- Stream data: the same for well tools (separators, flares, etc.) --></div></div></div></div></div><div data-bind="with: slcVwmChild"><!-- current: vwmWell --><!-- current: vwmStage (well) --><div class="wfm-section-panel clearfix"><div class="pull-left"><ul class="nav nav-pills" data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.isVisibleAsView --><!-- Ugly hack to join few sections --><!-- ko ifnot: mdlSection.isSectionPatternIdIsWellPerfomance --><!-- ko ifnot: mdlSection.isSectionPatternIdIsWellSketch --><!-- ko ifnot: mdlSection.isSectionPatternIdIsWellVolume --><li><div class="wfm-section-item" data-bind="click: $parent.selectVwmSectionWrk.bind($parent), css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div></div></li><!-- /ko --><!-- /ko --><!-- /ko --><!-- ko if: mdlSection.isSectionPatternIdIsWellSketch --><li class="dropup"><div class="dropdown-toggle" data-toggle="dropdown" data-bind="drpdwn: {}"><div class="wfm-section-item" data-bind="css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div><div class="wfm-section-item__caret"><span class="caret"></span></div></div></div><ul class="dropdown-menu"><li><div data-bind="click: $parent.selectVwmSectionWrkById.bind($parent, 'well-volume')"><span>Volumes</span></div><div data-bind="click: $parent.selectVwmSectionWrk.bind($parent)"><span>Sketch</span></div></li></ul></li><!-- /ko --><!-- ko if: mdlSection.isSectionPatternIdIsWellPerfomance --><li class="dropup"><div class="dropdown-toggle" data-toggle="dropdown" data-bind="drpdwn: {}"><div class="wfm-section-item" data-bind="css: {'wfm-section-item_state_active' : isSlcVwmSectionWrk }"><div data-bind="with: mdlSection.sectionPattern"><div class="wfm-section-item__caption"><span data-bind="text: name"></span></div><div><i class="wfm-icon" data-bind="css: iconClass"></i></div></div><div class="wfm-section-item__caret"><span class="caret"></span></div></div></div><ul class="dropdown-menu" data-bind="foreach: $root.mdlWorkspace.wfmParamSquadList"><li><!-- current: squad --><!-- parent: vwmWellSection --><!-- parents[1]: vwmWell --><div data-bind="click: function() { $parents[1].selectVwmSectionWrk($parent); $parents[1].mainVwmPerfomanceOfWell.selectAttrGroupId($data.id); }"><span data-bind="text: id"></span></div></li></ul></li><!-- /ko --><!-- /ko --></ul></div></div><div class="wfm-top-tab-panel dashboard-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewDashboard"><i class="glyphicon glyphicon-th"></i>&nbsp;&nbsp;<span>Dashboard</span></button></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="wfm-top-tab-panel fmgr-arousal"><button class="btn btn-inverse btn-sm" type="button" data-bind="click: showStageViewFmgr"><i class="glyphicon glyphicon-folder-open"></i>&nbsp;&nbsp;<span>File manager</span></button></div><!-- current: vwmStage (vwmUpro, vwmCompany... vwmWell) --><div class="modal fade" role="dialog" tabindex="-1" aria-hidden="true" data-bind="modalWindow: {isOpenFileMgr: fmgrModal.isShowed, fileMgrHiddenCallback: fmgrModal.hide.bind(fmgrModal)}"><div class="modal-dialog modal-fullscreen"><div class="modal-content full-min-height"><div class="modal-header clearfix"><h4 class="modal-title pull-left" data-bind="text: fmgrModal.okDescription"></h4><div class="pull-right min-right-margin"><span class="min-right-margin" style="color:red" data-bind="text: fmgrModal.okError"></span> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.okCallback()">OK</button> <button class="btn btn-primary btn-sm" type="button" data-bind="click: fmgrModal.hide.bind(fmgrModal)">Cancel</button></div></div><div class="modal-body"><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div></div></div><div class="tab-content-pad"><!-- current: vwmWell --><div data-bind="if: isNullSlcVwmSectionWrk"><div data-bind="if: isSlcStageViewDashboard"><!-- current: vwmStage (from company to well) --><div><div data-bind="ifnot: mdlStage.isLoadedWidgouts">Dashboard loading...</div><div data-bind="if: mdlStage.isLoadedWidgouts"><div data-bind="ifnot: mdlStage.widgouts.hasItems">Dashboard is empty</div><div class="clearfix"><div class="pull-left"><span data-bind="with: slcVwmWidgout"><span data-bind="if: $root.isEmployeeInEditMode"><input class="input-sm" type="text" data-bind="value: mdlWidgout.name"></span> <span data-bind="ifnot: $root.isEmployeeInEditMode"><span data-bind="text: mdlWidgout.name"></span></span> <button class="btn btn-link" data-bind="click: preGenerateReport"><i class="glyphicon glyphicon-book"></i> Generate a report</button> <span data-bind="with: reportFileSpec"><button class="btn btn-sm btn-default" data-bind="click: $parent.downloadWithClean.bind($parent)"><!-- <span data-bind="text: namePlusExtension"></span> --><i class="glyphicon glyphicon-download-alt"></i> Download</button> <small>(saved in a Report folder)</small></span> <span data-bind="visible: isReportInProgress"><span class="loader-line-small"></span></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: slcVwmWidgout"><button class="btn btn-sm btn-default" data-bind="click: $parent.removeVwmWidgout.bind($parent)">Delete layout</button></span></div><div class="pull-right" data-bind="visible: slcVwmWidgout" style="margin-left: 32px"><select class="input-sm" data-bind="options: listOfVwmWidgout, optionsText: 'name', value: slcVwmWidgout"></select></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><select class="input-sm" data-bind="options: widgoutTemplates, optionsText: 'name', value: slcWidgoutTemplate, optionsCaption: 'Choose scheme...'"></select><button class="btn btn-sm btn-default" data-bind="enable: slcWidgoutTemplate, click: postWidgout">Create new layout</button></div></div></div><div data-bind="with: slcVwmWidgout"><div class="row" data-bind="foreach: listOfVwmWidgock"><div data-bind="css: mdlWidgock.columnStyle"><div data-bind="foreach: listOfVwmWidget"><div class="widget-tile"><div class="clearfix widget-tile-header"><div class="pull-left"><div data-bind="ifnot: isVisSettingPanel"><b data-bind="text: mdlWidget.name"></b></div><div data-bind="if: isVisSettingPanel"><input type="text" class="input-sm" data-bind="value: mdlWidget.name"></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="ifnot: isVisSettingPanel"><button class="btn btn-xs btn-default" type="button" data-bind="click: showVisSettingPanel"><i class="glyphicon glyphicon-cog" title="Settings"></i></button> <!-- parent: vwmWidgock --> <button class="btn btn-xs btn-default" type="button" data-bind="click: $parent.removeVwmWidget.bind($parent)"><i class="glyphicon glyphicon-remove" title="Delete"></i></button></div><div data-bind="if: isVisSettingPanel"><button class="btn btn-sm btn-success" type="button" data-bind="click: saveVwmWidget">Save</button></div></div></div><div class="widget-tile-content"><!-- current: vwmWidget from foreach --><div data-bind="template: { name: mdlWidget.widgetTpl, data: $data, as: 'vwmWidget', afterRender: afterRenderWidget.bind($data) }"></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="widget-tile"><div class="widget-empty"><!--sectionIdList--><!-- current: vwmWidgock --><!-- parent: vwmWidgout --><!-- parents[1]: vwmStage --><select class="input-sm" data-bind="options: dictOfKeyOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcKeyOfStage"></select><select class="input-sm" data-bind="options: dictOfStage, optionsText: 'optText', optionsValue: 'optValue', value: slcCntxStage"></select><select class="input-sm" data-bind="options: listOfPatternOfSection, optionsText: 'name', value: slcStagePatternForWidget, optionsCaption: 'choose widget...'"></select><button class="btn btn-default btn-sm" type="button" data-bind="click: addVwmWidget, enable: canAddVwmWidget"><i class="glyphicon glyphicon-plus"></i> Add</button></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcStageViewFmgr"><!-- current: vwmStage (vwmUpro ... vwmWell) --><div class="clearfix" data-bind="hidden: slcVwmSectionFmg"><div data-bind="foreach: listOfVwmSection"><!-- ko if: mdlSection.sectionPattern --><!-- ko if: mdlSection.sectionPattern().isFolder --><div class="pull-left min-margin"><div class="stage-folder" data-bind="css: {'active': isSlcVwmSectionFmg }, click: $parent.selectVwmSectionFmg.bind($parent)"><div><span data-bind="with: mdlSection.sectionPattern"><i class="wfm-icon stage-folder__wfm-icon" data-bind="css: iconClass"></i></span> <span class="stage-folder__folder-icon"><i class="glyphicon glyphicon-folder-open"></i></span></div><div data-bind="with: mdlSection.sectionPattern"><span class="stage-folder__name" data-bind="text: name"></span></div></div></div><!-- /ko --><!-- /ko --></div></div><!-- current: vwmStage (vwmUpro ... vwmWell) --><!-- ko with: slcVwmSectionFmg --><!-- ko if: mdlSection.sectionPattern --><div><div class="row"><div class="col-sm-2"><div class="clearfix"><div class="pull-left"><!-- folder switching only for full view --><span data-bind="ifnot: $parent.fmgrModal.isShowed"><button class="btn btn-default btn-sm" data-bind="click: $parent.unselectVwmSectionFmg.bind($parent)"><i class="glyphicon glyphicon-circle-arrow-up"></i></button></span></div><div class="pull-left min-left-margin"><h4 data-bind="with: mdlSection.sectionPattern"><span data-bind="text: name"></span></h4></div></div></div><div class="col-sm-6 text-right"><div><span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: download"><i class="glyphicon glyphicon-download-alt"></i></button></span> <!-- ko if: $root.isEmployeeInEditMode --> <span data-bind="with: oneVisibleSlcVwmFileSpec"><button class="btn btn-inverse btn-sm" data-bind="click: $parent.editVwmFileSpec.bind($parent)"><i class="glyphicon glyphicon-edit"></i></button></span> <span data-bind="visible: isVisibleSlcAnyFile"><button class="btn btn-sm btn-inverse" data-bind="click: removeSlcVwmFileSpecs"><i class="glyphicon glyphicon-trash"></i></button></span> <span data-bind="with: mdlSection"><span class="btn btn-sm btn-inverse fileinput-button"><i class="glyphicon glyphicon-plus"></i> <span>Add...</span><input data-bind="filoader: getSectionFiloader()" type="file" multiple="multiple"></span></span> <!-- /ko --></div></div><div class="col-sm-4"><div class="input-group input-group-sm"><input type="text" class="form-control" data-bind="value: fileFilterName"><span class="input-group-btn"><button class="btn btn-default" type="button"><i class="glyphicon glyphicon-search"></i></button></span></div></div></div></div><div class="min-top-margin"><div class="text-center" data-bind="hidden: sortedListOfVwmFileSpec.hasItems"><span>No files</span></div><div class="row lf-header" data-bind="visible: sortedListOfVwmFileSpec.hasItems"><div class="col-sm-8 lf-header-column"><input class="lf-header-column__select-all" type="checkbox" data-bind="checked: mdlSection.isSlcAllFiles"><span class="link-view lf-header-column__name-header" data-bind="click: sortByName, css: {'bld': fileSortProp() === 'name'}">File name</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortByCreated, css: {'bld': fileSortProp() === 'createdUnixTime'}">Created</span></div><div class="col-sm-2 hidden-xs lf-header-column"><span class="link-view" data-bind="click: sortBySize, css: {'bld': fileSortProp() === 'length'}">Size, KB</span></div></div><div data-bind="with: mdlSection"><div data-bind="foreach: listOfPreFile"><div class="row"><div class="col-sm-4"><div class="checkbox"><label><input type="checkbox" disabled="disabled"><span data-bind="text: name"></span></label></div></div><!-- ko if: isSuccess --><div class="col-sm-4"><div class="progress progress-striped"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" data-bind="attr: { 'aria-valuenow' : progressPercent }, style: {'width': progressPercentString }"><span data-bind="text: bytesLoadedInKb"></span>KB</div></div></div><div class="col-sm-2"><div data-bind="if: isSuccess"><button class="btn btn-sm btn-default" data-bind="click: abortUploading">Cancel</button></div></div><div class="col-sm-2"><span data-bind="text: sizeInKb"></span></div><!-- /ko --><!-- ko ifnot: isSuccess --><div class="col-sm-8"><div class="alert alert-danger"><button type="button" class="close" data-bind="click: $parent.removePreFile.bind($parent)">&times;</button> <span data-bind="ifnot: isSuccessSize">Size of the file <span class="bld" data-bind="text: sizeInMb"></span> is more than 10MB</span> <span data-bind="ifnot: isSuccessType">Supported types: <span data-bind="text: supportedTypes"></span></span></div></div><!-- /ko --></div></div></div><!-- end model section pre files --><div data-bind="foreach: sortedListOfVwmFileSpec"><div data-bind="slideVisible: isVisible"><div class="row"><div class="col-sm-8"><div class="checkbox"><label><input type="checkbox" data-bind="checked: mdlFileSpec.isSelected"><span data-bind="hidden: isEditView"><span class="break-word" data-bind="text: mdlFileSpec.namePlusExtension, attr: {title: mdlFileSpec.fullTitle }"></span></span></label><span data-bind="visible: isEditView"><input class="form-control input-sm" type="text" data-bind="value: $parent.nameForEdit, event: { keydown: $parent.saveVwmFileSpec.bind($parent) }"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="unixTime: createdUnixTime"></span></div></div><div class="col-sm-2"><div data-bind="with: mdlFileSpec" style="margin-top:10px"><span data-bind="text: lengthInKb, attr:{title: length + ' bytes'}"></span></div></div></div></div></div></div><!-- /ko --><!-- /ko --></div></div><div data-bind="if: slcVwmSectionWrk"><div data-bind="if: isSlcPtrnWellHistory"><!-- current: vwmWell --><div><span data-bind="ifnot: mdlStage.isLoadedHistoryList">Loading...</span><div data-bind="if: mdlStage.isLoadedHistoryList"><div data-bind="with: vwmScopeOfHistoryOfWell"><div data-bind="ifnot: listOfVwmHistoryOfWell.hasItems"><small>No well history</small></div><div class="clearfix"><div class="pull-left" data-bind="if: listOfVwmHistoryOfWell.hasItems"><!-- curent: vwmScopeOfHistoryOfWell --><div><span>Filter by date:</span><input class="input-sm" type="text" size="10" data-bind="datepicker: startDate, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"><span>-</span><input class="input-sm" type="text" size="10" data-bind="datepicker: endDate, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"><button class="btn btn-default btn-sm" type="button" data-bind="click: changeSortByDateOrder">Sort by date <i class="glyphicon" data-bind="css: sortByDateCss"></i></button><select class="input-sm" data-bind="options: jobTypeList, optionsText: 'name', optionsValue: 'id', value: jobTypeId, optionsCaption: 'Filter by job type...'"></select></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><span data-bind="with: wellHistoryNew"><input class="input-sm" type="text" size="10" data-bind="datepicker: startUnixTime, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"><span>-</span><input class="input-sm" type="text" size="10" data-bind="datepicker: endUnixTime, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <button class="btn btn-sm btn-default" data-bind="click: postVwmHistoryOfWell, enable: isEnabledPostHistoryOfWell"><i class="glyphicon glyphicon-plus"></i> Create new record</button></div></div><div data-bind="foreach: sortedListOfVwmHistoryOfWell"><div data-bind="slideVisible: isVisible"><div class="row wfm-well-history-wrap"><div class="col-md-2"><div><div class="bld">Period:</div><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlHistoryOfWell"><div><span data-bind="unix: startUnixTime"></span></div><div><span data-bind="unix: endUnixTime, visible: isVisibleEndUnixTime"></span></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlHistoryOfWell"><input class="input-sm" type="text" size="10" data-bind="datepicker: startUnixTime, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"><input class="input-sm" type="text" size="10" data-bind="datepicker: endUnixTime, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></div></div></div><div><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlHistoryOfWell"><div data-bind="with: jobType"><span class="bld">Job type:</span> <span data-bind="text: name"></span></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div data-bind="if: $parent.jobTypeList().length > 0"><span class="bld">Job type:</span> <!-- ko with: mdlHistoryOfWell --><select class="input-sm" data-bind="options: $parents[1].jobTypeList, optionsText: 'name', optionsValue: 'id', optionsCaption: 'No job type', value: jobTypeId"></select><!-- /ko --><button class="btn btn-xs btn-link" data-bind="click: $parent.goToPostingJobType">add job type to list</button></div></div></div><div data-bind="if: $root.isEmployeeInEditMode" style="margin-top:8px"><div class="btn-group-vertical btn-group-sm"><button class="btn btn-default" type="button" data-bind="click: createFileSpecOfHistoryOfWell"><i class="glyphicon glyphicon-paperclip"></i> Attach a file</button> <button class="btn btn-default" type="button" data-bind="click: createImageFromFileSpec"><i class="glyphicon glyphicon-picture"></i> Crop an image</button> <button class="btn btn-default" type="button" data-bind="click: $parent.removeVwmHistoryOfWell.bind($parent)"><i class="glyphicon glyphicon-remove"></i> Delete</button></div></div></div><div class="col-md-10"><div data-bind="with: mdlHistoryOfWell"><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="visible: historyText"><p class="wfm-well-history-record pre-wrap-text" data-bind="text: historyText"></p></div></div><div data-bind="if: $root.isEmployeeInEditMode"><textarea class="form-control" rows="3" style="resize: vertical" data-bind="value: historyText"></textarea><button class="btn btn-default btn-sm" type="button" data-bind="click: putWellHistory"><i class="glyphicon glyphicon-saved"></i> Save</button></div><div data-bind="foreach: WfmImages"><div><span class="pointer" data-bind="panzoomImg: {src: croppedImageUrl}"><img class="img-thumbnail elem-shadow" src="" data-bind="attr: { src: croppedImageUrl }" alt="History image"></span> <span data-bind="if: $root.isEmployeeInEditMode"><i class="glyphicon glyphicon-remove link-icon" data-bind="click: $parent.removeWfmImage.bind($parent)"></i></span></div></div></div><div data-bind="with: mdlHistoryOfWell"><div class="clearfix" data-bind="foreach: WellHistoryFiles"><div class="img-thumbnail pull-left"><span><span data-bind="with: fileSpec"><!-- TODO: #33! bug - download feat in a view - back: click: download 
                        class="link-view pointer" --><span data-bind="text: namePlusExtension"></span></span></span> <span data-bind="if: $root.isEmployeeInEditMode"><i class="glyphicon glyphicon-remove link-icon" data-bind="click: $parent.removeFileSpecOfHistoryOfWell.bind($parent)"></i></span></div></div></div></div></div></div></div></div></div></div></div><div data-bind="if: isSlcPtrnWellIntegrity"><!-- current: vwmWell --><div><div data-bind="ifnot: mdlStage.isLoadedListOfIntegrity"><span>loading...</span></div><div data-bind="if: mdlStage.isLoadedListOfIntegrity"><div class="row"><div class="col-sm-8"><div class="text-center" data-bind="with: slcVwmIntegrity"><span data-bind="with: mdlIntegrity.fileSpec"><span class="pointer" data-bind="panzoomImg: {src: fileUrl}"><img class="img-responsive" alt="Integrity" src="#" data-bind="attr: {src: fileUrl}"></span></span></div></div><div class="col-sm-4"><div class="clearfix"><div class="pull-left"><h4>Files:</h4></div><div class="pull-right"><button class="btn btn-default btn-sm" data-bind="click: postVwmIntegrity"><i class="glyphicon glyphicon-plus"></i> Add integrity</button></div></div><div data-bind="if: listOfVwmIntegrity().length === 0"><span>No files</span></div><ul class="wfm-light-list" data-bind="foreach: listOfVwmIntegrity"><li><div class="clearfix"><div class="pull-left"><span class="pointer link-view" data-bind="click: $parent.selectVwmIntegrity.bind($parent)"><span data-bind="text: mdlIntegrity.name, css: { 'bld': isSlc }"></span></span></div><div class="pull-right"><button class="btn btn-default btn-xs" data-bind="click: $parent.removeVwmIntegrity.bind($parent)"><i class="glyphicon glyphicon-remove"></i></button></div></div></li></ul></div></div></div></div></div><div data-bind="if: isSlcPtrnWellLog"><!-- current: vwmWell --><div><div class="clearfix"><div class="pull-left"><div data-bind="with: slcVwmLogOfWell"><div data-bind="with: mdlLogOfWell"><div class="clearfix min-bottom-margin" data-bind="if: $root.isEmployeeInEditMode"><div class="pull-left"><div><label class="radio-inline"><input type="radio" name="log-tools" value="tool-hand" data-bind="checked: checkedLogTool">Default</label><label class="radio-inline"><input type="radio" name="log-tools" value="tool-text" data-bind="checked: checkedLogTool">Text</label><label class="radio-inline"><input type="radio" name="log-tools" value="tool-line" data-bind="checked: checkedLogTool">Line</label><label class="radio-inline"><input type="radio" name="log-tools" value="tool-arrow" data-bind="checked: checkedLogTool">Arrow</label></div></div><div class="pull-right" style="margin-right: 22px"><button type="button" class="btn btn-xs btn-default" data-bind="click: saveSvgElems, enable: isEnabledSavingSvgElems"><i class="glyphicon glyphicon-floppy-saved"></i> Save</button></div></div><div class="log-las-wrap" data-bind="logLas: { imgSrc: representationUrl, checkedLogTool: checkedLogTool, imgFigures: imgFigures }"><div class="log-las-img-wrap"><img class="log-las-img" src="#" alt="Log representation"></div><canvas class="log-las-base" width="624" height="480"></canvas><div><canvas class="log-las-draw" width="624" height="480"></canvas><div class="log-las-text"></div></div></div></div></div></div><div class="pull-right" style="width: 280px"><div class="clearfix"><!-- ko if: $root.isEmployeeInEditMode --><div class="pull-right"><button class="btn btn-default btn-xs" data-bind="click: createLogOfWellFromFileSpec">Create log...</button></div><!-- /ko --></div><div data-bind="slideVisible: listOfVwmLogOfWell().length === 0"><p class="alert alert-warning">No logs</p></div><div data-bind="slideVisible: listOfVwmLogOfWell().length > 0"><h5>Logs:</h5><ul class="list-unstyled wfm-light-list" data-bind="foreach: listOfVwmLogOfWell"><li data-bind="css: {'active' : isSlc }"><i class="glyphicon glyphicon-picture margin-min-right"></i> <span class="pointer link-view" data-bind="click: $parent.selectVwmLogOfWell"><span data-bind="text: mdlLogOfWell.name"></span></span></li></ul></div></div></div></div></div><div data-bind="if: isSlcPtrnWellMap"><!-- current: vwmWell --><div><div class="row"><div class="col-md-8"><div data-bind="with: slcVwmMapMarker"><div data-bind="with: getVwmMapOfWield()"><div class="oil-map-wrap"><!-- current: vwmMapOfWield --><svg class="oil-map-svg" version="1.1" width="100%" viewbox="0 0 1200 600" data-bind="attr: { height: svgMap.sizePx.height }, svgResponsive: { koSvgWidth: svgMap.sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu}"><!-- Draw wrap rectange: just for a gray background --><rect class="oil-map-svg__back-rect" width="1200" height="600"></rect><g data-bind="attr: { 'transform': ('translate(' + svgMap.imgStartVgX + ','+ svgMap.imgStartVgY +')') }"><g data-bind="svgZoomBehavior: svgMap.baseZoomBhvr"><g data-bind="attr: { 'transform' : svgMap.zoomTransformAttr }"><g data-bind="mapBinding: mapBindingOptions"><!--inner group for transforming and scale group of next elements: image, well markers and areas--></g></g></g></g><!-- ko with: svgMap --><g class="svg-zoom-controls"><g transform="translate(1050,10)"><path transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle></g><g transform="translate(1050,60)"><path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle></g></g><!-- /ko --></svg></div></div></div></div><div class="col-md-4"><h4><span>Maps:</span></h4><div data-bind="foreach: listOfVwmMapMarker"><div><i class="glyphicon glyphicon-picture"></i> <span class="link-view min-left-margin" data-bind="click: $parent.selectVwmMapMarker.bind($parent)"><span data-bind="text: mdlWellMarker.nameOfMap, css: {'bld': isSlc}"></span></span></div></div></div></div></div></div><div data-bind="if: isSlcPtrnWellNodalAnalysis"><!-- current: vwmWell --><div><div data-bind="ifnot: mdlStage.isLoadedListOfNodalAnalysis"><span>loading...</span></div><div data-bind="if: mdlStage.isLoadedListOfNodalAnalysis"><div class="row"><div class="col-sm-8"><div class="text-center" data-bind="with: slcVwmNodalAnalysis"><span data-bind="with: mdlNodalAnalysis.fileSpec"><span class="pointer" data-bind="panzoomImg: {src: fileUrl}"><img class="img-responsive" alt="nodal analysis" src="#" data-bind="attr: {src: fileUrl}"></span></span></div></div><div class="col-sm-4"><div class="clearfix"><div class="pull-left"><h4>Files:</h4></div><div class="pull-right"><button class="btn btn-default btn-sm" data-bind="click: postVwmNodalAnalysis"><i class="glyphicon glyphicon-plus"></i> Add nodal analysis</button></div></div><div data-bind="if: listOfVwmNodalAnalysis().length === 0"><span>No files</span></div><ul class="wfm-light-list" data-bind="foreach: listOfVwmNodalAnalysis"><li><div class="clearfix"><div class="pull-left"><span class="pointer link-view" data-bind="click: $parent.selectVwmNodalAnalysis"><span data-bind="text: mdlNodalAnalysis.name, css: { 'bld': isSlc }"></span></span></div><div class="pull-right"><button class="btn btn-default btn-xs" data-bind="click: $parent.removeVwmNodalAnalysis"><i class="glyphicon glyphicon-remove"></i></button></div></div></li></ul></div></div></div></div></div><div data-bind="if: isSlcPtrnWellPerfomance"><!-- current: vwmWell --><div data-bind="with: mainVwmPerfomanceOfWell"><div data-bind="ifnot: mdlPerfomanceOfWell.isLoadedHstProductionData">loading...</div><div data-bind="if: mdlPerfomanceOfWell.isLoadedHstProductionData"><div class="clearfix"><div class="pull-left" data-bind="if: mdlPerfomanceOfWell.hstProductionDataSet().length === 0"><div class="alert alert-warning">No data. Use the "Import data" button in edit mode to import data.</div><div data-bind="if: listOfSlcVwmWfmParameterOfWroup().length === 0"><div class="alert alert-warning">No units. Use the "Units" section in this well group to select need units.</div></div></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><!-- ko if: mdlPerfomanceOfWell.hstProductionDataSet().length > 0 --><button class="btn btn-default btn-sm" type="button" data-bind="click: removeWellProductionData"><i class="glyphicon glyphicon-remove"></i> Remove production data</button> <!-- /ko --> <button class="btn btn-sm btn-default" type="button" data-bind="click: importPerfomanceData"><!-- TODO: send to lang.json #LL! --><i class="glyphicon glyphicon-plus"></i> Import data</button></div></div><div data-bind="if: mdlPerfomanceOfWell.hstProductionDataSet().length > 0"><!-- Settings panel --><div data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlPerfomanceOfWell"><div data-bind="if: requiredForecastParamListNaNString" class="text-right"><small>Forecast inaccessible: required parameters:<span data-bind="text: requiredForecastParamListNaNString"></span></small></div><div data-bind="ifnot: requiredForecastParamListNaNString"><div class="clearfix"><div class="pull-left" data-bind="with: forecastEvolution"><div data-bind="if: requiredForecastEvoListNaNString">Forecast inaccessible: required evolutions:<span data-bind="text: requiredForecastEvoListNaNString"></span></div></div><div class="pull-right"><label class="checkbox-inline"><input type="checkbox" data-bind="checked: isVisibleForecastPanel">Show settings</label></div></div><div data-bind="if: isVisibleForecastPanel"><div><div class="evo-scope-wrap"><span class="evo-wrap" data-bind="with: forecastEvolution.Dict"><b>Liquid</b> =<input type="text" class="input-narrow" data-bind="value: LiquidEvolutionA">* EXP (<input type="text" class="input-narrow" data-bind="value: LiquidEvolutionB">* X)</span> <span class="evo-wrap" title="Corrections to last value = Evolution1 * EXP(Evolution2 * LastPd.LiquidCum)">Diff = <span data-bind="text: DZADiffLiquid"></span></span> <span class="evo-wrap" title="Corrections to last value = Diff - LastPd.LiquidRate">Result = <span data-bind="text: DZADiffLiquidResult"></span></span></div><div class="evo-scope-wrap"><span class="evo-wrap" data-bind="with: forecastEvolution.Dict"><b>Water cut</b> =<input type="text" class="input-narrow" data-bind="value: WctEvolutionC">* Ln(X) -<input type="text" class="input-narrow" data-bind="value: WctEvolutionD"></span> <span class="evo-wrap" title="Corrections to last value = Evolution1 * Ln(LastPd.OilCum) - Evolution2">Diff = <span data-bind="text: DZADiffWCT"></span></span> <span class="evo-wrap" title="Corrections to last value = Diff - LastPd.WaterCut">Result = <span data-bind="text: DZADiffWCTResult"></span></span></div><div class="evo-scope-wrap"><span class="evo-wrap" data-bind="with: forecastEvolution.Dict"><b>GOR</b> =<input type="text" class="input-narrow" data-bind="value: GorEvolutionF">* Ln(X) +<input type="text" class="input-narrow" data-bind="value: GorEvolutionG"></span> <span class="evo-wrap" title="Corrections to last value = Evolution1 * Ln(LastPd.OilCum) + Evolution2">Diff = <span data-bind="text: DZADiffGOR"></span></span> <span class="evo-wrap" title="Corrections to last value = Diff - LastPd.GOR">Result = <span data-bind="text: DZADiffGORResult"></span></span></div></div><div class="min-left-margin"><button type="button" class="btn btn-default btn-sm" data-bind="click: forecastEvolution.save"><i class="glyphicon glyphicon-save"></i> Save evolution</button></div></div></div></div></div><!-- / with mdlPerfomanceOfWell  --><div data-bind="ifnot: selectedAttrGroup">Please select a perfomance group from the bottom panel</div><div data-bind="if: selectedAttrGroup"><div><!-- ko with: prfmGraph --><!-- parent: vwmPerfomanceOfWell or vwmMonitoringOfWell --><!-- current: svgGraph (prfmGraph or mntrGraph) --><div class="graph-wrap"><svg version="1.1" viewbox="0 0 1200 400" width="100%" data-bind="attr: { height: sizePx.height }, svgResponsive: { koSvgWidth: sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu }"><g data-bind="attr: { transform: baseTransform }"><g><g data-bind="attr: { transform: axisXTransform }"><g class="axis x" data-bind="graphAxis: axis.x"></g></g><g><g class="axis y" data-bind="graphAxis: axis.y"></g></g><g clip-path="url(#graph-clip)"><g data-bind="graphPaths: paths"><!-- here are data paths (curves) --></g></g><!-- add zoom functionality: rect with zoom --><rect class="graph-zoom-rect" x="0" y="0" width="0" height="0" data-bind="attr: { width: vboxSize.width, height: vboxSize.height }, svgZoomBehavior: baseZoomBhvr"></rect><g class="svg-zoom-controls"><g transform="translate(1050,10)"><path transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle></g><g transform="translate(1050,60)"><path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle></g></g></g></g></svg></div><!-- /ko --><div class="clearfix" style="margin-top:4px"><div class="text-center"><select data-bind="options: joinedYearList, value: WPDDateStartYear" class="input-sm"></select><select data-bind="options: monthList, value: WPDDateStartMonth" class="input-sm"></select><span>&nbsp;-&nbsp;</span><select data-bind="options: joinedYearList, value: WPDDateEndYear" class="input-sm"></select><select data-bind="options: monthList, value: WPDDateEndMonth" class="input-sm"></select><label class="checkbox-inline"><input type="checkbox" data-bind="checked: isVisibleForecastData, enable: mdlPerfomanceOfWell.isForecastPossible">Show forecast graph and data</label></div></div><!-- current: mainVwmPerfomanceOfWell --><table class="table table-condensed"><thead><tr><th>Time</th><!-- ko foreach: {data: listOfSlcVwmWfmParameterOfWroup, as: 'vwmParam'} --><th><div><small><i class="glyphicon glyphicon-bookmark" data-bind="style: { color: vwmParam.mdlWfmParameterOfWroup.color }"></i></small> <span data-bind="text: vwmParam.mdlWfmParameterOfWroup.wfmParameterId"></span></div><div><label class="checkbox-inline"><input type="checkbox" title="show/hide" data-bind="checked: vwmParam.isVisible">Show</label><label class="checkbox-inline"><input type="checkbox" title="usual/calc" data-bind="checked: vwmParam.mdlWfmParameterOfWroup.isCalc">Calc</label></div><div data-bind="foreach: { data: vwmParam.mdlWfmParameterOfWroup.wfmParameter().uomMatrix, as: 'mtrx' }" class="clearfix"><div data-bind="foreach: {data: mtrx, as: 'uomItem' }" class="pull-left"><div class="btn-group"><button type="button" class="btn btn-default dropdown-toggle btn-sm" data-toggle="dropdown"><span data-bind="text: uomItem"></span> <span class="caret"></span></button><ul class="dropdown-menu" role="menu" data-bind="foreach: {data: vwmParam.mdlWfmParameterOfWroup.wfmParameter().getPossibleUomListForSelectedUom(uomItem), as: 'possibleUom'}"><li><span class="pointer link-view" data-bind="text: possibleUom, click: function(){ vwmParam.mdlWfmParameterOfWroup.wfmParameter().changeSelectedUom(possibleUom, $parentContext.$parentContext.$index(), $parentContext.$index()); }"></span></li></ul></div></div></div></th><!-- /ko --></tr></thead><tbody><!-- ko foreach: { data: filteredByDateProductionDataSet, as: 'wpd' } --><!-- ko if: wpd.prfYear === $parent.selectedPrfTableYear() --><tr><td>(<span title="Production days" data-bind="text: wpd.ProdDays"></span>)&nbsp;<span data-bind="text: wpd.prfYear + '-' + wpd.prfMonthStr"></span></td><!-- ko foreach: {data: $parent.listOfSlcVwmWfmParameterOfWroup, as: 'vwmParam'} --><td><span data-bind="visible: isVisible, prec: {value: wpd[vwmParam.mdlWfmParameterOfWroup.wfmParameterId], coef: vwmParam.mdlWfmParameterOfWroup.wfmParameter().uomCoef}"></span></td><!-- /ko --></tr><!-- /ko --><!-- /ko --></tbody></table><div class="text-center"><ul class="pagination pagination-sm" data-bind="foreach: {data: joinedYearList, as: 'joinedYear'}"><li data-bind="css: {'active': joinedYear === $parent.selectedPrfTableYear() }, visible: joinedYear >= $parent.WPDDateStartYear() && joinedYear <= $parent.WPDDateEndYear()"><a href="#" data-bind="text: joinedYear, click: function(){ $parent.selectPrfTableYear(joinedYear);}"></a></li></ul></div></div></div></div></div></div></div><!-- TODO: move to js to decrease rendering calculation when choosing stage --><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-report'"><!-- current: vwmWell --><div>under construction...</div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-monitoring'"><!-- current: vwmStage (well) --><div><div class="clearfix"><h4 class="pull-left">Well monitoring</h4><div class="pull-left min-left-margin" data-bind="with: mainVwmMonitoringOfWell"><input class="input-sm" size="10" data-bind="datepicker: mntrUnixTimeBorder.start, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"><span>-</span><input class="input-sm" size="10" data-bind="datepicker: mntrUnixTimeBorder.end, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></div><div class="pull-right"><!-- parent: vwmWroup --><button class="btn btn-link btn-sm" type="button" data-bind="click: $parent.goToMonitoringOfWroup.bind($parent)">Go to the platform monitoring</button></div></div><!-- first: load parameters --><!-- <div data-bind="if: getParentVwm().mdlStage.isLoadedListOfWfmParameterOfWroup"> --><!-- second: get only monitored parameters --><div data-bind="with: mainVwmMonitoringOfWell"><div data-bind="ifnot: listOfMonitoredVwmParams.hasItems">No monitored parameters. Please select parameters in the Units section of the well group.</div><div data-bind="if: listOfMonitoredVwmParams.hasItems"><div class="table-responsive"><table class="table table-condensed"><thead><tr><!-- ko foreach: listOfMonitoredVwmParams --><th class="text-center"><input type="checkbox" data-bind="checked: isVisible"><i class="glyphicon glyphicon-bookmark" data-bind="style: { color: mdlWfmParameterOfWroup.color }"></i> <span data-bind="with: mdlWfmParameterOfWroup"><span data-bind="with: wfmParameter"><span data-bind="text: id"></span> <span data-bind="visible: uom">, <span data-bind="text: uom"></span></span></span></span></th><!-- /ko --></tr></thead></table><div data-bind="with: mntrGraph"><!-- parent: vwmPerfomanceOfWell or vwmMonitoringOfWell --><!-- current: svgGraph (prfmGraph or mntrGraph) --><div class="graph-wrap"><svg version="1.1" viewbox="0 0 1200 400" width="100%" data-bind="attr: { height: sizePx.height }, svgResponsive: { koSvgWidth: sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu }"><g data-bind="attr: { transform: baseTransform }"><g><g data-bind="attr: { transform: axisXTransform }"><g class="axis x" data-bind="graphAxis: axis.x"></g></g><g><g class="axis y" data-bind="graphAxis: axis.y"></g></g><g clip-path="url(#graph-clip)"><g data-bind="graphPaths: paths"><!-- here are data paths (curves) --></g></g><!-- add zoom functionality: rect with zoom --><rect class="graph-zoom-rect" x="0" y="0" width="0" height="0" data-bind="attr: { width: vboxSize.width, height: vboxSize.height }, svgZoomBehavior: baseZoomBhvr"></rect><g class="svg-zoom-controls"><g transform="translate(1050,10)"><path transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle></g><g transform="translate(1050,60)"><path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path><circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle></g></g></g></g></svg></div></div></div><!-- <div class="text-right" data-bind="if: $root.isEmployeeInEditMode">
          <button class="btn btn-xs btn-warning" data-bind="click: removeAllMonitoringRecords">
            <i class="glyphicon glyphicon-remove"></i> Remove all records
          </button>
        </div> --></div></div><!-- </div> --></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-sketch'"><!-- current: vwmWell --><div data-bind="with: vwmSketchOfWell"><div class="row"><div class="col-sm-7 text-center"><div data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-default btn-sm btn-block" data-bind="click: createSketchFromFile">Choose a sketch...</button></div><div data-bind="mdlSketchOfWell.isLoaded"><div data-bind="ifnot: mdlSketchOfWell.fileSpec"><div class="stencil-img">No sketch</div></div></div><div data-bind="with: mdlSketchOfWell.fileSpec"><span class="pointer" data-bind="panzoomImg: {src: fileUrl}"><img src="#" class="img-responsive" data-bind="attr: { src: fileUrl }" alt="Sketch image"></span></div></div><div class="col-sm-5"><!-- ko with: mdlSketchOfWell --><div data-bind="if: fileSpec"><div data-bind="if: $root.isEmployeeInEditMode"><div class="text-right"><button class="btn btn-xs btn-default" data-bind="click: clearSketchOfWell"><i class="glyphicon glyphicon-remove"></i> Delete sketch</button></div></div><div data-bind="if: $root.isEmployeeInEditMode"><textarea class="form-control" rows="10" data-bind="value: description"></textarea><button class="btn btn-default btn-sm" data-bind="click: save">Save description</button></div><div data-bind="ifnot: $root.isEmployeeInEditMode"><span class="pre-wrap-text" data-bind="text: description"></span></div></div><!-- /ko --></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-summary'"><div><!--current: vwmStage (company...well)--><div data-bind="ifnot: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><div data-bind="if: tpe"><div class="row"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><span data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'MultiLine'"><span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'DateLine'"><span data-bind="unix: $parent[clientId]"></span></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span></span> <span data-bind="if: tpe === 'BoolLine'"><span data-bind="text: $parent[clientId]"></span></span></div></div></div></div></div></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div class="clearfix"><div class="pull-right"><!-- parent: vwmEmployee; parents[1]: vwmUserProfile --><button class="btn btn-sm btn-danger" data-bind="click: function() { getParentVwm().removeVwmChild($data); }"><i class="glyphicon glyphicon-remove-sign"></i> Delete</button></div><div class="pull-right min-right-margin" data-bind="with: mdlStage"><button class="btn btn-sm btn-success" data-bind="click: save"><i class="glyphicon glyphicon-saved"></i> Save</button></div></div><div class="min-top-margin" data-bind="with: mdlStage"><div data-bind="foreach: propSpecList"><!-- Properties without type do not showed in this list: not-editable properties --><div class="row" data-bind="if: tpe"><div class="col-sm-2"><div class="min-top-margin text-right"><label data-bind="text: ttl"></label></div></div><div class="col-sm-9"><div class="well well-sm"><span data-bind="if: tpe === 'SingleLine'"><input class="form-control" type="text" data-bind="value: $parent[clientId], attr: {maxlength: addtData.maxLength}"></span> <span data-bind="if: tpe === 'MultiLine'"><textarea class="form-control" rows="5" data-bind="value: $parent[clientId]"></textarea></span> <span data-bind="if: tpe === 'DateLine'"><input class="input-sm" type="text" size="10" data-bind="datepicker: $parent[clientId], datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></span> <span data-bind="if: tpe === 'BoolLine'"><input type="checkbox" data-bind="checked: $parent[clientId]"></span> <span data-bind="if: tpe === 'FileLine'"><span data-bind="if: $parent[clientId]"><img data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" alt="image"></span> <!-- parent: mdlStage (only for stages with image types, like company logo) --> <!-- parents[1]: vwmStage --> <button class="btn btn-default btn-sm" data-bind="click: $parents[1].selectImgFileSpec.bind($parents[1])">Select image...</button> <span data-bind="if: $parent[clientId]"><!-- parent: mdlStage --><button class="btn btn-default btn-sm" data-bind="click: $parent.deleteImgFileSpec.bind($parent)">Delete image</button></span></span></div></div></div></div></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-test'"><!-- vwmWell --><div><div class="clearfix" data-bind="if: $root.isEmployeeInEditMode"><div data-bind="with: mdlStage"><!-- ko with: testScopeNewStartUnixTime --><div class="pull-left">Date:<input class="input-sm" type="text" size="10" data-bind="datepicker: unixDate, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"></div><div class="pull-left min-left-margin">Hours:<input class="input-sm" type="number" min="0" max="23" data-bind="value: hour" placeholder="hours"></div><div class="pull-left min-left-margin">Minutes:<input class="input-sm" type="number" min="0" max="59" data-bind="value: minute" placeholder="minutes"></div><!-- /ko --><div class="pull-left min-left-margin"><button type="button" class="btn btn-default btn-sm" data-bind="enable: isEnabledPostTestScope, click: postTestScope"><i class="glyphicon glyphicon-plus"></i> Create new test</button></div></div></div><div data-bind="foreach: { data: handledListOfVwmTestScope, as: 'vwmTestScope' }"><div><div class="min-top-margin"><div class="test-header clearfix" data-bind="css: { 'test-approved': mdlTestScope.isApproved, 'test-declined': mdlTestScope.isApproved() === false }"><div class="pull-left"><button class="btn btn-inverse btn-xs" data-bind="click: toggleIsDetailed">Details <i class="glyphicon glyphicon-chevron-up" data-bind="visible: isDetailed"></i> <i class="glyphicon glyphicon-chevron-down" data-bind="hidden: isDetailed"></i></button></div><div class="test-header-prop pull-left min-left-margin"><span data-bind="text: mdlTestScope.startUnixTimeDateView"></span></div><div class="pull-right"><div data-bind="if: mdlTestScope.isApproved() !== null"><div class="min-right-margin"><span data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs btn-inverse" type="button" data-bind="click: mdlTestScope.setStatusToNull.bind(mdlTestScope)">Clear status</button></span> <span class="test-status"><span data-bind="if: mdlTestScope.isApproved() === true">Valid</span> <span data-bind="if: mdlTestScope.isApproved() === false">Invalid</span></span></div></div><div data-bind="if: $root.isEmployeeInEditMode"><div data-bind="if: mdlTestScope.isApproved() === null"><div class="btn-group"><button type="button" class="btn btn-xs btn-success" data-bind="click: mdlTestScope.setStatusToApproved.bind(mdlTestScope)">Approve</button> <button type="button" class="btn btn-xs btn-danger" data-bind="click: mdlTestScope.setStatusToDeclined.bind(mdlTestScope)">Decline</button></div></div></div></div></div><table class="table table-condensed"><thead><tr><th><span data-bind="visible: isDetailed">Hour</span></th><!-- parent: vwmWell --><!-- ko foreach: $parent.mdlStage.getWellGroup().listOfWfmParameterOfWroup --><th><span data-bind="text: wfmParameterId"></span></th><!-- /ko --><th data-bind="slideVisible: isDetailed">Comment</th><!-- ko if: $root.isEmployeeInEditMode --><th data-bind="slideVisible: isDetailed"></th><!-- /ko --></tr></thead><tbody data-bind="slideVisible: isDetailed"><!-- ko foreach: {data: mdlTestScope.testDataList, as: 'testData'} --><tr><td><span data-bind="text: hourNumber"></span></td><!-- parent: vwmTestScope, parents[1]: vwmWell --><!-- ko foreach: $parents[1].mdlStage.getWellGroup().listOfWfmParameterOfWroup --><td><div data-bind="if: testData.isEdit() === true"><input class="input-sm test-record-input" data-bind="value: testData.dict[$data.wfmParameterId]"></div><div data-bind="if: testData.isEdit() === false"><span data-bind="text: testData.dict[$data.wfmParameterId]"></span></div></td><!-- /ko --><td><div data-bind="if: isEdit() === true"><input class="input-sm" data-bind="value: comment"></div><div data-bind="if: isEdit() === false"><span data-bind="text: comment"></span></div></td><!-- ko if: $root.isEmployeeInEditMode --><td><button type="button" class="btn btn-default btn-xs" data-bind="click: editTestData, slideVisible: isEdit() === false">Edit</button> <button type="button" class="btn btn-default btn-xs" data-bind="click: saveTestData, slideVisible: isEdit() === true">Save</button> <button type="button" class="btn btn-default btn-xs" data-bind="click: cancelEditTestData, slideVisible: isEdit() === true">Cancel</button> <!-- parent: vwmTestScope --> <button type="button" class="btn btn-default btn-xs" data-bind="click: vwmTestScope.mdlTestScope.deleteTestData.bind(vwmTestScope.mdlTestScope), slideVisible: $index() === ($parent.mdlTestScope.testDataList().length - 1)">Delete</button></td><!-- /ko --></tr><!-- /ko --><!-- ko if: $root.isEmployeeInEditMode --><tr><td colspan="4"><button type="button" class="btn btn-xs btn-default" data-bind="click: vwmTestScope.mdlTestScope.addTestData.bind(vwmTestScope.mdlTestScope)">Add hour</button></td></tr><!-- /ko --></tbody><tfoot><tr><td>Total</td><!-- parent: vwmWell --><!-- ko foreach: $parent.mdlStage.getWellGroup().listOfWfmParameterOfWroup --><td><span class="bld" data-bind="text: vwmTestScope.mdlTestScope.testDataTotal()[$data.wfmParameterId]"></span></td><!-- /ko --><td data-bind="slideVisible: isDetailed"></td><!-- ko if: $root.isEmployeeInEditMode --><td data-bind="slideVisible: isDetailed"></td><!-- /ko --></tr></tfoot></table></div></div></div></div></div><div data-bind="if: patternOfSlcVwmSectionWrk() === 'well-volume'"><!-- current: vwmWell --><div class="row"><div data-bind="ifnot: mdlStage.isLoadedVolumes"><span>loading...</span></div><div data-bind="if: mdlStage.isLoadedVolumes"><div class="col-sm-7"><div data-bind="ifnot: listOfVwmVolumeOfWell.hasItems"><div class="stencil-img">No volume</div></div><div data-bind="with: slcVwmVolumeOfWell"><!-- ko with: mdlVolumeOfWell --><span data-bind="with: fileSpec"><span class="pointer" data-bind="panzoomImg: {src: fileUrl}"><img class="img-responsive" src="#" data-bind="attr: {src: fileUrl}" alt="volume image"></span></span><h6 data-bind="text: description"></h6><!-- /ko --></div></div><div class="col-sm-5"><div class="clearfix"><div class="pull-left" data-bind="if: listOfVwmVolumeOfWell.hasItems"><h4>Volumes:</h4></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><div class="text-right"><button class="btn btn-sm btn-default" type="button" data-bind="click: createVolumeFromFile"><i class="glyphicon glyphicon-plus"></i> Add volume...</button></div></div></div><ul class="wfm-light-list" data-bind="foreach: listOfVwmVolumeOfWell"><li class="clearfix"><div class="pull-left"><span class="pointer link-view" data-bind="click: $parent.selectVwmVolumeOfWell.bind($parent)"><span data-bind="text: mdlVolumeOfWell.name, css: { 'bld': isSlcVwmVolumeOfWell }"></span></span></div><div class="pull-right" data-bind="if: $root.isEmployeeInEditMode"><button class="btn btn-xs btn-default" data-bind="click: $parent.removeVwmVolumeOfWell.bind($parent)"><i class="glyphicon glyphicon-remove"></i></button></div></li></ul></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div></div><!-- end: isLoadedAccountInfo --></div></div></div><div id="modal-standard-block" class="modal fade" role="dialog" tabindex="-1" aria-hidden="true"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><button type="button" class="close modal-close" aria-hidden="true">&times;</button><h4 class="modal-title"></h4></div><form id="modal-standard-form"><div class="modal-body" style="padding-bottom:30px"></div><div class="modal-footer"><button type="submit" class="btn btn-primary">OK</button> <button type="button" class="btn btn-default modal-close">Cancel</button></div></form></div><!-- /.modal-content --></div><!-- /.modal-dialog --></div><!-- /.modal --><div id="modal-panzoom-block" class="modal fade" role="dialog" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-fullscreen"><div class="modal-content clearfix full-height"><div class="modal-body panzoom text-center"><img src="#" alt="zoom image"></div><button class="btn btn-xs btn-link btn-modal-close" type="button" aria-hidden="true"><i class="glyphicon glyphicon-remove"></i></button> <button class="btn btn-xs btn-link panzoom-controls panzoom-in"><i class="glyphicon glyphicon-plus-sign"></i></button> <button class="btn btn-xs btn-link panzoom-controls panzoom-out"><i class="glyphicon glyphicon-minus-sign"></i></button> <button class="btn btn-xs btn-link panzoom-controls panzoom-reset"><i class="glyphicon glyphicon-refresh"></i></button></div></div></div><div id="modal-wide-block" class="modal fade" role="dialog" tabindex="-1" aria-hidden="true"><div class="modal-dialog modal-wide"><div class="modal-content"><div class="modal-header"><div class="clearfix"><div class="pull-left"><h4 class="modal-title"></h4></div><div class="pull-right"><button type="button" class="btn btn-primary modal-ok">OK</button> <button type="button" class="btn btn-default modal-close">Cancel</button></div></div></div><div class="modal-body"></div></div></div></div><!-- widget templates: loaded only once on the index page --><script type="text/html" id="widget-tpl-default-summary"><!-- current: vwmWidget('as') -> vwmWidget(view) -> vwmWidgock -> vwmWidgout -> vwmStage (with mdlStage) -->
  <!-- parent[3]: vwmStage -->
  <div data-bind="with: mdlWidget.mdlStageContext">
    <div data-bind="if: vwmWidget.isVisSettingPanel">
      <div class="widget-setting-panel" data-bind="foreach: propSpecList">
        <span data-bind="if: tpe">
          <label style="font-weight: normal">
            <input type="checkbox" data-bind="checked: vwmWidget.mdlWidget.opts['isVis' + serverId]" />
            <span data-bind="text: ttl"></span>
          </label>
        </span>
      </div>
    </div>
    <div class="widget-content" data-bind="foreach: propSpecList">
      <div data-bind="if: vwmWidget.mdlWidget.opts['isVis' + serverId]">
        <small class="bld" data-bind="text: ttl"></small>:
        <span data-bind="if: tpe === 'SingleLine'">
          <!-- parent: mdlStage -->
          <span data-bind="text: $parent[clientId]"></span>
        </span>
        <span data-bind="if: tpe === 'MultiLine'">
          <span class="pre-wrap-text" data-bind="text: $parent[clientId]"></span>
        </span>
        <span data-bind="if: tpe === 'DateLine'">
          <span data-bind="unix: $parent[clientId]"></span>
        </span>
        <span data-bind="if: tpe === 'FileLine'">
          <span data-bind="if: $parent[clientId]">
            <img src="#" alt="image"
                 data-bind="attr: {width: addtData.width, src: $parent[clientId]().fileUrl }" />
          </span>
        </span>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-wield-map"><!-- current: vwmWidget -->
  <div data-bind="if: isVisSettingPanel">
    <div class="widget-setting-panel" data-bind="with: mdlWidget">
      <label>
        Select map:
        <select class="input-sm" data-bind="options: dictOfMap, optionsText: 'optText', optionsValue: 'optValue', value: opts.idOfSlcMapOfWield"></select>
      </label>
      <label>
        <input type="checkbox" data-bind="checked: opts.isVisImg" /> Map
      </label>
      <label>
        <input type="checkbox" data-bind="checked: opts.isVisName" /> Name
      </label>
    </div>
  </div>
  <div class="widget-content">
    <div data-bind="if: mdlWidget.opts.isVisName">
      <div class="text-center" data-bind="with: slcVwmMapOfWield">
        <span data-bind="text: name"></span>
      </div>
    </div>
    <div data-bind="if: mdlWidget.opts.isVisImg">
      <div data-bind="with: slcVwmMapOfWield">
        <!-- current: vwmMapOfWield -->
<svg class="oil-map-svg" version="1.1" width="100%" viewbox="0 0 1200 600"
     data-bind="attr: { height: svgMap.sizePx.height }, svgResponsive: { koSvgWidth: svgMap.sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu}">
  <!-- Draw wrap rectange: just for a gray background -->
  <rect class="oil-map-svg__back-rect" width="1200" height="600"></rect>
  <g data-bind="attr: { 'transform': ('translate(' + svgMap.imgStartVgX + ','+ svgMap.imgStartVgY +')') }">
    <g data-bind="svgZoomBehavior: svgMap.baseZoomBhvr">
      <g data-bind="attr: { 'transform' : svgMap.zoomTransformAttr }">
        <g data-bind="mapBinding: mapBindingOptions">
          <!--inner group for transforming and scale group of next elements: image, well markers and areas-->
        </g>
      </g>
    </g>
  </g>
  <!-- ko with: svgMap -->
  <g class="svg-zoom-controls">
  <g transform="translate(1050,10)">
    <path  transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle>
  </g>
  <g transform="translate(1050,60)">
    <path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle>
  </g>
</g>
  <!-- /ko -->
</svg>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-wield-stat"><!-- current: vwmWidget -->
  <div data-bind="if: isVisSettingPanel">
    <div class="widget-setting-panel" data-bind="with: mdlWidget">
      <label>
        <input type="checkbox" data-bind="checked: opts.isVisWellActivity" /> Well activity
      </label>
    </div>
  </div>
  <div class="widget-content">
    <div data-bind="if: mdlWidget.opts.isVisWellActivity">
      <div class="pie-wrap" data-bind="svgPie: { pieData: mdlWidget.wellActivityData}">
      </div>
      <div class="pie-legend">
        <div data-bind="foreach: mdlWidget.wellActivityData">
          <div class="pie-legend__dash" data-bind="style: { background : color }"></div>
          <span data-bind="text: name"></span>
        </div>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-well-sketch"><!-- current: vwmWidget -->
  <div data-bind="if: isVisSettingPanel">
    <div class="widget-setting-panel" data-bind="with: mdlWidget">
      <label>
        <input type="checkbox" data-bind="checked: opts.isVisImg" /> Image
      </label>
      <label>
        <input type="checkbox" data-bind="checked: opts.isVisDescription" /> Description
      </label>
    </div>
  </div>
  <div class="widget-content">
    <div data-bind="if: mdlWidget.opts.isVisImg">
      <div data-bind="with: mdlWidget.mdlStageContext.sketchOfWell">
        <div data-bind="with: fileSpec">
          <span class="pointer" data-bind="panzoomImg: { src: fileUrl }">
            <img class="img-responsive" src="#" alt="Sketch image"
                 data-bind="attr: { src: fileUrl }" />
          </span>
        </div>
      </div>
    </div>
    <div data-bind="if: mdlWidget.opts.isVisDescription">
      <div data-bind="with: mdlWidget.mdlStageContext.sketchOfWell">
        <div class="break-word pre-wrap-text" style="padding: 8px 2px;"
             data-bind="text: description"></div>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-well-history"><div data-bind="if: vwmWidget.isVisSettingPanel">
    <div class="widget-setting-panel">
      <div data-bind="with: vwmWidget.vwmScopeOfHistoryOfWell">
        <!-- curent: vwmScopeOfHistoryOfWell -->
<div>
  <span>Filter by date:</span>
  <input class="input-sm" type="text" size="10" data-bind="datepicker: startDate, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }" />
  <span> - </span>
  <input class="input-sm" type="text" size="10" data-bind="datepicker: endDate, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }" />
  <button class="btn btn-default btn-sm" type="button" data-bind="click: changeSortByDateOrder">
    Sort by date <i class="glyphicon" data-bind="css: sortByDateCss"></i>
  </button>
  <select class="input-sm" data-bind="options: jobTypeList, optionsText: 'name', optionsValue: 'id', value: jobTypeId, optionsCaption: 'Filter by job type...'"></select>
</div>
      </div>
    </div>
  </div>
  <div class="widget-content">
    <!-- with well -->
    <div data-bind="with: mdlWidget.mdlStageContext">
      <div data-bind="if: isLoadedHistoryList">
        <div data-bind="with: vwmWidget.vwmScopeOfHistoryOfWell">
          <div data-bind="ifnot: listOfVwmHistoryOfWell.hasItems">
            <small>No well history</small>
          </div>
          <div data-bind="if: listOfVwmHistoryOfWell.hasItems">
            <div data-bind="foreach: sortedListOfVwmHistoryOfWell">
              <div data-bind="slideVisible: isVisible">
                <div class="wfm-well-history-wrap" data-bind="with: mdlHistoryOfWell">
                  <div class="text-center">
                    <span class="bld" data-bind="unix: startUnixTime"></span>
                    <span data-bind="visible: isVisibleEndUnixTime">
                      - <span class="bld" data-bind="unix: endUnixTime"></span>
                    </span>
                  </div>
                  <div data-bind="visible: historyText">
                    <p class="wfm-well-history-record pre-wrap-text" data-bind="text: historyText"></p>
                  </div>
                  <div class="text-right" data-bind="with: jobType">
                    <span class="bld">Job type:</span>
                    <span data-bind="text: name"></span>
                  </div>
                  <div data-bind="foreach: WfmImages">
                    <span class="pointer" data-bind="panzoomImg: {src: croppedImageUrl}">
                      <img class="img-thumbnail elem-shadow" src="" data-bind="attr: { src: croppedImageUrl }" alt="History image" />
                    </span>
                  </div>
                  <div class="clearfix" data-bind="foreach: WellHistoryFiles">
                    <div class="img-thumbnail pull-left" data-bind="with: fileSpec">
                      <span>
                        <!-- TODO: #33! bug - download feat in a view - back: click: download -->
                        <span data-bind="text: namePlusExtension"></span>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-well-perfomance"><!-- current: vwmWidget -->
  <div data-bind="if: vwmWidget.isVisSettingPanel">
    <div class="widget-setting-panel">
      <div data-bind="with: vwmWidget.vwmPerfomanceOfWell">
        <div class="text-center">
          <div class="btn-group" data-bind="foreach: $root.mdlWorkspace.wfmParamSquadList">
            <!-- ko with: id -->
            <button type="button" class="btn btn-default btn-sm" data-bind="click: $parents[1].selectAttrGroupId, css: {'active': $parents[1].selectedAttrGroupId() === $data } ">
                <span data-bind="text: $data"></span>
            </button>
            <!-- /ko -->
          </div>
          <div style="margin-top:4px">
            <select data-bind="options: joinedYearList, value: WPDDateStartYear" class="input-sm"></select>
            <select data-bind="options: monthList, value: WPDDateStartMonth" class="input-sm"></select>
            <span>&nbsp;-&nbsp;</span>
            <select data-bind="options: joinedYearList, value: WPDDateEndYear" class="input-sm"></select>
            <select data-bind="options: monthList, value: WPDDateEndMonth" class="input-sm"></select>
            <label class="checkbox-inline">
                <input type="checkbox" data-bind="checked: isVisibleForecastData, enable: mdlPerfomanceOfWell.isForecastPossible" />Show forecast
            </label>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="widget-content">
    <div data-bind="with: vwmWidget.vwmPerfomanceOfWell">
      <div data-bind="ifnot: mdlPerfomanceOfWell.isLoadedHstProductionData">loading...</div>
      <div data-bind="if: mdlPerfomanceOfWell.isLoadedHstProductionData">
        <div data-bind="if: mdlPerfomanceOfWell.hstProductionDataSet().length === 0">No data.</div>
        <div data-bind="if: mdlPerfomanceOfWell.hstProductionDataSet().length > 0">
          <div data-bind="if: selectedAttrGroup">
            <!-- ko with: prfmGraph -->
            <!-- parent: vwmPerfomanceOfWell or vwmMonitoringOfWell -->
<!-- current: svgGraph (prfmGraph or mntrGraph) -->
<div class="graph-wrap">
  <svg version="1.1" viewbox="0 0 1200 400" width="100%" 
    data-bind="attr: { height: sizePx.height }, svgResponsive: { koSvgWidth: sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu }">
    <g data-bind="attr: { transform: baseTransform }">
      <g>
        <g data-bind="attr: { transform: axisXTransform }">
          <g class="axis x" data-bind="graphAxis: axis.x"></g>
        </g>
        <g>
          <g class="axis y" data-bind="graphAxis: axis.y"></g>
        </g>
        <g clip-path="url(#graph-clip)">
          <g data-bind="graphPaths: paths">
            <!-- here are data paths (curves) -->
          </g>
        </g>
        <!-- add zoom functionality: rect with zoom -->
        <rect class="graph-zoom-rect" x="0" y="0" width="0" height="0" 
              data-bind="attr: { width: vboxSize.width, height: vboxSize.height }, svgZoomBehavior: baseZoomBhvr">
        </rect>
        <g class="svg-zoom-controls">
  <g transform="translate(1050,10)">
    <path  transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle>
  </g>
  <g transform="translate(1050,60)">
    <path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle>
  </g>
</g>
      </g>
    </g>
  </svg>
</div>
            <!-- /ko -->
          </div>
        </div>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-well-monitoring"><!-- current: vwmWidget -->
  <div data-bind="if: vwmWidget.isVisSettingPanel">
    <div class="widget-setting-panel">
      <div data-bind="with: vwmWidget.widgetVwmMonitoringOfWell">
        <input class="input-sm" size="10" data-bind="datepicker: mntrUnixTimeBorder.start, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"/>
        <span>-</span>
        <input class="input-sm" size="10" data-bind="datepicker: mntrUnixTimeBorder.end, datepickerOptions: { format: 'yyyy-mm-dd', selectYears: true, selectMonths: true }"/>
      </div>
    </div>
  </div>
  <div class="widget-content">
    <div data-bind="with: vwmWidget.widgetVwmMonitoringOfWell">
      <div data-bind="with: mntrGraph">
        <!-- parent: vwmPerfomanceOfWell or vwmMonitoringOfWell -->
<!-- current: svgGraph (prfmGraph or mntrGraph) -->
<div class="graph-wrap">
  <svg version="1.1" viewbox="0 0 1200 400" width="100%" 
    data-bind="attr: { height: sizePx.height }, svgResponsive: { koSvgWidth: sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu }">
    <g data-bind="attr: { transform: baseTransform }">
      <g>
        <g data-bind="attr: { transform: axisXTransform }">
          <g class="axis x" data-bind="graphAxis: axis.x"></g>
        </g>
        <g>
          <g class="axis y" data-bind="graphAxis: axis.y"></g>
        </g>
        <g clip-path="url(#graph-clip)">
          <g data-bind="graphPaths: paths">
            <!-- here are data paths (curves) -->
          </g>
        </g>
        <!-- add zoom functionality: rect with zoom -->
        <rect class="graph-zoom-rect" x="0" y="0" width="0" height="0" 
              data-bind="attr: { width: vboxSize.width, height: vboxSize.height }, svgZoomBehavior: baseZoomBhvr">
        </rect>
        <g class="svg-zoom-controls">
  <g transform="translate(1050,10)">
    <path  transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle>
  </g>
  <g transform="translate(1050,60)">
    <path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle>
  </g>
</g>
      </g>
    </g>
  </svg>
</div>
      </div>
    </div>
  </div></script><script type="text/html" id="widget-tpl-well-map"><!-- current: vwmWidget -->  
  <div data-bind="if: vwmWidget.isVisSettingPanel">
    <div class="widget-setting-panel" data-bind="with: vwmWidget.mdlWidget">
      <select class="input-sm" data-bind="options: dictOfMapMarker, optionsText: 'optText', optionsValue: 'optValue', value: opts.idOfSlcMapOfWield"></select>
    </div>
  </div>
  <div class="widget-content">
      <div data-bind="with: vwmWidget.slcVwmMapMarker">
        <div data-bind="with: getVwmMapOfWield()">
          <!-- current: vwmMapOfWield -->
<svg class="oil-map-svg" version="1.1" width="100%" viewbox="0 0 1200 600"
     data-bind="attr: { height: svgMap.sizePx.height }, svgResponsive: { koSvgWidth: svgMap.sizePx.width, tmpIsVisibleMenu: $root.isVisibleMenu}">
  <!-- Draw wrap rectange: just for a gray background -->
  <rect class="oil-map-svg__back-rect" width="1200" height="600"></rect>
  <g data-bind="attr: { 'transform': ('translate(' + svgMap.imgStartVgX + ','+ svgMap.imgStartVgY +')') }">
    <g data-bind="svgZoomBehavior: svgMap.baseZoomBhvr">
      <g data-bind="attr: { 'transform' : svgMap.zoomTransformAttr }">
        <g data-bind="mapBinding: mapBindingOptions">
          <!--inner group for transforming and scale group of next elements: image, well markers and areas-->
        </g>
      </g>
    </g>
  </g>
  <!-- ko with: svgMap -->
  <g class="svg-zoom-controls">
  <g transform="translate(1050,10)">
    <path  transform="scale(0.1)" d="M363.68,288.439h-76.24v76.238h-58.877v-76.238h-76.24v-58.877h76.24v-76.24h58.877v76.24h76.24V288.439z
M462,256c0,113.771-92.229,206-206,206S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256
c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomIn"></circle>
  </g>
  <g transform="translate(1050,60)">
    <path transform="scale(0.1)" d="M363.68,288.439H152.322v-58.877H363.68V288.439z M462,256c0,113.771-92.229,206-206,206
S50,369.771,50,256S142.229,50,256,50S462,142.229,462,256z M422,256c0-91.755-74.258-166-166-166c-91.755,0-166,74.259-166,166
c0,91.755,74.258,166,166,166C347.755,422,422,347.741,422,256z"></path>
    <circle cx="256" cy="256" r="256" transform="scale(0.1)" data-bind="click: zoomOut"></circle>
  </g>
</g>
  <!-- /ko -->
</svg>
        </div>
      </div>
  </div></script><!-- clip path for svg blocks --><!-- Clip path for graphs --><svg x="0" y="0" width="0" height="0"><clippath id="graph-clip"><rect x="0" y="0" width="1110" height="370"></rect></clippath></svg></div><footer class="wfm-footer navbar-fixed-bottom"><div class="wfm-footer__logo-wrap"><div class="wfm-footer__logo"></div></div></footer><!-- <div id="loader-main" class="loader-circle-large"></div> --><div id="loader-main"><div class="f_circleG" id="frotateG_01"></div><div class="f_circleG" id="frotateG_02"></div><div class="f_circleG" id="frotateG_03"></div><div class="f_circleG" id="frotateG_04"></div><div class="f_circleG" id="frotateG_05"></div><div class="f_circleG" id="frotateG_06"></div><div class="f_circleG" id="frotateG_07"></div><div class="f_circleG" id="frotateG_08"></div></div><!-- Load main script file for page or default (with auth logic only) --><script data-main="js/main-bundle-0.9.9" src="js/require.min.js"></script></body></html>