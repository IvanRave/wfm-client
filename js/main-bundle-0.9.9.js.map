{"version":3,"file":"main-bundle-0.9.9.js","sources":["require-config.js","main.js","es5-shim.js","es5-sham.js","console-shim.js","bootstrap/transition.js","bootstrap/modal.js","bootstrap/dropdown.js","jquery.panzoom.js","knockout.js","moment.js","helpers/modal-helper.js","jquery.ui.widget.js","jquery.fileupload.js","helpers/file-helper.js","jquery.slimscroll.js","picker.js","picker.date.js","bindings/all-bindings.js","helpers/map-helper.js","helpers/app-helper.js","helpers/svg-pie-helper.js","bindings/svg-bindings.js","helpers/knockout-lazy.js","helpers/lang-helper.js","helpers/loader-helper.js","helpers/ajax-request.js","services/auth.js","services/company-user.js","services/datacontext.js","services/section-pattern.js","constants/stage-constants.js","services/widgout.js","helpers/string-helper.js","helpers/history-helper.js","helpers/cookie-helper.js","viewmodels/file-spec.js","viewmodels/section-of-stage.js","base-viewmodels/widget-base.js","viewmodels/widget-default-summary.js","models/column-attribute.js","constants/graph-constants.js","viewmodels/svg-block.js","viewmodels/svg-graph.js","viewmodels/wfm-parameter-of-wroup.js","viewmodels/perfomance-of-well.js","viewmodels/widget-well-perfomance.js","helpers/monitoring-helper.js","viewmodels/monitoring-of-well.js","viewmodels/widget-well-monitoring.js","viewmodels/widget-well-sketch.js","viewmodels/history-of-well.js","viewmodels/scope-of-history-of-well.js","viewmodels/widget-well-history.js","viewmodels/map-tool.js","viewmodels/well-marker-of-map-of-wield.js","viewmodels/svg-map.js","viewmodels/map-of-wield.js","viewmodels/widget-wield-map.js","viewmodels/widget-well-map.js","viewmodels/widget-wield-stat.js","viewmodels/widgock.js","viewmodels/widgout.js","constants/stage-view-constants.js","viewmodels/fmgr-modal.js","base-viewmodels/stage-base.js","viewmodels/sketch-of-well.js","viewmodels/volume-of-well.js","viewmodels/log-of-well.js","viewmodels/nodal-analysis-of-well.js","viewmodels/integrity-of-well.js","viewmodels/test-scope.js","viewmodels/well.js","viewmodels/wroup.js","viewmodels/wield.js","viewmodels/wegion.js","viewmodels/company.js","viewmodels/employee.js","viewmodels/user-profile.js","constants/global-css-constants.js","viewmodels/workspace.js","models/file-spec.js","services/widget.js","base-models/widget-base.js","models/widget-default-summary.js","models/widget-well-history.js","models/widget-well-map.js","models/widget-well-monitoring.js","models/widget-well-perfomance.js","models/widget-well-sketch.js","models/widget-wield-map.js","models/widget-wield-stat.js","models/widgock.js","services/report.js","models/widgout.js","base-models/stage-base.js","services/map-of-wield.js","models/area-of-map-of-wield.js","services/well-marker-of-map-of-wield.js","models/well-marker-of-map-of-wield.js","models/map-of-wield.js","services/file-spec.js","models/pre-file.js","models/section-of-stage.js","models/production-data.js","models/forecast-evolution.js","models/perfomance-of-well.js","services/sketch-of-well.js","models/sketch-of-well.js","models/prop-spec.js","services/well.js","models/integrity-of-well.js","services/integrity-of-well.js","models/nodal-analysis-of-well.js","services/nodal-analysis-of-well.js","models/volume-of-well.js","services/volume-of-well.js","models/file-spec-of-history-of-well.js","services/file-spec-of-history-of-well.js","models/wfm-image.js","services/image-of-history-of-well.js","models/history-of-well.js","services/log-of-well.js","models/svg-elem.js","services/svg-elem-of-log-of-well.js","models/log-of-well.js","services/test-data.js","models/test-data.js","services/test-scope.js","models/test-scope.js","services/procent-border.js","models/procent-border.js","services/monitoring-record.js","models/monitoring-record.js","models/well.js","helpers/uom-helper.js","constants/uom-constants.js","models/wfm-parameter.js","services/wfm-parameter-of-wroup.js","models/wfm-parameter-of-wroup.js","services/wroup.js","models/wroup.js","services/wield.js","models/wield.js","services/wegion.js","models/wegion.js","models/job-type.js","services/company.js","models/company.js","models/employee.js","models/section-pattern.js","models/user-profile.js","models/wfm-param-squad.js","services/wfm-param-squad.js","models/workspace.js"],"names":[],"mappings":"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","sourcesContent":["define('require-config',[], function () {\r\n\trequirejs.config({\r\n\t\t//baseUrl: '.',\r\n\t\twaitSeconds : 0, // turn off -> by default = 7\r\n\t\tpaths : {\r\n\t\t\t'jquery' : 'jquery.min',\r\n\t\t\t'd3' : 'd3.min'\r\n\t\t\t// // 'bootstrap-modal': 'bootstrap/modal',\r\n\t\t\t// // 'bootstrap-dropdown': 'bootstrap/dropdown',\r\n\t\t\t// // 'bootstrap-transition': 'bootstrap/transition'\r\n\t\t\t////'leaflet': '../libs/leaflet/leaflet',\r\n\t\t\t////'yandex-map': '//api-maps.yandex.ru/2.0/?load=package.full&lang=en-US'\r\n\t\t\t////'blob-js': 'blobjs/Blob.min',\r\n\t\t\t////'blob-builder': 'blobjs/BlobBuilder.min',\r\n\t\t\t////'filesaver': 'filesaverjs/filesaver.min',\r\n\t\t\t////'jspdf' : 'jspdf.min'\r\n\t\t\t////'jspdf.plugin.addimage': 'jspdf/jspdf.plugin.addimage',\r\n\t\t\t////'jspdf.plugin.cell': 'jspdf/jspdf.plugin.cell',\r\n\t\t\t////'jspdf.plugin.from_html': 'jspdf/jspdf.plugin.from_html',\r\n\t\t\t////'jspdf.plugin.ie_below_9_shim': 'jspdf/jspdf.plugin.ie_below_9_shim',\r\n\t\t\t////'jspdf.plugin.javascript': 'jspdf/jspdf.plugin.javascript',\r\n\t\t\t////'jspdf.plugin.sillysvgrenderer': 'jspdf/jspdf.plugin.sillysvgrenderer',\r\n\t\t\t////'jspdf.plugin.split_text_to_size': 'jspdf/jspdf.plugin.split_text_to_size',\r\n\t\t\t////'jspdf.plugin.standard_fonts_metrics': 'jspdf/jspdf.plugin.standard_fonts_metrics',\r\n\t\t\t////'jspdf.PLUGINTEMPLATE': 'jspdf/jspdf.PLUGINTEMPLATE'\r\n\t\t},\r\n\t\tshim : {\r\n\t\t\t// Shim config does not work after optimization builds with CDN resources.\r\n\t\t\t// Need only for 3-rd side libraries when no AMD\r\n\t\t\t'bootstrap/transition' : {\r\n\t\t\t\tdeps : ['jquery']\r\n\t\t\t},\r\n\t\t\t'bootstrap/modal' : {\r\n\t\t\t\tdeps : ['jquery', 'bootstrap/transition']\r\n\t\t\t},\r\n\t\t\t'bootstrap/dropdown' : {\r\n\t\t\t\tdeps : ['jquery', 'bootstrap/transition']\r\n\t\t\t},\r\n\t\t\t'jquery.slimscroll' : {\r\n\t\t\t\tdeps : ['jquery']\r\n\t\t\t},\r\n\t\t\t'jquery.Jcrop' : {\r\n\t\t\t\tdeps : ['jquery']\r\n\t\t\t},\r\n\t\t\t'd3' : {\r\n\t\t\t\texports : 'd3'\r\n\t\t\t}\r\n\t\t\t////'jspdf' : { exports : 'jsPDF' }\r\n\t\t\t////'jspdf.plugin.addimage': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.cell': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.from_html': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.ie_below_9_shim': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.javascript': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.sillysvgrenderer': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.split_text_to_size': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.plugin.standard_fonts_metrics': { deps: ['jspdf'] },\r\n\t\t\t////'jspdf.PLUGINTEMPLATE': { deps: ['jspdf'] }\r\n\t\t}\r\n\t\t// need define or exports for each module\r\n\t\t// enforceDefine: true\r\n\t});\r\n});\r\n\n","require(['require-config'], function () {\r\n\t'use strict';\r\n\r\n\trequire(['console-shim', 'es5-shim', 'es5-sham'], function () {\r\n\t\trequire(['jquery', 'knockout', 'viewmodels/workspace', 'models/workspace', 'bindings/all-bindings', 'bindings/svg-bindings', 'jquery.panzoom'], function ($, ko, VwmWorkspace, MdlWorkspace) {\r\n\r\n      // Can be added HasItems checker for all observable and computed arrays\r\n\t\t\t// Usefull instead checking \"arr().length > 0\" in views\r\n\t\t\tvar funcTrackHasItem = function () {\r\n\t\t\t\tthis.hasItems = ko.computed({\r\n\t\t\t\t\t\tread : function () {\r\n\t\t\t\t\t\t\treturn ko.unwrap(this).length > 0;\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\t\t\towner : this\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t// Support chaining by returning the array\r\n\t\t\t\treturn this;\r\n\t\t\t};\r\n\r\n      // Only for arrays (with length property)\r\n\t\t\tko.computed.fn.trackHasItems = funcTrackHasItem;\r\n\t\t\tko.observableArray.fn.trackHasItems = funcTrackHasItem;\r\n  \r\n      var mdlWorkspace = new MdlWorkspace();\r\n\t\t\tvar vwmWorkspace = new VwmWorkspace(mdlWorkspace);\r\n  \r\n\t\t\t$(function () {\r\n\t\t\t\t// ======================================= pan zoom =======================\r\n\t\t\t\tvar $panzoom = $('.panzoom').panzoom({\r\n\t\t\t\t\t\t$zoomIn : $('.panzoom-in'),\r\n\t\t\t\t\t\t$zoomOut : $('.panzoom-out'),\r\n\t\t\t\t\t\t$reset : $('.panzoom-reset'),\r\n\t\t\t\t\t\tincrement : 0.3,\r\n\t\t\t\t\t\tminScale : 0.0001,\r\n\t\t\t\t\t\tmaxScale : 10000,\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t$panzoom.parent().on('mousewheel.focal', function (e) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tvar delta = e.delta || e.originalEvent.wheelDelta;\r\n\t\t\t\t\tvar zoomOut = delta ? delta < 0 : e.originalEvent.deltaY > 0;\r\n\t\t\t\t\t$panzoom.panzoom('zoom', zoomOut, {\r\n\t\t\t\t\t\tincrement : 0.1,\r\n\t\t\t\t\t\tfocal : e\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t\t// ======================================= pan zoom end =======================\r\n\r\n\t\t\t\tvar workspaceProjectBlock = document.getElementById('workspace-project');\r\n\r\n\t\t\t\tko.applyBindings(vwmWorkspace, workspaceProjectBlock);\r\n\t\t\t\t$(workspaceProjectBlock).removeClass('hide');\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n});\r\n\ndefine(\"main\", function(){});\n\n","// Copyright 2009-2012 by contributors, MIT License\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concated code.\n;\n// Module systems magic dance\n(function (definition) {\n    // RequireJS\n    if (typeof define == \"function\") {\n        define('es5-shim',definition);\n    // YUI3\n    } else if (typeof YUI == \"function\") {\n        YUI.add(\"es5\", definition);\n    // CommonJS and <script>\n    } else {\n        definition();\n    }\n})(function () {\n\n/**\n * Brings an environment as close to ECMAScript 5 compliance\n * as is possible with the facilities of erstwhile engines.\n *\n * Annotated ES5: http://es5.github.com/ (specific links below)\n * ES5 Spec: http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf\n * Required reading: http://javascriptweblog.wordpress.com/2011/12/05/extending-javascript-natives/\n */\n\n// ES-5 15.1.2.2\nif (parseInt('08') !== 8) {\n    parseInt = (function (origParseInt) {\n        var hexRegex = /^0[xX]/;\n        return function parseIntES5(str, radix) {\n            str = String(str).trim();\n            if (!+radix) {\n                radix = hexRegex.test(str) ? 16 : 10;\n            }\n            return origParseInt(str, radix);\n        };\n    }(parseInt));\n}\n\n//\n// Function\n// ========\n//\n\n// ES-5 15.3.4.5\n// http://es5.github.com/#x15.3.4.5\n\nfunction Empty() {}\n\nif (!Function.prototype.bind) {\n    Function.prototype.bind = function bind(that) { // .length is 1\n        // 1. Let Target be the this value.\n        var target = this;\n        // 2. If IsCallable(Target) is false, throw a TypeError exception.\n        if (typeof target != \"function\") {\n            throw new TypeError(\"Function.prototype.bind called on incompatible \" + target);\n        }\n        // 3. Let A be a new (possibly empty) internal list of all of the\n        //   argument values provided after thisArg (arg1, arg2 etc), in order.\n        // XXX slicedArgs will stand in for \"A\" if used\n        var args = _Array_slice_.call(arguments, 1); // for normal call\n        // 4. Let F be a new native ECMAScript object.\n        // 11. Set the [[Prototype]] internal property of F to the standard\n        //   built-in Function prototype object as specified in 15.3.3.1.\n        // 12. Set the [[Call]] internal property of F as described in\n        //   15.3.4.5.1.\n        // 13. Set the [[Construct]] internal property of F as described in\n        //   15.3.4.5.2.\n        // 14. Set the [[HasInstance]] internal property of F as described in\n        //   15.3.4.5.3.\n        var binder = function () {\n\n            if (this instanceof bound) {\n                // 15.3.4.5.2 [[Construct]]\n                // When the [[Construct]] internal method of a function object,\n                // F that was created using the bind function is called with a\n                // list of arguments ExtraArgs, the following steps are taken:\n                // 1. Let target be the value of F's [[TargetFunction]]\n                //   internal property.\n                // 2. If target has no [[Construct]] internal method, a\n                //   TypeError exception is thrown.\n                // 3. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Construct]] internal\n                //   method of target providing args as the arguments.\n\n                var result = target.apply(\n                    this,\n                    args.concat(_Array_slice_.call(arguments))\n                );\n                if (Object(result) === result) {\n                    return result;\n                }\n                return this;\n\n            } else {\n                // 15.3.4.5.1 [[Call]]\n                // When the [[Call]] internal method of a function object, F,\n                // which was created using the bind function is called with a\n                // this value and a list of arguments ExtraArgs, the following\n                // steps are taken:\n                // 1. Let boundArgs be the value of F's [[BoundArgs]] internal\n                //   property.\n                // 2. Let boundThis be the value of F's [[BoundThis]] internal\n                //   property.\n                // 3. Let target be the value of F's [[TargetFunction]] internal\n                //   property.\n                // 4. Let args be a new list containing the same values as the\n                //   list boundArgs in the same order followed by the same\n                //   values as the list ExtraArgs in the same order.\n                // 5. Return the result of calling the [[Call]] internal method\n                //   of target providing boundThis as the this value and\n                //   providing args as the arguments.\n\n                // equiv: target.call(this, ...boundArgs, ...args)\n                return target.apply(\n                    that,\n                    args.concat(_Array_slice_.call(arguments))\n                );\n\n            }\n\n        };\n\n        // 15. If the [[Class]] internal property of Target is \"Function\", then\n        //     a. Let L be the length property of Target minus the length of A.\n        //     b. Set the length own property of F to either 0 or L, whichever is\n        //       larger.\n        // 16. Else set the length own property of F to 0.\n\n        var boundLength = Math.max(0, target.length - args.length);\n\n        // 17. Set the attributes of the length own property of F to the values\n        //   specified in 15.3.5.1.\n        var boundArgs = [];\n        for (var i = 0; i < boundLength; i++) {\n            boundArgs.push(\"$\" + i);\n        }\n\n        // XXX Build a dynamic function with desired amount of arguments is the only \n        // way to set the length property of a function. \n        // In environments where Content Security Policies enabled (Chrome extensions, \n        // for ex.) all use of eval or Function costructor throws an exception. \n        // However in all of these environments Function.prototype.bind exists \n        // and so this code will never be executed.\n        var bound = Function(\"binder\", \"return function(\" + boundArgs.join(\",\") + \"){return binder.apply(this,arguments)}\")(binder);\n\n        if (target.prototype) {\n            Empty.prototype = target.prototype;\n            bound.prototype = new Empty();\n            // Clean up dangling references.\n            Empty.prototype = null;\n        }\n\n        // TODO\n        // 18. Set the [[Extensible]] internal property of F to true.\n\n        // TODO\n        // 19. Let thrower be the [[ThrowTypeError]] function Object (13.2.3).\n        // 20. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"caller\", PropertyDescriptor {[[Get]]: thrower, [[Set]]:\n        //   thrower, [[Enumerable]]: false, [[Configurable]]: false}, and\n        //   false.\n        // 21. Call the [[DefineOwnProperty]] internal method of F with\n        //   arguments \"arguments\", PropertyDescriptor {[[Get]]: thrower,\n        //   [[Set]]: thrower, [[Enumerable]]: false, [[Configurable]]: false},\n        //   and false.\n\n        // TODO\n        // NOTE Function objects created using Function.prototype.bind do not\n        // have a prototype property or the [[Code]], [[FormalParameters]], and\n        // [[Scope]] internal properties.\n        // XXX can't delete prototype in pure-js.\n\n        // 22. Return F.\n        return bound;\n    };\n}\n\n// Shortcut to an often accessed properties, in order to avoid multiple\n// dereference that costs universally.\n// _Please note: Shortcuts are defined after `Function.prototype.bind` as we\n// us it in defining shortcuts.\nvar call = Function.prototype.call;\nvar prototypeOfArray = Array.prototype;\nvar prototypeOfObject = Object.prototype;\nvar _Array_slice_ = prototypeOfArray.slice;\n// Having a toString local variable name breaks in Opera so use _toString.\nvar _toString = call.bind(prototypeOfObject.toString);\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\n\n//\n// Array\n// =====\n//\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.12\n// Default value for second param\n// [bugfix, ielt9, old browsers]\n// IE < 9 bug: [1,2].splice(0).join(\"\") == \"\" but should be \"12\"\nif ([1,2].splice(0).length != 2) {\n    var array_splice = Array.prototype.splice;\n    var array_push = Array.prototype.push;\n    var array_unshift = Array.prototype.unshift;\n\n    if (function() { // test IE < 9 to splice bug - see issue #138\n        function makeArray(l) {\n            var a = [];\n            while (l--) {\n                a.unshift(l)\n            }\n            return a\n        }\n\n        var array = []\n            , lengthBefore\n        ;\n\n        array.splice.bind(array, 0, 0).apply(null, makeArray(20));\n        array.splice.bind(array, 0, 0).apply(null, makeArray(26));\n\n        lengthBefore = array.length; //20\n        array.splice(5, 0, \"XXX\"); // add one element\n\n        if (lengthBefore + 1 == array.length) {\n            return true;// has right splice implementation without bugs\n        }\n        // else {\n        //    IE8 bug\n        // }\n    }()) {//IE 6/7\n        Array.prototype.splice = function(start, deleteCount) {\n            if (!arguments.length) {\n                return [];\n            } else {\n                return array_splice.apply(this, [\n                    start === void 0 ? 0 : start,\n                    deleteCount === void 0 ? (this.length - start) : deleteCount\n                ].concat(_Array_slice_.call(arguments, 2)))\n            }\n        };\n    }\n    else {//IE8\n        Array.prototype.splice = function(start, deleteCount) {\n            var result\n                , args = _Array_slice_.call(arguments, 2)\n                , addElementsCount = args.length\n            ;\n\n            if (!arguments.length) {\n                return [];\n            }\n\n            if (start === void 0) { // default\n                start = 0;\n            }\n            if (deleteCount === void 0) { // default\n                deleteCount = this.length - start;\n            }\n\n            if (addElementsCount > 0) {\n                if (deleteCount <= 0) {\n                    if (start == this.length) { // tiny optimisation #1\n                        array_push.apply(this, args);\n                        return [];\n                    }\n\n                    if (start == 0) { // tiny optimisation #2\n                        array_unshift.apply(this, args);\n                        return [];\n                    }\n                }\n\n                // Array.prototype.splice implementation\n                result = _Array_slice_.call(this, start, start + deleteCount);// delete part\n                args.push.apply(args, _Array_slice_.call(this, start + deleteCount, this.length));// right part\n                args.unshift.apply(args, _Array_slice_.call(this, 0, start));// left part\n\n                // delete all items from this array and replace it to 'left part' + _Array_slice_.call(arguments, 2) + 'right part'\n                args.unshift(0, this.length);\n\n                array_splice.apply(this, args);\n\n                return result;\n            }\n\n            return array_splice.call(this, start, deleteCount);\n        }\n\n    }\n}\n\n// ES5 15.4.4.12\n// http://es5.github.com/#x15.4.4.13\n// Return len+argCount.\n// [bugfix, ielt8]\n// IE < 8 bug: [].unshift(0) == undefined but should be \"1\"\nif ([].unshift(0) != 1) {\n    var array_unshift = Array.prototype.unshift;\n    Array.prototype.unshift = function() {\n        array_unshift.apply(this, arguments);\n        return this.length;\n    };\n}\n\n// ES5 15.4.3.2\n// http://es5.github.com/#x15.4.3.2\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/isArray\nif (!Array.isArray) {\n    Array.isArray = function isArray(obj) {\n        return _toString(obj) == \"[object Array]\";\n    };\n}\n\n// The IsCallable() check in the Array functions\n// has been replaced with a strict check on the\n// internal class of the object to trap cases where\n// the provided function was actually a regular\n// expression literal, which in V8 and\n// JavaScriptCore is a typeof \"function\".  Only in\n// V8 are regular expression literals permitted as\n// reduce parameters, so it is desirable in the\n// general case for the shim to match the more\n// strict and common behavior of rejecting regular\n// expressions.\n\n// ES5 15.4.4.18\n// http://es5.github.com/#x15.4.4.18\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/array/forEach\n\n// Check failure of by-index access of string characters (IE < 9)\n// and failure of `0 in boxedString` (Rhino)\nvar boxedString = Object(\"a\"),\n    splitString = boxedString[0] != \"a\" || !(0 in boxedString);\n// Check node 0.6.21 bug where third parameter is not boxed\nvar boxedForEach = true;\nif (Array.prototype.forEach) {\n    Array.prototype.forEach.call(\"foo\", function(item, i, obj) {\n        if (typeof obj !== 'object') boxedForEach = false;\n    });\n}\n\nif (!Array.prototype.forEach || !boxedForEach) {\n    Array.prototype.forEach = function forEach(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            thisp = arguments[1],\n            i = -1,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(); // TODO message\n        }\n\n        while (++i < length) {\n            if (i in self) {\n                // Invoke the callback function with call, passing arguments:\n                // context, property value, property key, thisArg object\n                // context\n                fun.call(thisp, self[i], i, object);\n            }\n        }\n    };\n}\n\n// ES5 15.4.4.19\n// http://es5.github.com/#x15.4.4.19\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/map\nif (!Array.prototype.map) {\n    Array.prototype.map = function map(fun /*, thisp*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            result = Array(length),\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self)\n                result[i] = fun.call(thisp, self[i], i, object);\n        }\n        return result;\n    };\n}\n\n// ES5 15.4.4.20\n// http://es5.github.com/#x15.4.4.20\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/filter\nif (!Array.prototype.filter) {\n    Array.prototype.filter = function filter(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                    object,\n            length = self.length >>> 0,\n            result = [],\n            value,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self) {\n                value = self[i];\n                if (fun.call(thisp, value, i, object)) {\n                    result.push(value);\n                }\n            }\n        }\n        return result;\n    };\n}\n\n// ES5 15.4.4.16\n// http://es5.github.com/#x15.4.4.16\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/every\nif (!Array.prototype.every) {\n    Array.prototype.every = function every(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && !fun.call(thisp, self[i], i, object)) {\n                return false;\n            }\n        }\n        return true;\n    };\n}\n\n// ES5 15.4.4.17\n// http://es5.github.com/#x15.4.4.17\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/some\nif (!Array.prototype.some) {\n    Array.prototype.some = function some(fun /*, thisp */) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0,\n            thisp = arguments[1];\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        for (var i = 0; i < length; i++) {\n            if (i in self && fun.call(thisp, self[i], i, object)) {\n                return true;\n            }\n        }\n        return false;\n    };\n}\n\n// ES5 15.4.4.21\n// http://es5.github.com/#x15.4.4.21\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduce\nif (!Array.prototype.reduce) {\n    Array.prototype.reduce = function reduce(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value and an empty array\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduce of empty array with no initial value\");\n        }\n\n        var i = 0;\n        var result;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i++];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (++i >= length) {\n                    throw new TypeError(\"reduce of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        for (; i < length; i++) {\n            if (i in self) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        }\n\n        return result;\n    };\n}\n\n// ES5 15.4.4.22\n// http://es5.github.com/#x15.4.4.22\n// https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/Objects/Array/reduceRight\nif (!Array.prototype.reduceRight) {\n    Array.prototype.reduceRight = function reduceRight(fun /*, initial*/) {\n        var object = toObject(this),\n            self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                object,\n            length = self.length >>> 0;\n\n        // If no callback function or if callback is not a callable function\n        if (_toString(fun) != \"[object Function]\") {\n            throw new TypeError(fun + \" is not a function\");\n        }\n\n        // no value to return if no initial value, empty array\n        if (!length && arguments.length == 1) {\n            throw new TypeError(\"reduceRight of empty array with no initial value\");\n        }\n\n        var result, i = length - 1;\n        if (arguments.length >= 2) {\n            result = arguments[1];\n        } else {\n            do {\n                if (i in self) {\n                    result = self[i--];\n                    break;\n                }\n\n                // if array contains no values, no initial value to return\n                if (--i < 0) {\n                    throw new TypeError(\"reduceRight of empty array with no initial value\");\n                }\n            } while (true);\n        }\n\n        if (i < 0) {\n            return result;\n        }\n\n        do {\n            if (i in this) {\n                result = fun.call(void 0, result, self[i], i, object);\n            }\n        } while (i--);\n\n        return result;\n    };\n}\n\n// ES5 15.4.4.14\n// http://es5.github.com/#x15.4.4.14\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/indexOf\nif (!Array.prototype.indexOf || ([0, 1].indexOf(1, 2) != -1)) {\n    Array.prototype.indexOf = function indexOf(sought /*, fromIndex */ ) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n\n        var i = 0;\n        if (arguments.length > 1) {\n            i = toInteger(arguments[1]);\n        }\n\n        // handle negative indices\n        i = i >= 0 ? i : Math.max(0, length + i);\n        for (; i < length; i++) {\n            if (i in self && self[i] === sought) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\n// ES5 15.4.4.15\n// http://es5.github.com/#x15.4.4.15\n// https://developer.mozilla.org/en/JavaScript/Reference/Global_Objects/Array/lastIndexOf\nif (!Array.prototype.lastIndexOf || ([0, 1].lastIndexOf(0, -3) != -1)) {\n    Array.prototype.lastIndexOf = function lastIndexOf(sought /*, fromIndex */) {\n        var self = splitString && _toString(this) == \"[object String]\" ?\n                this.split(\"\") :\n                toObject(this),\n            length = self.length >>> 0;\n\n        if (!length) {\n            return -1;\n        }\n        var i = length - 1;\n        if (arguments.length > 1) {\n            i = Math.min(i, toInteger(arguments[1]));\n        }\n        // handle negative indices\n        i = i >= 0 ? i : length - Math.abs(i);\n        for (; i >= 0; i--) {\n            if (i in self && sought === self[i]) {\n                return i;\n            }\n        }\n        return -1;\n    };\n}\n\n//\n// Object\n// ======\n//\n\n// ES5 15.2.3.14\n// http://es5.github.com/#x15.2.3.14\nif (!Object.keys) {\n    // http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n    var hasDontEnumBug = true,\n        dontEnums = [\n            \"toString\",\n            \"toLocaleString\",\n            \"valueOf\",\n            \"hasOwnProperty\",\n            \"isPrototypeOf\",\n            \"propertyIsEnumerable\",\n            \"constructor\"\n        ],\n        dontEnumsLength = dontEnums.length;\n\n    for (var key in {\"toString\": null}) {\n        hasDontEnumBug = false;\n    }\n\n    Object.keys = function keys(object) {\n\n        if (\n            (typeof object != \"object\" && typeof object != \"function\") ||\n            object === null\n        ) {\n            throw new TypeError(\"Object.keys called on a non-object\");\n        }\n\n        var keys = [];\n        for (var name in object) {\n            if (owns(object, name)) {\n                keys.push(name);\n            }\n        }\n\n        if (hasDontEnumBug) {\n            for (var i = 0, ii = dontEnumsLength; i < ii; i++) {\n                var dontEnum = dontEnums[i];\n                if (owns(object, dontEnum)) {\n                    keys.push(dontEnum);\n                }\n            }\n        }\n        return keys;\n    };\n\n}\n\n//\n// Date\n// ====\n//\n\n// ES5 15.9.5.43\n// http://es5.github.com/#x15.9.5.43\n// This function returns a String value represent the instance in time\n// represented by this Date object. The format of the String is the Date Time\n// string format defined in 15.9.1.15. All fields are present in the String.\n// The time zone is always UTC, denoted by the suffix Z. If the time value of\n// this object is not a finite Number a RangeError exception is thrown.\nvar negativeDate = -62198755200000,\n    negativeYearString = \"-000001\";\nif (\n    !Date.prototype.toISOString ||\n    (new Date(negativeDate).toISOString().indexOf(negativeYearString) === -1)\n) {\n    Date.prototype.toISOString = function toISOString() {\n        var result, length, value, year, month;\n        if (!isFinite(this)) {\n            throw new RangeError(\"Date.prototype.toISOString called on non-finite value.\");\n        }\n\n        year = this.getUTCFullYear();\n\n        month = this.getUTCMonth();\n        // see https://github.com/es-shims/es5-shim/issues/111\n        year += Math.floor(month / 12);\n        month = (month % 12 + 12) % 12;\n\n        // the date time string format is specified in 15.9.1.15.\n        result = [month + 1, this.getUTCDate(),\n            this.getUTCHours(), this.getUTCMinutes(), this.getUTCSeconds()];\n        year = (\n            (year < 0 ? \"-\" : (year > 9999 ? \"+\" : \"\")) +\n            (\"00000\" + Math.abs(year))\n            .slice(0 <= year && year <= 9999 ? -4 : -6)\n        );\n\n        length = result.length;\n        while (length--) {\n            value = result[length];\n            // pad months, days, hours, minutes, and seconds to have two\n            // digits.\n            if (value < 10) {\n                result[length] = \"0\" + value;\n            }\n        }\n        // pad milliseconds to have three digits.\n        return (\n            year + \"-\" + result.slice(0, 2).join(\"-\") +\n            \"T\" + result.slice(2).join(\":\") + \".\" +\n            (\"000\" + this.getUTCMilliseconds()).slice(-3) + \"Z\"\n        );\n    };\n}\n\n\n// ES5 15.9.5.44\n// http://es5.github.com/#x15.9.5.44\n// This function provides a String representation of a Date object for use by\n// JSON.stringify (15.12.3).\nvar dateToJSONIsSupported = false;\ntry {\n    dateToJSONIsSupported = (\n        Date.prototype.toJSON &&\n        new Date(NaN).toJSON() === null &&\n        new Date(negativeDate).toJSON().indexOf(negativeYearString) !== -1 &&\n        Date.prototype.toJSON.call({ // generic\n            toISOString: function () {\n                return true;\n            }\n        })\n    );\n} catch (e) {\n}\nif (!dateToJSONIsSupported) {\n    Date.prototype.toJSON = function toJSON(key) {\n        // When the toJSON method is called with argument key, the following\n        // steps are taken:\n\n        // 1.  Let O be the result of calling ToObject, giving it the this\n        // value as its argument.\n        // 2. Let tv be toPrimitive(O, hint Number).\n        var o = Object(this),\n            tv = toPrimitive(o),\n            toISO;\n        // 3. If tv is a Number and is not finite, return null.\n        if (typeof tv === \"number\" && !isFinite(tv)) {\n            return null;\n        }\n        // 4. Let toISO be the result of calling the [[Get]] internal method of\n        // O with argument \"toISOString\".\n        toISO = o.toISOString;\n        // 5. If IsCallable(toISO) is false, throw a TypeError exception.\n        if (typeof toISO != \"function\") {\n            throw new TypeError(\"toISOString property is not callable\");\n        }\n        // 6. Return the result of calling the [[Call]] internal method of\n        //  toISO with O as the this value and an empty argument list.\n        return toISO.call(o);\n\n        // NOTE 1 The argument is ignored.\n\n        // NOTE 2 The toJSON function is intentionally generic; it does not\n        // require that its this value be a Date object. Therefore, it can be\n        // transferred to other kinds of objects for use as a method. However,\n        // it does require that any such object have a toISOString method. An\n        // object is free to use the argument key to filter its\n        // stringification.\n    };\n}\n\n// ES5 15.9.4.2\n// http://es5.github.com/#x15.9.4.2\n// based on work shared by Daniel Friesen (dantman)\n// http://gist.github.com/303249\nif (!Date.parse || \"Date.parse is buggy\") {\n    // XXX global assignment won't work in embeddings that use\n    // an alternate object for the context.\n    Date = (function(NativeDate) {\n\n        // Date.length === 7\n        function Date(Y, M, D, h, m, s, ms) {\n            var length = arguments.length;\n            if (this instanceof NativeDate) {\n                var date = length == 1 && String(Y) === Y ? // isString(Y)\n                    // We explicitly pass it through parse:\n                    new NativeDate(Date.parse(Y)) :\n                    // We have to manually make calls depending on argument\n                    // length here\n                    length >= 7 ? new NativeDate(Y, M, D, h, m, s, ms) :\n                    length >= 6 ? new NativeDate(Y, M, D, h, m, s) :\n                    length >= 5 ? new NativeDate(Y, M, D, h, m) :\n                    length >= 4 ? new NativeDate(Y, M, D, h) :\n                    length >= 3 ? new NativeDate(Y, M, D) :\n                    length >= 2 ? new NativeDate(Y, M) :\n                    length >= 1 ? new NativeDate(Y) :\n                                  new NativeDate();\n                // Prevent mixups with unfixed Date object\n                date.constructor = Date;\n                return date;\n            }\n            return NativeDate.apply(this, arguments);\n        };\n\n        // 15.9.1.15 Date Time String Format.\n        var isoDateExpression = new RegExp(\"^\" +\n            \"(\\\\d{4}|[\\+\\-]\\\\d{6})\" + // four-digit year capture or sign +\n                                      // 6-digit extended year\n            \"(?:-(\\\\d{2})\" + // optional month capture\n            \"(?:-(\\\\d{2})\" + // optional day capture\n            \"(?:\" + // capture hours:minutes:seconds.milliseconds\n                \"T(\\\\d{2})\" + // hours capture\n                \":(\\\\d{2})\" + // minutes capture\n                \"(?:\" + // optional :seconds.milliseconds\n                    \":(\\\\d{2})\" + // seconds capture\n                    \"(?:(\\\\.\\\\d{1,}))?\" + // milliseconds capture\n                \")?\" +\n            \"(\" + // capture UTC offset component\n                \"Z|\" + // UTC capture\n                \"(?:\" + // offset specifier +/-hours:minutes\n                    \"([-+])\" + // sign capture\n                    \"(\\\\d{2})\" + // hours offset capture\n                    \":(\\\\d{2})\" + // minutes offset capture\n                \")\" +\n            \")?)?)?)?\" +\n        \"$\");\n\n        var months = [\n            0, 31, 59, 90, 120, 151, 181, 212, 243, 273, 304, 334, 365\n        ];\n\n        function dayFromMonth(year, month) {\n            var t = month > 1 ? 1 : 0;\n            return (\n                months[month] +\n                Math.floor((year - 1969 + t) / 4) -\n                Math.floor((year - 1901 + t) / 100) +\n                Math.floor((year - 1601 + t) / 400) +\n                365 * (year - 1970)\n            );\n        }\n\n        function toUTC(t) {\n            return Number(new NativeDate(1970, 0, 1, 0, 0, 0, t));\n        }\n\n        // Copy any custom methods a 3rd party library may have added\n        for (var key in NativeDate) {\n            Date[key] = NativeDate[key];\n        }\n\n        // Copy \"native\" methods explicitly; they may be non-enumerable\n        Date.now = NativeDate.now;\n        Date.UTC = NativeDate.UTC;\n        Date.prototype = NativeDate.prototype;\n        Date.prototype.constructor = Date;\n\n        // Upgrade Date.parse to handle simplified ISO 8601 strings\n        Date.parse = function parse(string) {\n            var match = isoDateExpression.exec(string);\n            if (match) {\n                // parse months, days, hours, minutes, seconds, and milliseconds\n                // provide default values if necessary\n                // parse the UTC offset component\n                var year = Number(match[1]),\n                    month = Number(match[2] || 1) - 1,\n                    day = Number(match[3] || 1) - 1,\n                    hour = Number(match[4] || 0),\n                    minute = Number(match[5] || 0),\n                    second = Number(match[6] || 0),\n                    millisecond = Math.floor(Number(match[7] || 0) * 1000),\n                    // When time zone is missed, local offset should be used\n                    // (ES 5.1 bug)\n                    // see https://bugs.ecmascript.org/show_bug.cgi?id=112\n                    isLocalTime = Boolean(match[4] && !match[8]),\n                    signOffset = match[9] === \"-\" ? 1 : -1,\n                    hourOffset = Number(match[10] || 0),\n                    minuteOffset = Number(match[11] || 0),\n                    result;\n                if (\n                    hour < (\n                        minute > 0 || second > 0 || millisecond > 0 ?\n                        24 : 25\n                    ) &&\n                    minute < 60 && second < 60 && millisecond < 1000 &&\n                    month > -1 && month < 12 && hourOffset < 24 &&\n                    minuteOffset < 60 && // detect invalid offsets\n                    day > -1 &&\n                    day < (\n                        dayFromMonth(year, month + 1) -\n                        dayFromMonth(year, month)\n                    )\n                ) {\n                    result = (\n                        (dayFromMonth(year, month) + day) * 24 +\n                        hour +\n                        hourOffset * signOffset\n                    ) * 60;\n                    result = (\n                        (result + minute + minuteOffset * signOffset) * 60 +\n                        second\n                    ) * 1000 + millisecond;\n                    if (isLocalTime) {\n                        result = toUTC(result);\n                    }\n                    if (-8.64e15 <= result && result <= 8.64e15) {\n                        return result;\n                    }\n                }\n                return NaN;\n            }\n            return NativeDate.parse.apply(this, arguments);\n        };\n\n        return Date;\n    })(Date);\n}\n\n// ES5 15.9.4.4\n// http://es5.github.com/#x15.9.4.4\nif (!Date.now) {\n    Date.now = function now() {\n        return new Date().getTime();\n    };\n}\n\n\n//\n// Number\n// ======\n//\n\n// ES5.1 15.7.4.5\n// http://es5.github.com/#x15.7.4.5\nif (!Number.prototype.toFixed || (0.00008).toFixed(3) !== '0.000' || (0.9).toFixed(0) === '0' || (1.255).toFixed(2) !== '1.25' || (1000000000000000128).toFixed(0) !== \"1000000000000000128\") {\n    // Hide these variables and functions\n    (function () {\n        var base, size, data, i;\n\n        base = 1e7;\n        size = 6;\n        data = [0, 0, 0, 0, 0, 0];\n\n        function multiply(n, c) {\n            var i = -1;\n            while (++i < size) {\n                c += n * data[i];\n                data[i] = c % base;\n                c = Math.floor(c / base);\n            }\n        }\n\n        function divide(n) {\n            var i = size, c = 0;\n            while (--i >= 0) {\n                c += data[i];\n                data[i] = Math.floor(c / n);\n                c = (c % n) * base;\n            }\n        }\n\n        function toString() {\n            var i = size;\n            var s = '';\n            while (--i >= 0) {\n                if (s !== '' || i === 0 || data[i] !== 0) {\n                    var t = String(data[i]);\n                    if (s === '') {\n                        s = t;\n                    } else {\n                        s += '0000000'.slice(0, 7 - t.length) + t;\n                    }\n                }\n            }\n            return s;\n        }\n\n        function pow(x, n, acc) {\n            return (n === 0 ? acc : (n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc)));\n        }\n\n        function log(x) {\n            var n = 0;\n            while (x >= 4096) {\n                n += 12;\n                x /= 4096;\n            }\n            while (x >= 2) {\n                n += 1;\n                x /= 2;\n            }\n            return n;\n        }\n\n        Number.prototype.toFixed = function (fractionDigits) {\n            var f, x, s, m, e, z, j, k;\n\n            // Test for NaN and round fractionDigits down\n            f = Number(fractionDigits);\n            f = f !== f ? 0 : Math.floor(f);\n\n            if (f < 0 || f > 20) {\n                throw new RangeError(\"Number.toFixed called with invalid number of decimals\");\n            }\n\n            x = Number(this);\n\n            // Test for NaN\n            if (x !== x) {\n                return \"NaN\";\n            }\n\n            // If it is too big or small, return the string value of the number\n            if (x <= -1e21 || x >= 1e21) {\n                return String(x);\n            }\n\n            s = \"\";\n\n            if (x < 0) {\n                s = \"-\";\n                x = -x;\n            }\n\n            m = \"0\";\n\n            if (x > 1e-21) {\n                // 1e-21 < x < 1e21\n                // -70 < log2(x) < 70\n                e = log(x * pow(2, 69, 1)) - 69;\n                z = (e < 0 ? x * pow(2, -e, 1) : x / pow(2, e, 1));\n                z *= 0x10000000000000; // Math.pow(2, 52);\n                e = 52 - e;\n\n                // -18 < e < 122\n                // x = z / 2 ^ e\n                if (e > 0) {\n                    multiply(0, z);\n                    j = f;\n\n                    while (j >= 7) {\n                        multiply(1e7, 0);\n                        j -= 7;\n                    }\n\n                    multiply(pow(10, j, 1), 0);\n                    j = e - 1;\n\n                    while (j >= 23) {\n                        divide(1 << 23);\n                        j -= 23;\n                    }\n\n                    divide(1 << j);\n                    multiply(1, 1);\n                    divide(2);\n                    m = toString();\n                } else {\n                    multiply(0, z);\n                    multiply(1 << (-e), 0);\n                    m = toString() + '0.00000000000000000000'.slice(2, 2 + f);\n                }\n            }\n\n            if (f > 0) {\n                k = m.length;\n\n                if (k <= f) {\n                    m = s + '0.0000000000000000000'.slice(0, f - k + 2) + m;\n                } else {\n                    m = s + m.slice(0, k - f) + '.' + m.slice(k - f);\n                }\n            } else {\n                m = s + m;\n            }\n\n            return m;\n        }\n    }());\n}\n\n\n//\n// String\n// ======\n//\n\n\n// ES5 15.5.4.14\n// http://es5.github.com/#x15.5.4.14\n\n// [bugfix, IE lt 9, firefox 4, Konqueror, Opera, obscure browsers]\n// Many browsers do not split properly with regular expressions or they\n// do not perform the split correctly under obscure conditions.\n// See http://blog.stevenlevithan.com/archives/cross-browser-split\n// I've tested in many browsers and this seems to cover the deviant ones:\n//    'ab'.split(/(?:ab)*/) should be [\"\", \"\"], not [\"\"]\n//    '.'.split(/(.?)(.?)/) should be [\"\", \".\", \"\", \"\"], not [\"\", \"\"]\n//    'tesst'.split(/(s)*/) should be [\"t\", undefined, \"e\", \"s\", \"t\"], not\n//       [undefined, \"t\", undefined, \"e\", ...]\n//    ''.split(/.?/) should be [], not [\"\"]\n//    '.'.split(/()()/) should be [\".\"], not [\"\", \"\", \".\"]\n\nvar string_split = String.prototype.split;\nif (\n    'ab'.split(/(?:ab)*/).length !== 2 ||\n    '.'.split(/(.?)(.?)/).length !== 4 ||\n    'tesst'.split(/(s)*/)[1] === \"t\" ||\n    ''.split(/.?/).length ||\n    '.'.split(/()()/).length > 1\n) {\n    (function () {\n        var compliantExecNpcg = /()??/.exec(\"\")[1] === void 0; // NPCG: nonparticipating capturing group\n\n        String.prototype.split = function (separator, limit) {\n            var string = this;\n            if (separator === void 0 && limit === 0)\n                return [];\n\n            // If `separator` is not a regex, use native split\n            if (Object.prototype.toString.call(separator) !== \"[object RegExp]\") {\n                return string_split.apply(this, arguments);\n            }\n\n            var output = [],\n                flags = (separator.ignoreCase ? \"i\" : \"\") +\n                        (separator.multiline  ? \"m\" : \"\") +\n                        (separator.extended   ? \"x\" : \"\") + // Proposed for ES6\n                        (separator.sticky     ? \"y\" : \"\"), // Firefox 3+\n                lastLastIndex = 0,\n                // Make `global` and avoid `lastIndex` issues by working with a copy\n                separator = new RegExp(separator.source, flags + \"g\"),\n                separator2, match, lastIndex, lastLength;\n            string += \"\"; // Type-convert\n            if (!compliantExecNpcg) {\n                // Doesn't need flags gy, but they don't hurt\n                separator2 = new RegExp(\"^\" + separator.source + \"$(?!\\\\s)\", flags);\n            }\n            /* Values for `limit`, per the spec:\n             * If undefined: 4294967295 // Math.pow(2, 32) - 1\n             * If 0, Infinity, or NaN: 0\n             * If positive number: limit = Math.floor(limit); if (limit > 4294967295) limit -= 4294967296;\n             * If negative number: 4294967296 - Math.floor(Math.abs(limit))\n             * If other: Type-convert, then use the above rules\n             */\n            limit = limit === void 0 ?\n                -1 >>> 0 : // Math.pow(2, 32) - 1\n                limit >>> 0; // ToUint32(limit)\n            while (match = separator.exec(string)) {\n                // `separator.lastIndex` is not reliable cross-browser\n                lastIndex = match.index + match[0].length;\n                if (lastIndex > lastLastIndex) {\n                    output.push(string.slice(lastLastIndex, match.index));\n                    // Fix browsers whose `exec` methods don't consistently return `undefined` for\n                    // nonparticipating capturing groups\n                    if (!compliantExecNpcg && match.length > 1) {\n                        match[0].replace(separator2, function () {\n                            for (var i = 1; i < arguments.length - 2; i++) {\n                                if (arguments[i] === void 0) {\n                                    match[i] = void 0;\n                                }\n                            }\n                        });\n                    }\n                    if (match.length > 1 && match.index < string.length) {\n                        Array.prototype.push.apply(output, match.slice(1));\n                    }\n                    lastLength = match[0].length;\n                    lastLastIndex = lastIndex;\n                    if (output.length >= limit) {\n                        break;\n                    }\n                }\n                if (separator.lastIndex === match.index) {\n                    separator.lastIndex++; // Avoid an infinite loop\n                }\n            }\n            if (lastLastIndex === string.length) {\n                if (lastLength || !separator.test(\"\")) {\n                    output.push(\"\");\n                }\n            } else {\n                output.push(string.slice(lastLastIndex));\n            }\n            return output.length > limit ? output.slice(0, limit) : output;\n        };\n    }());\n\n// [bugfix, chrome]\n// If separator is undefined, then the result array contains just one String,\n// which is the this value (converted to a String). If limit is not undefined,\n// then the output array is truncated so that it contains no more than limit\n// elements.\n// \"0\".split(undefined, 0) -> []\n} else if (\"0\".split(void 0, 0).length) {\n    String.prototype.split = function(separator, limit) {\n        if (separator === void 0 && limit === 0) return [];\n        return string_split.apply(this, arguments);\n    }\n}\n\n\n// ECMA-262, 3rd B.2.3\n// Note an ECMAScript standart, although ECMAScript 3rd Edition has a\n// non-normative section suggesting uniform semantics and it should be\n// normalized across all browsers\n// [bugfix, IE lt 9] IE < 9 substr() with negative value not working in IE\nif (\"\".substr && \"0b\".substr(-1) !== \"b\") {\n    var string_substr = String.prototype.substr;\n    /**\n     *  Get the substring of a string\n     *  @param  {integer}  start   where to start the substring\n     *  @param  {integer}  length  how many characters to return\n     *  @return {string}\n     */\n    String.prototype.substr = function(start, length) {\n        return string_substr.call(\n            this,\n            start < 0 ? ((start = this.length + start) < 0 ? 0 : start) : start,\n            length\n        );\n    }\n}\n\n// ES5 15.5.4.20\n// http://es5.github.com/#x15.5.4.20\nvar ws = \"\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\" +\n    \"\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\" +\n    \"\\u2029\\uFEFF\";\nif (!String.prototype.trim || ws.trim()) {\n    // http://blog.stevenlevithan.com/archives/faster-trim-javascript\n    // http://perfectionkills.com/whitespace-deviations/\n    ws = \"[\" + ws + \"]\";\n    var trimBeginRegexp = new RegExp(\"^\" + ws + ws + \"*\"),\n        trimEndRegexp = new RegExp(ws + ws + \"*$\");\n    String.prototype.trim = function trim() {\n        if (this === void 0 || this === null) {\n            throw new TypeError(\"can't convert \"+this+\" to object\");\n        }\n        return String(this)\n            .replace(trimBeginRegexp, \"\")\n            .replace(trimEndRegexp, \"\");\n    };\n}\n\n//\n// Util\n// ======\n//\n\n// ES5 9.4\n// http://es5.github.com/#x9.4\n// http://jsperf.com/to-integer\n\nfunction toInteger(n) {\n    n = +n;\n    if (n !== n) { // isNaN\n        n = 0;\n    } else if (n !== 0 && n !== (1/0) && n !== -(1/0)) {\n        n = (n > 0 || -1) * Math.floor(Math.abs(n));\n    }\n    return n;\n}\n\nfunction isPrimitive(input) {\n    var type = typeof input;\n    return (\n        input === null ||\n        type === \"undefined\" ||\n        type === \"boolean\" ||\n        type === \"number\" ||\n        type === \"string\"\n    );\n}\n\nfunction toPrimitive(input) {\n    var val, valueOf, toString;\n    if (isPrimitive(input)) {\n        return input;\n    }\n    valueOf = input.valueOf;\n    if (typeof valueOf === \"function\") {\n        val = valueOf.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    toString = input.toString;\n    if (typeof toString === \"function\") {\n        val = toString.call(input);\n        if (isPrimitive(val)) {\n            return val;\n        }\n    }\n    throw new TypeError();\n}\n\n// ES5 9.9\n// http://es5.github.com/#x9.9\nvar toObject = function (o) {\n    if (o == null) { // this matches both null and undefined\n        throw new TypeError(\"can't convert \"+o+\" to object\");\n    }\n    return Object(o);\n};\n\n});\n\n","// Copyright 2009-2012 by contributors, MIT License\n// vim: ts=4 sts=4 sw=4 expandtab\n\n//Add semicolon to prevent IIFE from being passed as argument to concated code.\n;\n// Module systems magic dance\n(function (definition) {\n    // RequireJS\n    if (typeof define == \"function\") {\n        define('es5-sham',definition);\n    // YUI3\n    } else if (typeof YUI == \"function\") {\n        YUI.add(\"es5-sham\", definition);\n    // CommonJS and <script>\n    } else {\n        definition();\n    }\n})(function () {\n\n\nvar call = Function.prototype.call;\nvar prototypeOfObject = Object.prototype;\nvar owns = call.bind(prototypeOfObject.hasOwnProperty);\n\n// If JS engine supports accessors creating shortcuts.\nvar defineGetter;\nvar defineSetter;\nvar lookupGetter;\nvar lookupSetter;\nvar supportsAccessors;\nif ((supportsAccessors = owns(prototypeOfObject, \"__defineGetter__\"))) {\n    defineGetter = call.bind(prototypeOfObject.__defineGetter__);\n    defineSetter = call.bind(prototypeOfObject.__defineSetter__);\n    lookupGetter = call.bind(prototypeOfObject.__lookupGetter__);\n    lookupSetter = call.bind(prototypeOfObject.__lookupSetter__);\n}\n\n// ES5 15.2.3.2\n// http://es5.github.com/#x15.2.3.2\nif (!Object.getPrototypeOf) {\n    // https://github.com/es-shims/es5-shim/issues#issue/2\n    // http://ejohn.org/blog/objectgetprototypeof/\n    // recommended by fschaefer on github\n    Object.getPrototypeOf = function getPrototypeOf(object) {\n        return object.__proto__ || (\n            object.constructor\n                ? object.constructor.prototype\n                : prototypeOfObject\n        );\n    };\n}\n\n//ES5 15.2.3.3\n//http://es5.github.com/#x15.2.3.3\n\nfunction doesGetOwnPropertyDescriptorWork(object) {\n    try {\n        object.sentinel = 0;\n        return Object.getOwnPropertyDescriptor(\n                object,\n                \"sentinel\"\n        ).value === 0;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n//check whether getOwnPropertyDescriptor works if it's given. Otherwise,\n//shim partially.\nif (Object.defineProperty) {\n    var getOwnPropertyDescriptorWorksOnObject = \n        doesGetOwnPropertyDescriptorWork({});\n    var getOwnPropertyDescriptorWorksOnDom = typeof document == \"undefined\" ||\n    doesGetOwnPropertyDescriptorWork(document.createElement(\"div\"));\n    if (!getOwnPropertyDescriptorWorksOnDom || \n            !getOwnPropertyDescriptorWorksOnObject\n    ) {\n        var getOwnPropertyDescriptorFallback = Object.getOwnPropertyDescriptor;\n    }\n}\n\nif (!Object.getOwnPropertyDescriptor || getOwnPropertyDescriptorFallback) {\n    var ERR_NON_OBJECT = \"Object.getOwnPropertyDescriptor called on a non-object: \";\n\n    Object.getOwnPropertyDescriptor = function getOwnPropertyDescriptor(object, property) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT + object);\n        }\n\n        // make a valiant attempt to use the real getOwnPropertyDescriptor\n        // for I8's DOM elements.\n        if (getOwnPropertyDescriptorFallback) {\n            try {\n                return getOwnPropertyDescriptorFallback.call(Object, object, property);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If object does not owns property return undefined immediately.\n        if (!owns(object, property)) {\n            return;\n        }\n\n        // If object has a property then it's for sure both `enumerable` and\n        // `configurable`.\n        var descriptor =  { enumerable: true, configurable: true };\n\n        // If JS engine supports accessor properties then property may be a\n        // getter or setter.\n        if (supportsAccessors) {\n            // Unfortunately `__lookupGetter__` will return a getter even\n            // if object has own non getter property along with a same named\n            // inherited getter. To avoid misbehavior we temporary remove\n            // `__proto__` so that `__lookupGetter__` will return getter only\n            // if it's owned by an object.\n            var prototype = object.__proto__;\n            object.__proto__ = prototypeOfObject;\n\n            var getter = lookupGetter(object, property);\n            var setter = lookupSetter(object, property);\n\n            // Once we have getter and setter we can put values back.\n            object.__proto__ = prototype;\n\n            if (getter || setter) {\n                if (getter) {\n                    descriptor.get = getter;\n                }\n                if (setter) {\n                    descriptor.set = setter;\n                }\n                // If it was accessor property we're done and return here\n                // in order to avoid adding `value` to the descriptor.\n                return descriptor;\n            }\n        }\n\n        // If we got this far we know that object has an own property that is\n        // not an accessor so we set it as a value and return descriptor.\n        descriptor.value = object[property];\n        descriptor.writable = true;\n        return descriptor;\n    };\n}\n\n// ES5 15.2.3.4\n// http://es5.github.com/#x15.2.3.4\nif (!Object.getOwnPropertyNames) {\n    Object.getOwnPropertyNames = function getOwnPropertyNames(object) {\n        return Object.keys(object);\n    };\n}\n\n// ES5 15.2.3.5\n// http://es5.github.com/#x15.2.3.5\nif (!Object.create) {\n\n    // Contributed by Brandon Benvie, October, 2012\n    var createEmpty;\n    var supportsProto = Object.prototype.__proto__ === null;\n    if (supportsProto || typeof document == 'undefined') {\n        createEmpty = function () {\n            return { \"__proto__\": null };\n        };\n    } else {\n        // In old IE __proto__ can't be used to manually set `null`, nor does\n        // any other method exist to make an object that inherits from nothing,\n        // aside from Object.prototype itself. Instead, create a new global\n        // object and *steal* its Object.prototype and strip it bare. This is\n        // used as the prototype to create nullary objects.\n        createEmpty = function () {\n            var iframe = document.createElement('iframe');\n            var parent = document.body || document.documentElement;\n            iframe.style.display = 'none';\n            parent.appendChild(iframe);\n            iframe.src = 'javascript:';\n            var empty = iframe.contentWindow.Object.prototype;\n            parent.removeChild(iframe);\n            iframe = null;\n            delete empty.constructor;\n            delete empty.hasOwnProperty;\n            delete empty.propertyIsEnumerable;\n            delete empty.isPrototypeOf;\n            delete empty.toLocaleString;\n            delete empty.toString;\n            delete empty.valueOf;\n            empty.__proto__ = null;\n\n            function Empty() {}\n            Empty.prototype = empty;\n            // short-circuit future calls\n            createEmpty = function () {\n                return new Empty();\n            };\n            return new Empty();\n        };\n    }\n\n    Object.create = function create(prototype, properties) {\n\n        var object;\n        function Type() {}  // An empty constructor.\n\n        if (prototype === null) {\n            object = createEmpty();\n        } else {\n            if (typeof prototype !== \"object\" && typeof prototype !== \"function\") {\n                // In the native implementation `parent` can be `null`\n                // OR *any* `instanceof Object`  (Object|Function|Array|RegExp|etc)\n                // Use `typeof` tho, b/c in old IE, DOM elements are not `instanceof Object`\n                // like they are in modern browsers. Using `Object.create` on DOM elements\n                // is...err...probably inappropriate, but the native version allows for it.\n                throw new TypeError(\"Object prototype may only be an Object or null\"); // same msg as Chrome\n            }\n            Type.prototype = prototype;\n            object = new Type();\n            // IE has no built-in implementation of `Object.getPrototypeOf`\n            // neither `__proto__`, but this manually setting `__proto__` will\n            // guarantee that `Object.getPrototypeOf` will work as expected with\n            // objects created using `Object.create`\n            object.__proto__ = prototype;\n        }\n\n        if (properties !== void 0) {\n            Object.defineProperties(object, properties);\n        }\n\n        return object;\n    };\n}\n\n// ES5 15.2.3.6\n// http://es5.github.com/#x15.2.3.6\n\n// Patch for WebKit and IE8 standard mode\n// Designed by hax <hax.github.com>\n// related issue: https://github.com/es-shims/es5-shim/issues#issue/5\n// IE8 Reference:\n//     http://msdn.microsoft.com/en-us/library/dd282900.aspx\n//     http://msdn.microsoft.com/en-us/library/dd229916.aspx\n// WebKit Bugs:\n//     https://bugs.webkit.org/show_bug.cgi?id=36423\n\nfunction doesDefinePropertyWork(object) {\n    try {\n        Object.defineProperty(object, \"sentinel\", {});\n        return \"sentinel\" in object;\n    } catch (exception) {\n        // returns falsy\n    }\n}\n\n// check whether defineProperty works if it's given. Otherwise,\n// shim partially.\nif (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({});\n    var definePropertyWorksOnDom = typeof document == \"undefined\" ||\n        doesDefinePropertyWork(document.createElement(\"div\"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) {\n        var definePropertyFallback = Object.defineProperty,\n            definePropertiesFallback = Object.defineProperties;\n    }\n}\n\nif (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = \"Property description must be an object: \";\n    var ERR_NON_OBJECT_TARGET = \"Object.defineProperty called on non-object: \"\n    var ERR_ACCESSORS_NOT_SUPPORTED = \"getters & setters can not be defined \" +\n                                      \"on this javascript engine\";\n\n    Object.defineProperty = function defineProperty(object, property, descriptor) {\n        if ((typeof object != \"object\" && typeof object != \"function\") || object === null) {\n            throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n        }\n        if ((typeof descriptor != \"object\" && typeof descriptor != \"function\") || descriptor === null) {\n            throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n        }\n        // make a valiant attempt to use the real defineProperty\n        // for I8's DOM elements.\n        if (definePropertyFallback) {\n            try {\n                return definePropertyFallback.call(Object, object, property, descriptor);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        // If it's a data property.\n        if (owns(descriptor, \"value\")) {\n            // fail silently if \"writable\", \"enumerable\", or \"configurable\"\n            // are requested but not supported\n            /*\n            // alternate approach:\n            if ( // can't implement these features; allow false but not true\n                !(owns(descriptor, \"writable\") ? descriptor.writable : true) ||\n                !(owns(descriptor, \"enumerable\") ? descriptor.enumerable : true) ||\n                !(owns(descriptor, \"configurable\") ? descriptor.configurable : true)\n            )\n                throw new RangeError(\n                    \"This implementation of Object.defineProperty does not \" +\n                    \"support configurable, enumerable, or writable.\"\n                );\n            */\n\n            if (supportsAccessors && (lookupGetter(object, property) ||\n                                      lookupSetter(object, property)))\n            {\n                // As accessors are supported only on engines implementing\n                // `__proto__` we can safely override `__proto__` while defining\n                // a property to make sure that we don't hit an inherited\n                // accessor.\n                var prototype = object.__proto__;\n                object.__proto__ = prototypeOfObject;\n                // Deleting a property anyway since getter / setter may be\n                // defined on object itself.\n                delete object[property];\n                object[property] = descriptor.value;\n                // Setting original `__proto__` back now.\n                object.__proto__ = prototype;\n            } else {\n                object[property] = descriptor.value;\n            }\n        } else {\n            if (!supportsAccessors) {\n                throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n            }\n            // If we got that far then getters and setters can be defined !!\n            if (owns(descriptor, \"get\")) {\n                defineGetter(object, property, descriptor.get);\n            }\n            if (owns(descriptor, \"set\")) {\n                defineSetter(object, property, descriptor.set);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.7\n// http://es5.github.com/#x15.2.3.7\nif (!Object.defineProperties || definePropertiesFallback) {\n    Object.defineProperties = function defineProperties(object, properties) {\n        // make a valiant attempt to use the real defineProperties\n        if (definePropertiesFallback) {\n            try {\n                return definePropertiesFallback.call(Object, object, properties);\n            } catch (exception) {\n                // try the shim if the real one doesn't work\n            }\n        }\n\n        for (var property in properties) {\n            if (owns(properties, property) && property != \"__proto__\") {\n                Object.defineProperty(object, property, properties[property]);\n            }\n        }\n        return object;\n    };\n}\n\n// ES5 15.2.3.8\n// http://es5.github.com/#x15.2.3.8\nif (!Object.seal) {\n    Object.seal = function seal(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.9\n// http://es5.github.com/#x15.2.3.9\nif (!Object.freeze) {\n    Object.freeze = function freeze(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// detect a Rhino bug and patch it\ntry {\n    Object.freeze(function () {});\n} catch (exception) {\n    Object.freeze = (function freeze(freezeObject) {\n        return function freeze(object) {\n            if (typeof object == \"function\") {\n                return object;\n            } else {\n                return freezeObject(object);\n            }\n        };\n    })(Object.freeze);\n}\n\n// ES5 15.2.3.10\n// http://es5.github.com/#x15.2.3.10\nif (!Object.preventExtensions) {\n    Object.preventExtensions = function preventExtensions(object) {\n        // this is misleading and breaks feature-detection, but\n        // allows \"securable\" code to \"gracefully\" degrade to working\n        // but insecure code.\n        return object;\n    };\n}\n\n// ES5 15.2.3.11\n// http://es5.github.com/#x15.2.3.11\nif (!Object.isSealed) {\n    Object.isSealed = function isSealed(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.12\n// http://es5.github.com/#x15.2.3.12\nif (!Object.isFrozen) {\n    Object.isFrozen = function isFrozen(object) {\n        return false;\n    };\n}\n\n// ES5 15.2.3.13\n// http://es5.github.com/#x15.2.3.13\nif (!Object.isExtensible) {\n    Object.isExtensible = function isExtensible(object) {\n        // 1. If Type(O) is not Object throw a TypeError exception.\n        if (Object(object) !== object) {\n            throw new TypeError(); // TODO message\n        }\n        // 2. Return the Boolean value of the [[Extensible]] internal property of O.\n        var name = '';\n        while (owns(object, name)) {\n            name += '?';\n        }\n        object[name] = true;\n        var returnValue = owns(object, name);\n        delete object[name];\n        return returnValue;\n    };\n}\n\n});\n\n","/**\r\n * @preserve console-shim 1.0.2\r\n * https://github.com/kayahr/console-shim\r\n * Copyright (C) 2011 Klaus Reimer <k@ailis.de>\r\n * Licensed under the MIT license\r\n * (See http://www.opensource.org/licenses/mit-license)\r\n */\r\n \r\n \r\n(function(){\r\n\"use strict\";\r\n\r\n/**\r\n * Returns a function which calls the specified function in the specified\r\n * scope.\r\n *\r\n * @param {Function} func\r\n *            The function to call.\r\n * @param {Object} scope\r\n *            The scope to call the function in.\r\n * @param {...*} args\r\n *            Additional arguments to pass to the bound function.\r\n * @returns {function(...[*]): undefined}\r\n *            The bound function.\r\n */\r\nvar bind = function(func, scope, args)\r\n{\r\n    var fixedArgs = Array.prototype.slice.call(arguments, 2);\r\n    return function()\r\n    {\r\n        var args = fixedArgs.concat(Array.prototype.slice.call(arguments, 0));\r\n        (/** @type {Function} */ func).apply(scope, args);\r\n    };\r\n};\r\n\r\n// Create console if not present\r\nif (!window[\"console\"]) window.console = /** @type {Console} */ ({});\r\nvar console = (/** @type {Object} */ window.console);\r\n\r\n// Implement console log if needed\r\nif (!console[\"log\"])\r\n{\r\n    // Use log4javascript if present\r\n    if (window[\"log4javascript\"])\r\n    {\r\n        var log = log4javascript.getDefaultLogger();\r\n        console.log = bind(log.info, log);\r\n        console.debug = bind(log.debug, log);\r\n        console.info = bind(log.info, log);\r\n        console.warn = bind(log.warn, log);\r\n        console.error = bind(log.error, log);\r\n    }\r\n    \r\n    // Use empty dummy implementation to ignore logging\r\n    else\r\n    {\r\n        console.log = (/** @param {...*} args */ function(args) {});\r\n    }\r\n}\r\n\r\n// Implement other log levels to console.log if missing\r\nif (!console[\"debug\"]) console.debug = console.log;\r\nif (!console[\"info\"]) console.info = console.log;\r\nif (!console[\"warn\"]) console.warn = console.log;\r\nif (!console[\"error\"]) console.error = console.log;\r\n\r\n// Wrap the log methods in IE (<=9) because their argument handling is wrong\r\n// This wrapping is also done if the __consoleShimTest__ symbol is set. This\r\n// is needed for unit testing.\r\nif (window[\"__consoleShimTest__\"] != null || \r\n    eval(\"/*@cc_on @_jscript_version <= 9@*/\"))\r\n{\r\n    /**\r\n     * Wraps the call to a real IE logging method. Modifies the arguments so\r\n     * parameters which are not represented by a placeholder are properly\r\n     * printed with a space character as separator.\r\n     *\r\n     * @param {...*} args\r\n     *            The function arguments. First argument is the log function\r\n     *            to call, the other arguments are the log arguments.\r\n     */\r\n    var wrap = function(args)\r\n    {\r\n        var i, max, match, log;\r\n        \r\n        // Convert argument list to real array\r\n        args = Array.prototype.slice.call(arguments, 0);\r\n        \r\n        // First argument is the log method to call\r\n        log = args.shift();\r\n        \r\n        max = args.length;\r\n        if (max > 1 && window[\"__consoleShimTest__\"] !== false)\r\n        {\r\n            // When first parameter is not a string then add a format string to\r\n            // the argument list so we are able to modify it in the next stop\r\n            if (typeof(args[0]) != \"string\")\r\n            {\r\n                args.unshift(\"%o\");\r\n                max += 1;\r\n            }\r\n            \r\n            // For each additional parameter which has no placeholder in the\r\n            // format string we add another placeholder separated with a\r\n            // space character.\r\n            match = args[0].match(/%[a-z]/g);\r\n            for (i = match ? match.length + 1 : 1; i < max; i += 1)\r\n            {\r\n                args[0] += \" %o\";\r\n            }\r\n        }\r\n        Function.apply.call(log, console, args);\r\n    };\r\n    \r\n    // Wrap the native log methods of IE to fix argument output problems\r\n    console.log = bind(wrap, window, console.log);\r\n    console.debug = bind(wrap, window, console.debug);\r\n    console.info = bind(wrap, window, console.info);\r\n    console.warn = bind(wrap, window, console.warn);\r\n    console.error = bind(wrap, window, console.error);\r\n}\r\n\r\n// Implement console.assert if missing\r\nif (!console[\"assert\"])\r\n{\r\n    console[\"assert\"] = function()\r\n    {\r\n        var args = Array.prototype.slice.call(arguments, 0);\r\n        var expr = args.shift();\r\n        if (!expr)\r\n        {\r\n            args[0] = \"Assertion failed: \" + args[0];\r\n            console.error.apply(console, args);\r\n        }\r\n    };\r\n}\r\n\r\n// Linking console.dir and console.dirxml to the console.log method if\r\n// missing. Hopefully the browser already logs objects and DOM nodes as a\r\n// tree.\r\nif (!console[\"dir\"]) console[\"dir\"] = console.log;\r\nif (!console[\"dirxml\"]) console[\"dirxml\"] = console.log;\r\n\r\n// Linking console.exception to console.error. This is not the same but\r\n// at least some error message is displayed.\r\nif (!console[\"exception\"]) console[\"exception\"] = console.error;\r\n\r\n// Implement console.time and console.timeEnd if one of them is missing\r\nif (!console[\"time\"] || !console[\"timeEnd\"])\r\n{\r\n    var timers = {};\r\n    console[\"time\"] = function(id)\r\n    {\r\n        timers[id] = new Date().getTime();\r\n    };\r\n    console[\"timeEnd\"] = function(id)\r\n    {\r\n        var start = timers[id];\r\n        if (start)\r\n        {\r\n            console.log(id + \": \" + (new Date().getTime() - start) + \"ms\");\r\n            delete timers[id];\r\n        }\r\n    };\r\n}\r\n\r\n// Implement console.table if missing\r\nif (!console[\"table\"])\r\n{\r\n    console[\"table\"] = function(data, columns)\r\n    {\r\n        var i, iMax, row, j, jMax, k;\r\n        \r\n        // Do nothing if data has wrong type or no data was specified\r\n        if (!data || !(data instanceof Array) || !data.length) return;\r\n        \r\n        // Auto-calculate columns array if not set\r\n        if (!columns || !(columns instanceof Array))\r\n        {\r\n            columns = [];\r\n            for (k in data[0])\r\n            {\r\n                if (!data[0].hasOwnProperty(k)) continue;\r\n                columns.push(k);\r\n            }\r\n        }\r\n        \r\n        for (i = 0, iMax = data.length; i < iMax; i += 1)\r\n        {\r\n            row = [];\r\n            for (j = 0, jMax = columns.length; j < jMax; j += 1)\r\n            {\r\n                row.push(data[i][columns[j]]);\r\n            }\r\n            \r\n            Function.apply.call(console.log, console, row);\r\n        }\r\n    };\r\n}\r\n\r\n// Dummy implementations of other console features to prevent error messages\r\n// in browsers not supporting it.\r\nif (!console[\"clear\"]) console[\"clear\"] = function() {};\r\nif (!console[\"trace\"]) console[\"trace\"] = function() {};\r\nif (!console[\"group\"]) console[\"group\"] = function() {};\r\nif (!console[\"groupCollapsed\"]) console[\"groupCollapsed\"] = function() {};\r\nif (!console[\"groupEnd\"]) console[\"groupEnd\"] = function() {};\r\nif (!console[\"timeStamp\"]) console[\"timeStamp\"] = function() {};\r\nif (!console[\"profile\"]) console[\"profile\"] = function() {};\r\nif (!console[\"profileEnd\"]) console[\"profileEnd\"] = function() {};\r\nif (!console[\"count\"]) console[\"count\"] = function() {};\r\n\r\n})();\r\n\ndefine(\"console-shim\", function(){});\n\n","(function(root) {\ndefine(\"bootstrap/transition\", [\"jquery\"], function() {\n      return (function() {\n/* ========================================================================\r\n * Bootstrap: transition.js v3.1.1\r\n * http://getbootstrap.com/javascript/#transitions\r\n * ========================================================================\r\n * Copyright 2011-2014 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // CSS TRANSITION SUPPORT (Shoutout: http://www.modernizr.com/)\r\n  // ============================================================\r\n\r\n  function transitionEnd() {\r\n    var el = document.createElement('bootstrap')\r\n\r\n    var transEndEventNames = {\r\n      'WebkitTransition' : 'webkitTransitionEnd',\r\n      'MozTransition'    : 'transitionend',\r\n      'OTransition'      : 'oTransitionEnd otransitionend',\r\n      'transition'       : 'transitionend'\r\n    }\r\n\r\n    for (var name in transEndEventNames) {\r\n      if (el.style[name] !== undefined) {\r\n        return { end: transEndEventNames[name] }\r\n      }\r\n    }\r\n\r\n    return false // explicit for ie8 (  ._.)\r\n  }\r\n\r\n  // http://blog.alexmaccaw.com/css-transitions\r\n  $.fn.emulateTransitionEnd = function (duration) {\r\n    var called = false, $el = this\r\n    $(this).one($.support.transition.end, function () { called = true })\r\n    var callback = function () { if (!called) $($el).trigger($.support.transition.end) }\r\n    setTimeout(callback, duration)\r\n    return this\r\n  }\r\n\r\n  $(function () {\r\n    $.support.transition = transitionEnd()\r\n  })\r\n\r\n}(jQuery);\r\n      }).apply(root, arguments);\n    });\n}(this));\n\n","(function(root) {\ndefine(\"bootstrap/modal\", [\"jquery\",\"bootstrap/transition\"], function() {\n      return (function() {\n/* ========================================================================\r\n * Bootstrap: modal.js v3.1.1\r\n * http://getbootstrap.com/javascript/#modals\r\n * ========================================================================\r\n * Copyright 2011-2014 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // MODAL CLASS DEFINITION\r\n  // ======================\r\n\r\n  var Modal = function (element, options) {\r\n    this.options   = options\r\n    this.$element  = $(element)\r\n    this.$backdrop =\r\n    this.isShown   = null\r\n\r\n    if (this.options.remote) {\r\n      this.$element\r\n        .find('.modal-content')\r\n        .load(this.options.remote, $.proxy(function () {\r\n          this.$element.trigger('loaded.bs.modal')\r\n        }, this))\r\n    }\r\n  }\r\n\r\n  Modal.DEFAULTS = {\r\n    backdrop: true,\r\n    keyboard: true,\r\n    show: true\r\n  }\r\n\r\n  Modal.prototype.toggle = function (_relatedTarget) {\r\n    return this[!this.isShown ? 'show' : 'hide'](_relatedTarget)\r\n  }\r\n\r\n  Modal.prototype.show = function (_relatedTarget) {\r\n    var that = this\r\n    var e    = $.Event('show.bs.modal', { relatedTarget: _relatedTarget })\r\n\r\n    this.$element.trigger(e)\r\n\r\n    if (this.isShown || e.isDefaultPrevented()) return\r\n\r\n    this.isShown = true\r\n\r\n    this.escape()\r\n\r\n    this.$element.on('click.dismiss.bs.modal', '[data-dismiss=\"modal\"]', $.proxy(this.hide, this))\r\n\r\n    this.backdrop(function () {\r\n      var transition = $.support.transition && that.$element.hasClass('fade')\r\n\r\n      if (!that.$element.parent().length) {\r\n        that.$element.appendTo(document.body) // don't move modals dom position\r\n      }\r\n\r\n      that.$element\r\n        .show()\r\n        .scrollTop(0)\r\n\r\n      if (transition) {\r\n        that.$element[0].offsetWidth // force reflow\r\n      }\r\n\r\n      that.$element\r\n        .addClass('in')\r\n        .attr('aria-hidden', false)\r\n\r\n      that.enforceFocus()\r\n\r\n      var e = $.Event('shown.bs.modal', { relatedTarget: _relatedTarget })\r\n\r\n      transition ?\r\n        that.$element.find('.modal-dialog') // wait for modal to slide in\r\n          .one($.support.transition.end, function () {\r\n            that.$element.focus().trigger(e)\r\n          })\r\n          .emulateTransitionEnd(300) :\r\n        that.$element.focus().trigger(e)\r\n    })\r\n  }\r\n\r\n  Modal.prototype.hide = function (e) {\r\n    if (e) e.preventDefault()\r\n\r\n    e = $.Event('hide.bs.modal')\r\n\r\n    this.$element.trigger(e)\r\n\r\n    if (!this.isShown || e.isDefaultPrevented()) return\r\n\r\n    this.isShown = false\r\n\r\n    this.escape()\r\n\r\n    $(document).off('focusin.bs.modal')\r\n\r\n    this.$element\r\n      .removeClass('in')\r\n      .attr('aria-hidden', true)\r\n      .off('click.dismiss.bs.modal')\r\n\r\n    $.support.transition && this.$element.hasClass('fade') ?\r\n      this.$element\r\n        .one($.support.transition.end, $.proxy(this.hideModal, this))\r\n        .emulateTransitionEnd(300) :\r\n      this.hideModal()\r\n  }\r\n\r\n  Modal.prototype.enforceFocus = function () {\r\n    $(document)\r\n      .off('focusin.bs.modal') // guard against infinite focus loop\r\n      .on('focusin.bs.modal', $.proxy(function (e) {\r\n        if (this.$element[0] !== e.target && !this.$element.has(e.target).length) {\r\n          this.$element.focus()\r\n        }\r\n      }, this))\r\n  }\r\n\r\n  Modal.prototype.escape = function () {\r\n    if (this.isShown && this.options.keyboard) {\r\n      this.$element.on('keyup.dismiss.bs.modal', $.proxy(function (e) {\r\n        e.which == 27 && this.hide()\r\n      }, this))\r\n    } else if (!this.isShown) {\r\n      this.$element.off('keyup.dismiss.bs.modal')\r\n    }\r\n  }\r\n\r\n  Modal.prototype.hideModal = function () {\r\n    var that = this\r\n    this.$element.hide()\r\n    this.backdrop(function () {\r\n      that.removeBackdrop()\r\n      that.$element.trigger('hidden.bs.modal')\r\n    })\r\n  }\r\n\r\n  Modal.prototype.removeBackdrop = function () {\r\n    this.$backdrop && this.$backdrop.remove()\r\n    this.$backdrop = null\r\n  }\r\n\r\n  Modal.prototype.backdrop = function (callback) {\r\n    var animate = this.$element.hasClass('fade') ? 'fade' : ''\r\n\r\n    if (this.isShown && this.options.backdrop) {\r\n      var doAnimate = $.support.transition && animate\r\n\r\n      this.$backdrop = $('<div class=\"modal-backdrop ' + animate + '\" />')\r\n        .appendTo(document.body)\r\n\r\n      this.$element.on('click.dismiss.bs.modal', $.proxy(function (e) {\r\n        if (e.target !== e.currentTarget) return\r\n        this.options.backdrop == 'static'\r\n          ? this.$element[0].focus.call(this.$element[0])\r\n          : this.hide.call(this)\r\n      }, this))\r\n\r\n      if (doAnimate) this.$backdrop[0].offsetWidth // force reflow\r\n\r\n      this.$backdrop.addClass('in')\r\n\r\n      if (!callback) return\r\n\r\n      doAnimate ?\r\n        this.$backdrop\r\n          .one($.support.transition.end, callback)\r\n          .emulateTransitionEnd(150) :\r\n        callback()\r\n\r\n    } else if (!this.isShown && this.$backdrop) {\r\n      this.$backdrop.removeClass('in')\r\n\r\n      $.support.transition && this.$element.hasClass('fade') ?\r\n        this.$backdrop\r\n          .one($.support.transition.end, callback)\r\n          .emulateTransitionEnd(150) :\r\n        callback()\r\n\r\n    } else if (callback) {\r\n      callback()\r\n    }\r\n  }\r\n\r\n\r\n  // MODAL PLUGIN DEFINITION\r\n  // =======================\r\n\r\n  var old = $.fn.modal\r\n\r\n  $.fn.modal = function (option, _relatedTarget) {\r\n    return this.each(function () {\r\n      var $this   = $(this)\r\n      var data    = $this.data('bs.modal')\r\n      var options = $.extend({}, Modal.DEFAULTS, $this.data(), typeof option == 'object' && option)\r\n\r\n      if (!data) $this.data('bs.modal', (data = new Modal(this, options)))\r\n      if (typeof option == 'string') data[option](_relatedTarget)\r\n      else if (options.show) data.show(_relatedTarget)\r\n    })\r\n  }\r\n\r\n  $.fn.modal.Constructor = Modal\r\n\r\n\r\n  // MODAL NO CONFLICT\r\n  // =================\r\n\r\n  $.fn.modal.noConflict = function () {\r\n    $.fn.modal = old\r\n    return this\r\n  }\r\n\r\n\r\n  // MODAL DATA-API\r\n  // ==============\r\n\r\n  $(document).on('click.bs.modal.data-api', '[data-toggle=\"modal\"]', function (e) {\r\n    var $this   = $(this)\r\n    var href    = $this.attr('href')\r\n    var $target = $($this.attr('data-target') || (href && href.replace(/.*(?=#[^\\s]+$)/, ''))) //strip for ie7\r\n    var option  = $target.data('bs.modal') ? 'toggle' : $.extend({ remote: !/#/.test(href) && href }, $target.data(), $this.data())\r\n\r\n    if ($this.is('a')) e.preventDefault()\r\n\r\n    $target\r\n      .modal(option, this)\r\n      .one('hide', function () {\r\n        $this.is(':visible') && $this.focus()\r\n      })\r\n  })\r\n\r\n  $(document)\r\n    .on('show.bs.modal', '.modal', function () { $(document.body).addClass('modal-open') })\r\n    .on('hidden.bs.modal', '.modal', function () { $(document.body).removeClass('modal-open') })\r\n\r\n}(jQuery);\r\n      }).apply(root, arguments);\n    });\n}(this));\n\n","(function(root) {\ndefine(\"bootstrap/dropdown\", [\"jquery\",\"bootstrap/transition\"], function() {\n      return (function() {\n/* ========================================================================\r\n * Bootstrap: dropdown.js v3.1.1\r\n * http://getbootstrap.com/javascript/#dropdowns\r\n * ========================================================================\r\n * Copyright 2011-2014 Twitter, Inc.\r\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)\r\n * ======================================================================== */\r\n\r\n\r\n+function ($) {\r\n  'use strict';\r\n\r\n  // DROPDOWN CLASS DEFINITION\r\n  // =========================\r\n\r\n  var backdrop = '.dropdown-backdrop'\r\n  var toggle   = '[data-toggle=dropdown]'\r\n  var Dropdown = function (element) {\r\n    $(element).on('click.bs.dropdown', this.toggle)\r\n  }\r\n\r\n  Dropdown.prototype.toggle = function (e) {\r\n    var $this = $(this)\r\n\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    clearMenus()\r\n\r\n    if (!isActive) {\r\n      if ('ontouchstart' in document.documentElement && !$parent.closest('.navbar-nav').length) {\r\n        // if mobile we use a backdrop because click events don't delegate\r\n        $('<div class=\"dropdown-backdrop\"/>').insertAfter($(this)).on('click', clearMenus)\r\n      }\r\n\r\n      var relatedTarget = { relatedTarget: this }\r\n      $parent.trigger(e = $.Event('show.bs.dropdown', relatedTarget))\r\n\r\n      if (e.isDefaultPrevented()) return\r\n\r\n      $parent\r\n        .toggleClass('open')\r\n        .trigger('shown.bs.dropdown', relatedTarget)\r\n\r\n      $this.focus()\r\n    }\r\n\r\n    return false\r\n  }\r\n\r\n  Dropdown.prototype.keydown = function (e) {\r\n    if (!/(38|40|27)/.test(e.keyCode)) return\r\n\r\n    var $this = $(this)\r\n\r\n    e.preventDefault()\r\n    e.stopPropagation()\r\n\r\n    if ($this.is('.disabled, :disabled')) return\r\n\r\n    var $parent  = getParent($this)\r\n    var isActive = $parent.hasClass('open')\r\n\r\n    if (!isActive || (isActive && e.keyCode == 27)) {\r\n      if (e.which == 27) $parent.find(toggle).focus()\r\n      return $this.click()\r\n    }\r\n\r\n    var desc = ' li:not(.divider):visible a'\r\n    var $items = $parent.find('[role=menu]' + desc + ', [role=listbox]' + desc)\r\n\r\n    if (!$items.length) return\r\n\r\n    var index = $items.index($items.filter(':focus'))\r\n\r\n    if (e.keyCode == 38 && index > 0)                 index--                        // up\r\n    if (e.keyCode == 40 && index < $items.length - 1) index++                        // down\r\n    if (!~index)                                      index = 0\r\n\r\n    $items.eq(index).focus()\r\n  }\r\n\r\n  function clearMenus(e) {\r\n    $(backdrop).remove()\r\n    $(toggle).each(function () {\r\n      var $parent = getParent($(this))\r\n      var relatedTarget = { relatedTarget: this }\r\n      if (!$parent.hasClass('open')) return\r\n      $parent.trigger(e = $.Event('hide.bs.dropdown', relatedTarget))\r\n      if (e.isDefaultPrevented()) return\r\n      $parent.removeClass('open').trigger('hidden.bs.dropdown', relatedTarget)\r\n    })\r\n  }\r\n\r\n  function getParent($this) {\r\n    var selector = $this.attr('data-target')\r\n\r\n    if (!selector) {\r\n      selector = $this.attr('href')\r\n      selector = selector && /#[A-Za-z]/.test(selector) && selector.replace(/.*(?=#[^\\s]*$)/, '') //strip for ie7\r\n    }\r\n\r\n    var $parent = selector && $(selector)\r\n\r\n    return $parent && $parent.length ? $parent : $this.parent()\r\n  }\r\n\r\n\r\n  // DROPDOWN PLUGIN DEFINITION\r\n  // ==========================\r\n\r\n  var old = $.fn.dropdown\r\n\r\n  $.fn.dropdown = function (option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n      var data  = $this.data('bs.dropdown')\r\n\r\n      if (!data) $this.data('bs.dropdown', (data = new Dropdown(this)))\r\n      if (typeof option == 'string') data[option].call($this)\r\n    })\r\n  }\r\n\r\n  $.fn.dropdown.Constructor = Dropdown\r\n\r\n\r\n  // DROPDOWN NO CONFLICT\r\n  // ====================\r\n\r\n  $.fn.dropdown.noConflict = function () {\r\n    $.fn.dropdown = old\r\n    return this\r\n  }\r\n\r\n\r\n  // APPLY TO STANDARD DROPDOWN ELEMENTS\r\n  // ===================================\r\n\r\n  $(document)\r\n    .on('click.bs.dropdown.data-api', clearMenus)\r\n    .on('click.bs.dropdown.data-api', '.dropdown form', function (e) { e.stopPropagation() })\r\n    .on('click.bs.dropdown.data-api', toggle, Dropdown.prototype.toggle)\r\n    .on('keydown.bs.dropdown.data-api', toggle + ', [role=menu], [role=listbox]', Dropdown.prototype.keydown)\r\n\r\n}(jQuery);\r\n      }).apply(root, arguments);\n    });\n}(this));\n\n","/**\n * @license jquery.panzoom.js v1.12.1\n * Updated: Tue Mar 04 2014\n * Add pan and zoom functionality to any element\n * Copyright (c) 2014 timmy willison\n * Released under the MIT license\n * https://github.com/timmywil/jquery.panzoom/blob/master/MIT-License.txt\n */\n\n(function( global, factory ) {\n\t// AMD\n\tif ( typeof define === 'function' && define.amd ) {\n\t\tdefine( 'jquery.panzoom',[ 'jquery' ], factory );\n\t// CommonJS/Browserify\n\t} else if ( typeof exports === 'object' ) {\n\t\tfactory( require('jquery') );\n\t// Global\n\t} else {\n\t\tfactory( global.jQuery );\n\t}\n}( this, function( $ ) {\n\t'use strict';\n\n\t// Common properties to lift for touch or pointer events\n\tvar list = 'over out down up move enter leave cancel'.split(' ');\n\tvar hook = $.extend({}, $.event.mouseHooks);\n\tvar events = {};\n\n\t// Support pointer events in IE11+ if available\n\tif ( window.PointerEvent ) {\n\t\t$.each(list, function( i, name ) {\n\t\t\t// Add event name to events property and add fixHook\n\t\t\t$.event.fixHooks[\n\t\t\t\t(events[name] = 'pointer' + name)\n\t\t\t] = hook;\n\t\t});\n\t} else {\n\t\tvar mouseProps = hook.props;\n\t\t// Add touch properties for the touch hook\n\t\thook.props = mouseProps.concat(['touches', 'changedTouches', 'targetTouches', 'altKey', 'ctrlKey', 'metaKey', 'shiftKey']);\n\n\t\t/**\n\t\t * Support: Android\n\t\t * Android sets pageX/Y to 0 for any touch event\n\t\t * Attach first touch's pageX/pageY and clientX/clientY if not set correctly\n\t\t */\n\t\thook.filter = function( event, originalEvent ) {\n\t\t\tvar touch;\n\t\t\tvar i = mouseProps.length;\n\t\t\tif ( !originalEvent.pageX && originalEvent.touches && (touch = originalEvent.touches[0]) ) {\n\t\t\t\t// Copy over all mouse properties\n\t\t\t\twhile(i--) {\n\t\t\t\t\tevent[mouseProps[i]] = touch[mouseProps[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn event;\n\t\t};\n\n\t\t// Take off 'over' and 'out' when attaching touch hooks\n\t\t$.each(list, function( i, name ) {\n\t\t\t// No equivalent touch events for over and out\n\t\t\tif (i < 2) {\n\t\t\t\tevents[ name ] = 'mouse' + name;\n\t\t\t} else {\n\t\t\t\tvar touch = 'touch' +\n\t\t\t\t\t(name === 'down' ? 'start' : name === 'up' ? 'end' : name);\n\t\t\t\t// Add fixHook\n\t\t\t\t$.event.fixHooks[ touch ] = hook;\n\t\t\t\t// Add event names to events property\n\t\t\t\tevents[ name ] = touch + ' mouse' + name;\n\t\t\t}\n\t\t});\n\t}\n\n\t$.pointertouch = events;\n\n\tvar datakey = '__pz__';\n\tvar slice = Array.prototype.slice;\n\tvar pointerEvents = !!window.PointerEvent;\n\n\t// Regex\n\tvar rupper = /([A-Z])/g;\n\tvar rsvg = /^http:[\\w\\.\\/]+svg$/;\n\tvar rinline = /^inline/;\n\n\tvar floating = '(\\\\-?[\\\\d\\\\.e]+)';\n\tvar commaSpace = '\\\\,?\\\\s*';\n\tvar rmatrix = new RegExp(\n\t\t'^matrix\\\\(' +\n\t\tfloating + commaSpace +\n\t\tfloating + commaSpace +\n\t\tfloating + commaSpace +\n\t\tfloating + commaSpace +\n\t\tfloating + commaSpace +\n\t\tfloating + '\\\\)$'\n\t);\n\n\t/**\n\t * Utility for determing transform matrix equality\n\t * Checks backwards to test translation first\n\t * @param {Array} first\n\t * @param {Array} second\n\t */\n\tfunction matrixEquals( first, second ) {\n\t\tvar i = first.length;\n\t\twhile( --i ) {\n\t\t\tif ( +first[i] !== +second[i] ) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t * Creates the options object for reset functions\n\t * @param {Boolean|Object} opts See reset methods\n\t * @returns {Object} Returns the newly-created options object\n\t */\n\tfunction createResetOptions( opts ) {\n\t\tvar options = { range: true, animate: true };\n\t\tif ( typeof opts === 'boolean' ) {\n\t\t\toptions.animate = opts;\n\t\t} else {\n\t\t\t$.extend( options, opts );\n\t\t}\n\t\treturn options;\n\t}\n\n\t/**\n\t * Represent a transformation matrix with a 3x3 matrix for calculations\n\t * Matrix functions adapted from Louis Remi's jQuery.transform (https://github.com/louisremi/jquery.transform.js)\n\t * @param {Array|Number} a An array of six values representing a 2d transformation matrix\n\t */\n\tfunction Matrix( a, b, c, d, e, f, g, h, i ) {\n\t\tif ( $.type(a) === 'array' ) {\n\t\t\tthis.elements = [\n\t\t\t\t+a[0], +a[2], +a[4],\n\t\t\t\t+a[1], +a[3], +a[5],\n\t\t\t\t    0,     0,     1\n\t\t\t];\n\t\t} else {\n\t\t\tthis.elements = [\n\t\t\t\ta, b, c,\n\t\t\t\td, e, f,\n\t\t\t\tg || 0, h || 0, i || 1\n\t\t\t];\n\t\t}\n\t}\n\n\tMatrix.prototype = {\n\t\t/**\n\t\t * Multiply a 3x3 matrix by a similar matrix or a vector\n\t\t * @param {Matrix|Vector} matrix\n\t\t * @return {Matrix|Vector} Returns a vector if multiplying by a vector\n\t\t */\n\t\tx: function( matrix ) {\n\t\t\tvar isVector = matrix instanceof Vector;\n\n\t\t\tvar a = this.elements,\n\t\t\t\tb = matrix.elements;\n\n\t\t\tif ( isVector && b.length === 3 ) {\n\t\t\t\t// b is actually a vector\n\t\t\t\treturn new Vector(\n\t\t\t\t\ta[0] * b[0] + a[1] * b[1] + a[2] * b[2],\n\t\t\t\t\ta[3] * b[0] + a[4] * b[1] + a[5] * b[2],\n\t\t\t\t\ta[6] * b[0] + a[7] * b[1] + a[8] * b[2]\n\t\t\t\t);\n\t\t\t} else if ( b.length === a.length ) {\n\t\t\t\t// b is a 3x3 matrix\n\t\t\t\treturn new Matrix(\n\t\t\t\t\ta[0] * b[0] + a[1] * b[3] + a[2] * b[6],\n\t\t\t\t\ta[0] * b[1] + a[1] * b[4] + a[2] * b[7],\n\t\t\t\t\ta[0] * b[2] + a[1] * b[5] + a[2] * b[8],\n\n\t\t\t\t\ta[3] * b[0] + a[4] * b[3] + a[5] * b[6],\n\t\t\t\t\ta[3] * b[1] + a[4] * b[4] + a[5] * b[7],\n\t\t\t\t\ta[3] * b[2] + a[4] * b[5] + a[5] * b[8],\n\n\t\t\t\t\ta[6] * b[0] + a[7] * b[3] + a[8] * b[6],\n\t\t\t\t\ta[6] * b[1] + a[7] * b[4] + a[8] * b[7],\n\t\t\t\t\ta[6] * b[2] + a[7] * b[5] + a[8] * b[8]\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn false; // fail\n\t\t},\n\t\t/**\n\t\t * Generates an inverse of the current matrix\n\t\t * @returns {Matrix}\n\t\t */\n\t\tinverse: function() {\n\t\t\tvar d = 1 / this.determinant(),\n\t\t\t\ta = this.elements;\n\t\t\treturn new Matrix(\n\t\t\t\td * (  a[8] * a[4] - a[7] * a[5]),\n\t\t\t\td * (-(a[8] * a[1] - a[7] * a[2])),\n\t\t\t\td * (  a[5] * a[1] - a[4] * a[2]),\n\n\t\t\t\td * (-(a[8] * a[3] - a[6] * a[5])),\n\t\t\t\td * (  a[8] * a[0] - a[6] * a[2]),\n\t\t\t\td * (-(a[5] * a[0] - a[3] * a[2])),\n\n\t\t\t\td * (  a[7] * a[3] - a[6] * a[4]),\n\t\t\t\td * (-(a[7] * a[0] - a[6] * a[1])),\n\t\t\t\td * (  a[4] * a[0] - a[3] * a[1])\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Calculates the determinant of the current matrix\n\t\t * @returns {Number}\n\t\t */\n\t\tdeterminant: function() {\n\t\t\tvar a = this.elements;\n\t\t\treturn a[0] * (a[8] * a[4] - a[7] * a[5]) - a[3] * (a[8] * a[1] - a[7] * a[2]) + a[6] * (a[5] * a[1] - a[4] * a[2]);\n\t\t}\n\t};\n\n\t/**\n\t * Create a vector containing three values\n\t */\n\tfunction Vector( x, y, z ) {\n\t\tthis.elements = [ x, y, z ];\n\t}\n\n\t/**\n\t * Get the element at zero-indexed index i\n\t * @param {Number} i\n\t */\n\tVector.prototype.e = Matrix.prototype.e = function( i ) {\n\t\treturn this.elements[ i ];\n\t};\n\n\t/**\n\t * Create a Panzoom object for a given element\n\t * @constructor\n\t * @param {Element} elem - Element to use pan and zoom\n\t * @param {Object} [options] - An object literal containing options to override default options\n\t *  (See Panzoom.defaults for ones not listed below)\n\t * @param {jQuery} [options.$zoomIn] - zoom in buttons/links collection (you can also bind these yourself\n\t *  e.g. $button.on('click', function( e ) { e.preventDefault(); $elem.panzooom('zoomIn'); }); )\n\t * @param {jQuery} [options.$zoomOut] - zoom out buttons/links collection on which to bind zoomOut\n\t * @param {jQuery} [options.$zoomRange] - zoom in/out with this range control\n\t * @param {jQuery} [options.$reset] - Reset buttons/links collection on which to bind the reset method\n\t * @param {Function} [options.on[Start|Change|Zoom|Pan|End|Reset] - Optional callbacks for panzoom events\n\t */\n\tfunction Panzoom( elem, options ) {\n\n\t\t// Allow instantiation without `new` keyword\n\t\tif ( !(this instanceof Panzoom) ) {\n\t\t\treturn new Panzoom( elem, options );\n\t\t}\n\n\t\t// Sanity checks\n\t\tif ( elem.nodeType !== 1 ) {\n\t\t\t$.error('Panzoom called on non-Element node');\n\t\t}\n\t\tif ( !$.contains(document, elem) ) {\n\t\t\t$.error('Panzoom element must be attached to the document');\n\t\t}\n\n\t\t// Don't remake\n\t\tvar d = $.data( elem, datakey );\n\t\tif ( d ) {\n\t\t\treturn d;\n\t\t}\n\n\t\t// Extend default with given object literal\n\t\t// Each instance gets its own options\n\t\tthis.options = options = $.extend( {}, Panzoom.defaults, options );\n\t\tthis.elem = elem;\n\t\tvar $elem = this.$elem = $(elem);\n\t\tthis.$set = options.$set && options.$set.length ? options.$set : $elem;\n\t\tthis.$doc = $(elem.ownerDocument || document);\n\t\tthis.$parent = $elem.parent();\n\n\t\t// This is SVG if the namespace is SVG\n\t\t// However, while <svg> elements are SVG, we want to treat those like other elements\n\t\tthis.isSVG = rsvg.test( elem.namespaceURI ) && elem.nodeName.toLowerCase() !== 'svg';\n\n\t\tthis.panning = false;\n\n\t\t// Save the original transform value\n\t\t// Save the prefixed transform style key\n\t\t// Set the starting transform\n\t\tthis._buildTransform();\n\n\t\t// Build the appropriately-prefixed transform style property name\n\t\t// De-camelcase\n\t\t// Transitioning the attribute for SVG doesn't apply\n\t\tif ( !this.isSVG ) {\n\t\t\tthis._transform = $.cssProps.transform.replace( rupper, '-$1' ).toLowerCase();\n\t\t}\n\n\t\t// Build the transition value\n\t\tthis._buildTransition();\n\n\t\t// Build containment dimensions\n\t\tthis.resetDimensions();\n\n\t\t// Add zoom and reset buttons to `this`\n\t\tvar $empty = $();\n\t\tvar self = this;\n\t\t$.each([ '$zoomIn', '$zoomOut', '$zoomRange', '$reset' ], function( i, name ) {\n\t\t\tself[ name ] = options[ name ] || $empty;\n\t\t});\n\n\t\tthis.enable();\n\n\t\t// Save the instance\n\t\t$.data( elem, datakey, this );\n\t}\n\n\t// Attach regex for possible use (immutable)\n\tPanzoom.rmatrix = rmatrix;\n\n\t// Container for event names\n\tPanzoom.events = $.pointertouch;\n\n\tPanzoom.defaults = {\n\t\t// Should always be non-empty\n\t\t// Used to bind jQuery events without collisions\n\t\t// A guid is not added here as different instantiations/versions of panzoom\n\t\t// on the same element is not supported, so don't do it.\n\t\teventNamespace: '.panzoom',\n\n\t\t// Whether or not to transition the scale\n\t\ttransition: true,\n\n\t\t// Default cursor style for the element\n\t\tcursor: 'move',\n\n\t\t// There may be some use cases for zooming without panning or vice versa\n\t\tdisablePan: false,\n\t\tdisableZoom: false,\n\n\t\t// The increment at which to zoom\n\t\t// adds/subtracts to the scale each time zoomIn/Out is called\n\t\tincrement: 0.3,\n\n\t\tminScale: 0.4,\n\t\tmaxScale: 5,\n\n\t\t// The default step for the range input\n\t\t// Precendence: default < HTML attribute < option setting\n\t\trangeStep: 0.05,\n\n\t\t// Animation duration (ms)\n\t\tduration: 200,\n\t\t// CSS easing used for scale transition\n\t\teasing: 'ease-in-out',\n\n\t\t// Indicate that the element should be contained within it's parent when panning\n\t\t// Note: this does not affect zooming outside of the parent\n\t\t// Set this value to 'invert' to only allow panning outside of the parent element (basically the opposite of the normal use of contain)\n\t\t// 'invert' is useful for a large panzoom element where you don't want to show anything behind it\n\t\tcontain: false\n\t};\n\n\tPanzoom.prototype = {\n\t\tconstructor: Panzoom,\n\n\t\t/**\n\t\t * @returns {Panzoom} Returns the instance\n\t\t */\n\t\tinstance: function() {\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Enable or re-enable the panzoom instance\n\t\t */\n\t\tenable: function() {\n\t\t\t// Unbind first\n\t\t\tthis._initStyle();\n\t\t\tthis._bind();\n\t\t\tthis.disabled = false;\n\t\t},\n\n\t\t/**\n\t\t * Disable panzoom\n\t\t */\n\t\tdisable: function() {\n\t\t\tthis.disabled = true;\n\t\t\tthis._resetStyle();\n\t\t\tthis._unbind();\n\t\t},\n\n\t\t/**\n\t\t * @returns {Boolean} Returns whether the current panzoom instance is disabled\n\t\t */\n\t\tisDisabled: function() {\n\t\t\treturn this.disabled;\n\t\t},\n\n\t\t/**\n\t\t * Destroy the panzoom instance\n\t\t */\n\t\tdestroy: function() {\n\t\t\tthis.disable();\n\t\t\t$.removeData( this.elem, datakey );\n\t\t},\n\n\t\t/**\n\t\t * Builds the restricing dimensions from the containment element\n\t\t * Also used with focal points\n\t\t * Call this method whenever the dimensions of the element or parent are changed\n\t\t */\n\t\tresetDimensions: function() {\n\t\t\t// Reset container properties\n\t\t\tvar $parent = this.$parent;\n\t\t\tthis.container = {\n\t\t\t\twidth: $parent.width(),\n\t\t\t\theight: $parent.height()\n\t\t\t};\n\t\t\tvar elem = this.elem;\n\t\t\tvar $elem = this.$elem;\n\t\t\tvar dims = this.dimensions = this.isSVG ? {\n\t\t\t\tleft: elem.getAttribute('x') || 0,\n\t\t\t\ttop: elem.getAttribute('y') || 0,\n\t\t\t\twidth: elem.getAttribute('width') || $elem.outerWidth(),\n\t\t\t\theight: elem.getAttribute('height') || $elem.outerHeight(),\n\t\t\t\tmargin: { left: 0, top: 0 }\n\t\t\t} : {\n\t\t\t\tleft: $.css( elem, 'left', true ) || 0,\n\t\t\t\ttop: $.css( elem, 'top', true ) || 0,\n\t\t\t\twidth: $elem.outerWidth(),\n\t\t\t\theight: $elem.outerHeight(),\n\t\t\t\tmargin: {\n\t\t\t\t\ttop: $.css( elem, 'marginTop', true ) || 0,\n\t\t\t\t\tleft: $.css( elem, 'marginLeft', true ) || 0\n\t\t\t\t}\n\t\t\t};\n\t\t\tdims.widthBorder = ($.css( elem, 'borderLeftWidth', true ) + $.css( elem, 'borderRightWidth', true )) || 0;\n\t\t\tdims.heightBorder = ($.css( elem, 'borderTopWidth', true ) + $.css( elem, 'borderBottomWidth', true )) || 0;\n\t\t},\n\n\t\t/**\n\t\t * Return the element to it's original transform matrix\n\t\t * @param {Boolean} [options] If a boolean is passed, animate the reset (default: true). If an options object is passed, simply pass that along to setMatrix.\n\t\t * @param {Boolean} [options.silent] Silence the reset event\n\t\t */\n\t\treset: function( options ) {\n\t\t\toptions = createResetOptions( options );\n\t\t\t// Reset the transform to its original value\n\t\t\tvar matrix = this.setMatrix( this._origTransform, options );\n\t\t\tif ( !options.silent ) {\n\t\t\t\tthis._trigger( 'reset', matrix );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Only resets zoom level\n\t\t * @param {Boolean|Object} [options] Whether to animate the reset (default: true) or an object of options to pass to zoom()\n\t\t */\n\t\tresetZoom: function( options ) {\n\t\t\toptions = createResetOptions( options );\n\t\t\tvar origMatrix = this.getMatrix( this._origTransform );\n\t\t\toptions.dValue = origMatrix[ 3 ];\n\t\t\tthis.zoom( origMatrix[0], options );\n\t\t},\n\n\t\t/**\n\t\t * Only reset panning\n\t\t * @param {Boolean|Object} [options] Whether to animate the reset (default: true) or an object of options to pass to pan()\n\t\t */\n\t\tresetPan: function( options ) {\n\t\t\tvar origMatrix = this.getMatrix( this._origTransform );\n\t\t\tthis.pan( origMatrix[4], origMatrix[5], createResetOptions(options) );\n\t\t},\n\n\t\t/**\n\t\t * Sets a transform on the $set\n\t\t * @param {String} transform\n\t\t */\n\t\tsetTransform: function( transform ) {\n\t\t\tvar method = this.isSVG ? 'attr' : 'style';\n\t\t\tvar $set = this.$set;\n\t\t\tvar i = $set.length;\n\t\t\twhile( i-- ) {\n\t\t\t\t$[ method ]( $set[i], 'transform', transform );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Retrieving the transform is different for SVG\n\t\t *  (unless a style transform is already present)\n\t\t * Uses the $set collection for retrieving the transform\n\t\t * @param {String} [transform] Pass in an transform value (like 'scale(1.1)')\n\t\t *  to have it formatted into matrix format for use by Panzoom\n\t\t * @returns {String} Returns the current transform value of the element\n\t\t */\n\t\tgetTransform: function( transform ) {\n\t\t\tvar transformElem = this.$set[0];\n\t\t\tif ( transform ) {\n\t\t\t\tthis.setTransform( transform );\n\t\t\t} else {\n\t\t\t\t// Use style rather than computed\n\t\t\t\t// If currently transitioning, computed transform might be unchanged\n\t\t\t\t// Retrieve with attr for SVG\n\t\t\t\ttransform = $[ this.isSVG ? 'attr' : 'style' ]( transformElem, 'transform' );\n\t\t\t}\n\n\t\t\t// Convert any transforms set by the user to matrix format\n\t\t\t// by setting to computed\n\t\t\tif ( transform !== 'none' && !rmatrix.test(transform) && !this.isSVG ) {\n\t\t\t\t// Get computed and set for next time\n\t\t\t\tthis.setTransform( transform = $.css( transformElem, 'transform' ) );\n\t\t\t}\n\n\t\t\treturn transform || 'none';\n\t\t},\n\n\t\t/**\n\t\t * Retrieve the current transform matrix for $elem (or turn a transform into it's array values)\n\t\t * @param {String} [transform] matrix-formatted transform value\n\t\t * @returns {Array} Returns the current transform matrix split up into it's parts, or a default matrix\n\t\t */\n\t\tgetMatrix: function( transform ) {\n\t\t\tvar matrix = rmatrix.exec( transform || this.getTransform() );\n\t\t\tif ( matrix ) {\n\t\t\t\tmatrix.shift();\n\t\t\t}\n\t\t\treturn matrix || [ 1, 0, 0, 1, 0, 0 ];\n\t\t},\n\n\t\t/**\n\t\t * Given a matrix object, quickly set the current matrix of the element\n\t\t * @param {Array|String} matrix\n\t\t * @param {Boolean} [animate] Whether to animate the transform change\n\t\t * @param {Object} [options]\n\t\t * @param {Boolean|String} [options.animate] Whether to animate the transform change, or 'skip' indicating that it is unnecessary to set\n\t\t * @param {Boolean} [options.contain] Override the global contain option\n\t\t * @param {Boolean} [options.range] If true, $zoomRange's value will be updated.\n\t\t * @param {Boolean} [options.silent] If true, the change event will not be triggered\n\t\t * @returns {Array} Returns the newly-set matrix\n\t\t */\n\t\tsetMatrix: function( matrix, options ) {\n\t\t\tif ( this.disabled ) { return; }\n\t\t\tif ( !options ) { options = {}; }\n\t\t\t// Convert to array\n\t\t\tif ( typeof matrix === 'string' ) {\n\t\t\t\tmatrix = this.getMatrix( matrix );\n\t\t\t}\n\t\t\tvar dims, container, marginW, marginH, diffW, diffH, left, top;\n\t\t\tvar scale = +matrix[0];\n\t\t\tvar $parent = this.$parent;\n\t\t\tvar contain = typeof options.contain !== 'undefined' ? options.contain : this.options.contain;\n\n\t\t\t// Apply containment\n\t\t\tif ( contain ) {\n\t\t\t\tdims = this._checkDims();\n\t\t\t\tcontainer = this.container;\n\t\t\t\tmarginW = ((dims.width * scale) - container.width) / 2;\n\t\t\t\tmarginH = ((dims.height * scale) - container.height) / 2;\n\t\t\t\tif ( contain === 'invert' ) {\n\t\t\t\t\tdiffW = dims.width > container.width ? dims.width - container.width : 0;\n\t\t\t\t\tdiffH = dims.height > container.height ? dims.height - container.height : 0;\n\t\t\t\t\tmarginW += (container.width - dims.width) / 2;\n\t\t\t\t\tmarginH += (container.height - dims.height) / 2;\n\t\t\t\t\tleft = dims.left + dims.margin.left;\n\t\t\t\t\ttop = dims.top + dims.margin.top;\n\t\t\t\t\tmatrix[4] = Math.max( Math.min( matrix[4], marginW - left ), -marginW - left - diffW );\n\t\t\t\t\tmatrix[5] = Math.max( Math.min( matrix[5], marginH - top ), -marginH - top - diffH + dims.heightBorder );\n\t\t\t\t} else {\n\t\t\t\t\tdiffH = container.height > dims.height ? container.height - dims.height : 0;\n\t\t\t\t\t// If the element is not naturally centered, assume full margin right\n\t\t\t\t\tif ( $parent.css('textAlign') !== 'center' || !rinline.test($.css(this.elem, 'display')) ) {\n\t\t\t\t\t\tdiffW = container.width > dims.width ? container.width - dims.width : 0;\n\t\t\t\t\t\tmarginW = marginH = 0;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdiffW = 0;\n\t\t\t\t\t}\n\t\t\t\t\tmatrix[4] = Math.min(\n\t\t\t\t\t\tMath.max( matrix[4], marginW - dims.left ),\n\t\t\t\t\t\t-marginW - dims.left + diffW\n\t\t\t\t\t);\n\t\t\t\t\tmatrix[5] = Math.min(\n\t\t\t\t\t\tMath.max( matrix[5], marginH - dims.top ),\n\t\t\t\t\t\t-marginH - dims.top + diffH\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( options.animate !== 'skip' ) {\n\t\t\t\t// Set transition\n\t\t\t\tthis.transition( !options.animate );\n\t\t\t}\n\t\t\t// Update range\n\t\t\tif ( options.range ) {\n\t\t\t\tthis.$zoomRange.val( scale );\n\t\t\t}\n\n\t\t\t// Set the matrix on this.$set\n\t\t\tthis.setTransform( 'matrix(' + matrix.join(',') + ')' );\n\n\t\t\tif ( !options.silent ) {\n\t\t\t\tthis._trigger( 'change', matrix );\n\t\t\t}\n\n\t\t\treturn matrix;\n\t\t},\n\n\t\t/**\n\t\t * @returns {Boolean} Returns whether the panzoom element is currently being dragged\n\t\t */\n\t\tisPanning: function() {\n\t\t\treturn this.panning;\n\t\t},\n\n\t\t/**\n\t\t * Apply the current transition to the element, if allowed\n\t\t * @param {Boolean} [off] Indicates that the transition should be turned off\n\t\t */\n\t\ttransition: function( off ) {\n\t\t\tvar transition = off || !this.options.transition ? 'none' : this._transition;\n\t\t\tvar $set = this.$set;\n\t\t\tvar i = $set.length;\n\t\t\twhile( i-- ) {\n\t\t\t\t// Avoid reflows when zooming\n\t\t\t\tif ( $.style( $set[i], 'transition') !== transition ) {\n\t\t\t\t\t$.style( $set[i], 'transition', transition );\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Pan the element to the specified translation X and Y\n\t\t * Note: this is not the same as setting jQuery#offset() or jQuery#position()\n\t\t * @param {Number} x\n\t\t * @param {Number} y\n\t\t * @param {Object} [options] These options are passed along to setMatrix\n\t\t * @param {Array} [options.matrix] The matrix being manipulated (if already known so it doesn't have to be retrieved again)\n\t\t * @param {Boolean} [options.silent] Silence the pan event. Note that this will also silence the setMatrix change event.\n\t\t * @param {Boolean} [options.relative] Make the x and y values relative to the existing matrix\n\t\t */\n\t\tpan: function( x, y, options ) {\n\t\t\tif ( this.options.disablePan ) { return; }\n\t\t\tif ( !options ) { options = {}; }\n\t\t\tvar matrix = options.matrix;\n\t\t\tif ( !matrix ) {\n\t\t\t\tmatrix = this.getMatrix();\n\t\t\t}\n\t\t\t// Cast existing matrix values to numbers\n\t\t\tif ( options.relative ) {\n\t\t\t\tx += +matrix[4];\n\t\t\t\ty += +matrix[5];\n\t\t\t}\n\t\t\tmatrix[4] = x;\n\t\t\tmatrix[5] = y;\n\t\t\tthis.setMatrix( matrix, options );\n\t\t\tif ( !options.silent ) {\n\t\t\t\tthis._trigger( 'pan', matrix[4], matrix[5] );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Zoom in/out the element using the scale properties of a transform matrix\n\t\t * @param {Number|Boolean} [scale] The scale to which to zoom or a boolean indicating to transition a zoom out\n\t\t * @param {Object} [opts] All global options can be overwritten by this options object. For example, override the default increment.\n\t\t * @param {Boolean} [opts.noSetRange] Specify that the method should not set the $zoomRange value (as is the case when $zoomRange is calling zoom on change)\n\t\t * @param {jQuery.Event|Object} [opts.focal] A focal point on the panzoom element on which to zoom.\n\t\t *  If an object, set the clientX and clientY properties to the position relative to the parent\n\t\t * @param {Boolean} [opts.animate] Whether to animate the zoom (defaults to true if scale is not a number, false otherwise)\n\t\t * @param {Boolean} [opts.silent] Silence the zoom event\n\t\t * @param {Array} [opts.matrix] Optionally pass the current matrix so it doesn't need to be retrieved\n\t\t * @param {Number} [opts.dValue] Think of a transform matrix as four values a, b, c, d\n\t\t *  where a/d are the horizontal/vertical scale values and b/c are the skew values\n\t\t *  (5 and 6 of matrix array are the tx/ty transform values).\n\t\t *  Normally, the scale is set to both the a and d values of the matrix.\n\t\t *  This option allows you to specify a different d value for the zoom.\n\t\t *  For instance, to flip vertically, you could set -1 as the dValue.\n\t\t */\n\t\tzoom: function( scale, opts ) {\n\t\t\t// Shuffle arguments\n\t\t\tif ( typeof scale === 'object' ) {\n\t\t\t\topts = scale;\n\t\t\t\tscale = null;\n\t\t\t} else if ( !opts ) {\n\t\t\t\topts = {};\n\t\t\t}\n\t\t\tvar options = $.extend( {}, this.options, opts );\n\t\t\t// Check if disabled\n\t\t\tif ( options.disableZoom ) { return; }\n\t\t\tvar animate = false;\n\t\t\tvar matrix = options.matrix || this.getMatrix();\n\n\t\t\t// Calculate zoom based on increment\n\t\t\tif ( typeof scale !== 'number' ) {\n\t\t\t\tscale = +matrix[0] + (options.increment * (scale ? -1 : 1));\n\t\t\t\tanimate = true;\n\t\t\t}\n\n\t\t\t// Constrain scale\n\t\t\tif ( scale > options.maxScale ) {\n\t\t\t\tscale = options.maxScale;\n\t\t\t} else if ( scale < options.minScale ) {\n\t\t\t\tscale = options.minScale;\n\t\t\t}\n\n\t\t\t// Calculate focal point based on scale\n\t\t\tvar focal = options.focal;\n\t\t\tif ( focal && !options.disablePan ) {\n\t\t\t\t// animate isn't necessary for focal point use cases\n\t\t\t\tanimate = false;\n\t\t\t\t// Adapted from code by Florian Gnther\n\t\t\t\t// https://github.com/florianguenther/zui53\n\t\t\t\t// Adjusts the focal point for default transform-origin => 50% 50%\n\t\t\t\tvar dims = this._checkDims();\n\t\t\t\tvar clientX = focal.clientX - dims.width / 2;\n\t\t\t\tvar clientY = focal.clientY - dims.height / 2;\n\t\t\t\tvar clientV = new Vector( clientX, clientY, 1 );\n\t\t\t\tvar surfaceM = new Matrix( matrix );\n\t\t\t\tvar o = this.$parent.offset();\n\t\t\t\tvar offsetM = new Matrix( 1, 0, o.left - this.$doc.scrollLeft(), 0, 1, o.top - this.$doc.scrollTop() );\n\t\t\t\tvar surfaceV = surfaceM.inverse().x( offsetM.inverse().x(clientV) );\n\t\t\t\tvar scaleBy = scale / matrix[0];\n\t\t\t\tsurfaceM = surfaceM.x( new Matrix([ scaleBy, 0, 0, scaleBy, 0, 0 ]) );\n\t\t\t\tclientV = offsetM.x( surfaceM.x( surfaceV ) );\n\t\t\t\tmatrix[4] = +matrix[4] + (clientX - clientV.e(0));\n\t\t\t\tmatrix[5] = +matrix[5] + (clientY - clientV.e(1));\n\t\t\t}\n\n\t\t\t// Set the scale\n\t\t\tmatrix[0] = scale;\n\t\t\tmatrix[3] = typeof options.dValue === 'number' ? options.dValue : scale;\n\n\t\t\t// Calling zoom may still pan the element\n\t\t\tthis.setMatrix( matrix, {\n\t\t\t\tanimate: typeof options.animate === 'boolean' ? options.animate : animate,\n\t\t\t\t// Set the zoomRange value\n\t\t\t\trange: !options.noSetRange\n\t\t\t});\n\n\t\t\t// Trigger zoom event\n\t\t\tif ( !options.silent ) {\n\t\t\t\tthis._trigger( 'zoom', matrix[0], options );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Get/set option on an existing instance\n\t\t * @returns {Array|undefined} If getting, returns an array of all values\n\t\t *   on each instance for a given key. If setting, continue chaining by returning undefined.\n\t\t */\n\t\toption: function( key, value ) {\n\t\t\tvar options;\n\t\t\tif ( !key ) {\n\t\t\t\t// Avoids returning direct reference\n\t\t\t\treturn $.extend( {}, this.options );\n\t\t\t}\n\n\t\t\tif ( typeof key === 'string' ) {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] !== undefined ?\n\t\t\t\t\t\tthis.options[ key ] :\n\t\t\t\t\t\tnull;\n\t\t\t\t}\n\t\t\t\toptions = {};\n\t\t\t\toptions[ key ] = value;\n\t\t\t} else {\n\t\t\t\toptions = key;\n\t\t\t}\n\n\t\t\tthis._setOptions( options );\n\t\t},\n\n\t\t/**\n\t\t * Internally sets options\n\t\t * @param {Object} options - An object literal of options to set\n\t\t */\n\t\t_setOptions: function( options ) {\n\t\t\t$.each( options, $.proxy(function( key, value ) {\n\t\t\t\tswitch( key ) {\n\t\t\t\t\tcase 'disablePan':\n\t\t\t\t\t\tthis._resetStyle();\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tcase '$zoomIn':\n\t\t\t\t\tcase '$zoomOut':\n\t\t\t\t\tcase '$zoomRange':\n\t\t\t\t\tcase '$reset':\n\t\t\t\t\tcase 'disableZoom':\n\t\t\t\t\tcase 'onStart':\n\t\t\t\t\tcase 'onChange':\n\t\t\t\t\tcase 'onZoom':\n\t\t\t\t\tcase 'onPan':\n\t\t\t\t\tcase 'onEnd':\n\t\t\t\t\tcase 'onReset':\n\t\t\t\t\tcase 'eventNamespace':\n\t\t\t\t\t\tthis._unbind();\n\t\t\t\t}\n\t\t\t\tthis.options[ key ] = value;\n\t\t\t\tswitch( key ) {\n\t\t\t\t\tcase 'disablePan':\n\t\t\t\t\t\tthis._initStyle();\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tcase '$zoomIn':\n\t\t\t\t\tcase '$zoomOut':\n\t\t\t\t\tcase '$zoomRange':\n\t\t\t\t\tcase '$reset':\n\t\t\t\t\t\t// Set these on the instance\n\t\t\t\t\t\tthis[ key ] = value;\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tcase 'disableZoom':\n\t\t\t\t\tcase 'onStart':\n\t\t\t\t\tcase 'onChange':\n\t\t\t\t\tcase 'onZoom':\n\t\t\t\t\tcase 'onPan':\n\t\t\t\t\tcase 'onEnd':\n\t\t\t\t\tcase 'onReset':\n\t\t\t\t\tcase 'eventNamespace':\n\t\t\t\t\t\tthis._bind();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'cursor':\n\t\t\t\t\t\t$.style( this.elem, 'cursor', value );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'minScale':\n\t\t\t\t\t\tthis.$zoomRange.attr( 'min', value );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'maxScale':\n\t\t\t\t\t\tthis.$zoomRange.attr( 'max', value );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rangeStep':\n\t\t\t\t\t\tthis.$zoomRange.attr( 'step', value );\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'startTransform':\n\t\t\t\t\t\tthis._buildTransform();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'duration':\n\t\t\t\t\tcase 'easing':\n\t\t\t\t\t\tthis._buildTransition();\n\t\t\t\t\t\t/* falls through */\n\t\t\t\t\tcase 'transition':\n\t\t\t\t\t\tthis.transition();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase '$set':\n\t\t\t\t\t\tif ( value instanceof $ && value.length ) {\n\t\t\t\t\t\t\tthis.$set = value;\n\t\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, this));\n\t\t},\n\n\t\t/**\n\t\t * Initialize base styles for the element and its parent\n\t\t */\n\t\t_initStyle: function() {\n\t\t\t// Set elem styles\n\t\t\tif ( !this.options.disablePan ) {\n\t\t\t\tthis.$elem.css( 'cursor', this.options.cursor );\n\t\t\t}\n\n\t\t\t// Set parent to relative if set to static\n\t\t\tvar $parent = this.$parent;\n\t\t\t// No need to add styles to the body\n\t\t\tif ( $parent.length && !$.nodeName($parent[0], 'body') ) {\n\t\t\t\tvar parentStyles = {\n\t\t\t\t\toverflow: 'hidden'\n\t\t\t\t};\n\t\t\t\tif ( $parent.css('position') === 'static' ) {\n\t\t\t\t\tparentStyles.position = 'relative';\n\t\t\t\t}\n\t\t\t\t$parent.css( parentStyles );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Undo any styles attached in this plugin\n\t\t */\n\t\t_resetStyle: function() {\n\t\t\tthis.$elem.css({\n\t\t\t\t'cursor': '',\n\t\t\t\t'transition': ''\n\t\t\t});\n\t\t\tthis.$parent.css({\n\t\t\t\t'overflow': '',\n\t\t\t\t'position': ''\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Binds all necessary events\n\t\t */\n\t\t_bind: function() {\n\t\t\tvar self = this;\n\t\t\tvar options = this.options;\n\t\t\tvar ns = options.eventNamespace;\n\t\t\tvar str_start = pointerEvents ? 'pointerdown' + ns : ('touchstart' + ns + ' mousedown' + ns);\n\t\t\tvar str_click = pointerEvents ? 'pointerup' + ns : ('touchend' + ns + ' click' + ns);\n\t\t\tvar events = {};\n\t\t\tvar $reset = this.$reset;\n\t\t\tvar $zoomRange = this.$zoomRange;\n\n\t\t\t// Bind panzoom events from options\n\t\t\t$.each([ 'Start', 'Change', 'Zoom', 'Pan', 'End', 'Reset' ], function() {\n\t\t\t\tvar m = options[ 'on' + this ];\n\t\t\t\tif ( $.isFunction(m) ) {\n\t\t\t\t\tevents[ 'panzoom' + this.toLowerCase() + ns ] = m;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Bind $elem drag and click/touchdown events\n\t\t\t// Bind touchstart if either panning or zooming is enabled\n\t\t\tif ( !options.disablePan || !options.disableZoom ) {\n\t\t\t\tevents[ str_start ] = function( e ) {\n\t\t\t\t\tvar touches;\n\t\t\t\t\tif ( e.type === 'touchstart' ?\n\t\t\t\t\t\t// Touch\n\t\t\t\t\t\t(touches = e.touches) &&\n\t\t\t\t\t\t\t((touches.length === 1 && !options.disablePan) || touches.length === 2) :\n\t\t\t\t\t\t// Mouse/Pointer: Ignore right click\n\t\t\t\t\t\t!options.disablePan && e.which === 1 ) {\n\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\tself._startMove( e, touches );\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\t\t\tthis.$elem.on( events );\n\n\t\t\t// Bind reset\n\t\t\tif ( $reset.length ) {\n\t\t\t\t$reset.on( str_click, function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.reset();\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Set default attributes for the range input\n\t\t\tif ( $zoomRange.length ) {\n\t\t\t\t$zoomRange.attr({\n\t\t\t\t\t// Only set the range step if explicit or\n\t\t\t\t\t// set the default if there is no attribute present\n\t\t\t\t\tstep: options.rangeStep === Panzoom.defaults.rangeStep &&\n\t\t\t\t\t\t$zoomRange.attr('step') ||\n\t\t\t\t\t\toptions.rangeStep,\n\t\t\t\t\tmin: options.minScale,\n\t\t\t\t\tmax: options.maxScale\n\t\t\t\t}).prop({\n\t\t\t\t\tvalue: this.getMatrix()[0]\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// No bindings if zooming is disabled\n\t\t\tif ( options.disableZoom ) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvar $zoomIn = this.$zoomIn;\n\t\t\tvar $zoomOut = this.$zoomOut;\n\n\t\t\t// Bind zoom in/out\n\t\t\t// Don't bind one without the other\n\t\t\tif ( $zoomIn.length && $zoomOut.length ) {\n\t\t\t\t// preventDefault cancels future mouse events on touch events\n\t\t\t\t$zoomIn.on( str_click, function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.zoom();\n\t\t\t\t});\n\t\t\t\t$zoomOut.on( str_click, function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.zoom( true );\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif ( $zoomRange.length ) {\n\t\t\t\tevents = {};\n\t\t\t\t// Cannot prevent default action here, just use pointerdown/mousedown\n\t\t\t\tevents[ (pointerEvents ? 'pointerdown' : 'mousedown') + ns ] = function() {\n\t\t\t\t\tself.transition( true );\n\t\t\t\t};\n\t\t\t\tevents[ 'change' + ns ] = function() {\n\t\t\t\t\tself.zoom( +this.value, { noSetRange: true } );\n\t\t\t\t};\n\t\t\t\t$zoomRange.on( events );\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Unbind all events\n\t\t */\n\t\t_unbind: function() {\n\t\t\tthis.$elem\n\t\t\t\t.add( this.$zoomIn )\n\t\t\t\t.add( this.$zoomOut )\n\t\t\t\t.add( this.$reset )\n\t\t\t\t.off( this.options.eventNamespace );\n\t\t},\n\n\t\t/**\n\t\t * Builds the original transform value\n\t\t */\n\t\t_buildTransform: function() {\n\t\t\t// Save the original transform\n\t\t\t// Retrieving this also adds the correct prefixed style name\n\t\t\t// to jQuery's internal $.cssProps\n\t\t\treturn this._origTransform = this.getTransform( this.options.startTransform );\n\t\t},\n\n\t\t/**\n\t\t * Set transition property for later use when zooming\n\t\t * If SVG, create necessary animations elements for translations and scaling\n\t\t */\n\t\t_buildTransition: function() {\n\t\t\tvar options = this.options;\n\t\t\tif ( this._transform ) {\n\t\t\t\tthis._transition = this._transform + ' ' + options.duration + 'ms ' + options.easing;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Checks dimensions to make sure they don't need to be re-calculated\n\t\t */\n\t\t_checkDims: function() {\n\t\t\tvar dims = this.dimensions;\n\t\t\t// Rebuild if width or height is still 0\n\t\t\tif ( dims.width === dims.widthBorder || dims.height === dims.heightBorder ) {\n\t\t\t\tthis.resetDimensions();\n\t\t\t}\n\t\t\treturn this.dimensions;\n\t\t},\n\n\t\t/**\n\t\t * Calculates the distance between two touch points\n\t\t * Remember pythagorean?\n\t\t * @param {Array} touches\n\t\t * @returns {Number} Returns the distance\n\t\t */\n\t\t_getDistance: function( touches ) {\n\t\t\tvar touch1 = touches[0];\n\t\t\tvar touch2 = touches[1];\n\t\t\treturn Math.sqrt( Math.pow(Math.abs( touch2.clientX - touch1.clientX ), 2) + Math.pow(Math.abs( touch2.clientY - touch1.clientY ), 2) );\n\t\t},\n\n\t\t/**\n\t\t * Constructs an approximated point in the middle of two touch points\n\t\t * @returns {Object} Returns an object containing pageX and pageY\n\t\t */\n\t\t_getMiddle: function( touches ) {\n\t\t\tvar touch1 = touches[0];\n\t\t\tvar touch2 = touches[1];\n\t\t\treturn {\n\t\t\t\tclientX: ((touch2.clientX - touch1.clientX) / 2) + touch1.clientX,\n\t\t\t\tclientY: ((touch2.clientY - touch1.clientY) / 2) + touch1.clientY\n\t\t\t};\n\t\t},\n\n\t\t/**\n\t\t * Trigger a panzoom event on our element\n\t\t * The event is passed the Panzoom instance\n\t\t * @param {String|jQuery.Event} event\n\t\t * @param {Mixed} arg1[, arg2, arg3, ...] Arguments to append to the trigger\n\t\t */\n\t\t_trigger: function ( event ) {\n\t\t\tif ( typeof event === 'string' ) {\n\t\t\t\tevent = 'panzoom' + event;\n\t\t\t}\n\t\t\tthis.$elem.triggerHandler( event, [this].concat(slice.call( arguments, 1 )) );\n\t\t},\n\n\t\t/**\n\t\t * Starts the pan\n\t\t * This is bound to mouse/touchmove on the element\n\t\t * @param {jQuery.Event} event An event with pageX, pageY, and possibly the touches list\n\t\t * @param {TouchList} [touches] The touches list if present\n\t\t */\n\t\t_startMove: function( event, touches ) {\n\t\t\tvar move, moveEvent, endEvent,\n\t\t\t\tstartDistance, startScale, startMiddle,\n\t\t\t\tstartPageX, startPageY;\n\t\t\tvar self = this;\n\t\t\tvar options = this.options;\n\t\t\tvar ns = options.eventNamespace;\n\t\t\tvar matrix = this.getMatrix();\n\t\t\tvar original = matrix.slice( 0 );\n\t\t\tvar origPageX = +original[4];\n\t\t\tvar origPageY = +original[5];\n\t\t\tvar panOptions = { matrix: matrix, animate: 'skip' };\n\n\t\t\t// Use proper events\n\t\t\tif ( pointerEvents ) {\n\t\t\t\tmoveEvent = 'pointermove';\n\t\t\t\tendEvent = 'pointerup';\n\t\t\t} else if ( event.type === 'touchstart' ) {\n\t\t\t\tmoveEvent = 'touchmove';\n\t\t\t\tendEvent = 'touchend';\n\t\t\t} else {\n\t\t\t\tmoveEvent = 'mousemove';\n\t\t\t\tendEvent = 'mouseup';\n\t\t\t}\n\n\t\t\t// Add namespace\n\t\t\tmoveEvent += ns;\n\t\t\tendEvent += ns;\n\n\t\t\t// Remove any transitions happening\n\t\t\tthis.transition( true );\n\n\t\t\t// Indicate that we are currently panning\n\t\t\tthis.panning = true;\n\n\t\t\t// Trigger start event\n\t\t\tthis._trigger( 'start', event, touches );\n\n\t\t\tif ( touches && touches.length === 2 ) {\n\t\t\t\tstartDistance = this._getDistance( touches );\n\t\t\t\tstartScale = +matrix[0];\n\t\t\t\tstartMiddle = this._getMiddle( touches );\n\t\t\t\tmove = function( e ) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t// Calculate move on middle point\n\t\t\t\t\tvar middle = self._getMiddle( touches = e.touches );\n\t\t\t\t\tvar diff = self._getDistance( touches ) - startDistance;\n\n\t\t\t\t\t// Set zoom\n\t\t\t\t\tself.zoom( diff * (options.increment / 100) + startScale, { focal: middle, matrix: matrix } );\n\n\t\t\t\t\t// Set pan\n\t\t\t\t\tself.pan(\n\t\t\t\t\t\t+matrix[4] + middle.clientX - startMiddle.clientX,\n\t\t\t\t\t\t+matrix[5] + middle.clientY - startMiddle.clientY,\n\t\t\t\t\t\tpanOptions\n\t\t\t\t\t);\n\t\t\t\t\tstartMiddle = middle;\n\t\t\t\t};\n\t\t\t} else {\n\t\t\t\tstartPageX = event.pageX;\n\t\t\t\tstartPageY = event.pageY;\n\n\t\t\t\t/**\n\t\t\t\t * Mousemove/touchmove function to pan the element\n\t\t\t\t * @param {Object} e Event object\n\t\t\t\t */\n\t\t\t\tmove = function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tself.pan(\n\t\t\t\t\t\torigPageX + e.pageX - startPageX,\n\t\t\t\t\t\torigPageY + e.pageY - startPageY,\n\t\t\t\t\t\tpanOptions\n\t\t\t\t\t);\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Bind the handlers\n\t\t\t$(document)\n\t\t\t\t.off( ns )\n\t\t\t\t.on( moveEvent, move )\n\t\t\t\t.on( endEvent, function( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\t// Unbind all document events\n\t\t\t\t\t$(this).off( ns );\n\t\t\t\t\tself.panning = false;\n\t\t\t\t\t// Trigger our end event\n\t\t\t\t\t// Simply set the type to \"panzoomend\" to pass through all end properties\n\t\t\t\t\t// jQuery's `not` is used here to compare Array equality\n\t\t\t\t\te.type = 'panzoomend';\n\t\t\t\t\tself._trigger( e, matrix, !matrixEquals(matrix, original) );\n\t\t\t\t});\n\t\t}\n\t};\n\n\t// Add Panzoom as a static property\n\t$.Panzoom = Panzoom;\n\n\t/**\n\t * Extend jQuery\n\t * @param {Object|String} options - The name of a method to call on the prototype\n\t *  or an object literal of options\n\t * @returns {jQuery|Mixed} jQuery instance for regular chaining or the return value(s) of a panzoom method call\n\t */\n\t$.fn.panzoom = function( options ) {\n\t\tvar instance, args, m, ret;\n\n\t\t// Call methods widget-style\n\t\tif ( typeof options === 'string' ) {\n\t\t\tret = [];\n\t\t\targs = slice.call( arguments, 1 );\n\t\t\tthis.each(function() {\n\t\t\t\tinstance = $.data( this, datakey );\n\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\tret.push( undefined );\n\n\t\t\t\t// Ignore methods beginning with `_`\n\t\t\t\t} else if ( options.charAt(0) !== '_' &&\n\t\t\t\t\ttypeof (m = instance[ options ]) === 'function' &&\n\t\t\t\t\t// If nothing is returned, do not add to return values\n\t\t\t\t\t(m = m.apply( instance, args )) !== undefined ) {\n\n\t\t\t\t\tret.push( m );\n\t\t\t\t}\n\t\t\t});\n\n\t\t\t// Return an array of values for the jQuery instances\n\t\t\t// Or the value itself if there is only one\n\t\t\t// Or keep chaining\n\t\t\treturn ret.length ?\n\t\t\t\t(ret.length === 1 ? ret[0] : ret) :\n\t\t\t\tthis;\n\t\t}\n\n\t\treturn this.each(function() { new Panzoom( this, options ); });\n\t};\n\n\treturn Panzoom;\n}));\n\n","// Knockout JavaScript library v3.0.0\r\n// (c) Steven Sanderson - http://knockoutjs.com/\r\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\r\n\r\n(function() {(function(q){var y=this||(0,eval)(\"this\"),w=y.document,K=y.navigator,u=y.jQuery,B=y.JSON;(function(q){\"function\"===typeof require&&\"object\"===typeof exports&&\"object\"===typeof module?q(module.exports||exports):\"function\"===typeof define&&define.amd?define('knockout',[\"exports\"],q):q(y.ko={})})(function(F){function G(a,c){return null===a||typeof a in N?a===c:!1}function H(b,c,d,e){a.d[b]={init:function(b){a.a.f.set(b,L,{});return{controlsDescendantBindings:!0}},update:function(b,h,k,m,f){k=a.a.f.get(b,L);h=a.a.c(h());\r\nm=!d!==!h;var p=!k.ob;if(p||c||m!==k.Db)p&&(k.ob=a.a.Ya(a.e.childNodes(b),!0)),m?(p||a.e.S(b,a.a.Ya(k.ob)),a.Ta(e?e(f,h):f,b)):a.e.Z(b),k.Db=m}};a.g.Y[b]=!1;a.e.P[b]=!0}var a=\"undefined\"!==typeof F?F:{};a.b=function(b,c){for(var d=b.split(\".\"),e=a,g=0;g<d.length-1;g++)e=e[d[g]];e[d[d.length-1]]=c};a.s=function(a,c,d){a[c]=d};a.version=\"3.0.0\";a.b(\"version\",a.version);a.a=function(){function b(a,b){for(var f in a)a.hasOwnProperty(f)&&b(f,a[f])}function c(k,b){if(\"input\"!==a.a.v(k)||!k.type||\"click\"!=\r\nb.toLowerCase())return!1;var f=k.type;return\"checkbox\"==f||\"radio\"==f}var d={},e={};d[K&&/Firefox\\/2/i.test(K.userAgent)?\"KeyboardEvent\":\"UIEvents\"]=[\"keyup\",\"keydown\",\"keypress\"];d.MouseEvents=\"click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\".split(\" \");b(d,function(a,b){if(b.length)for(var f=0,c=b.length;f<c;f++)e[b[f]]=a});var g={propertychange:!0},h=w&&function(){for(var a=3,b=w.createElement(\"div\"),f=b.getElementsByTagName(\"i\");b.innerHTML=\"\\x3c!--[if gt IE \"+\r\n++a+\"]><i></i><![endif]--\\x3e\",f[0];);return 4<a?a:q}();return{$a:[\"authenticity_token\",/^__RequestVerificationToken(_.*)?$/],n:function(a,b){for(var f=0,c=a.length;f<c;f++)b(a[f])},l:function(a,b){if(\"function\"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var f=0,c=a.length;f<c;f++)if(a[f]===b)return f;return-1},Ua:function(a,b,f){for(var c=0,d=a.length;c<d;c++)if(b.call(f,a[c]))return a[c];return null},ia:function(b,c){var f=a.a.l(b,c);0<=f&&b.splice(f,1)},Va:function(b){b=\r\nb||[];for(var c=[],f=0,d=b.length;f<d;f++)0>a.a.l(c,b[f])&&c.push(b[f]);return c},ha:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)f.push(b(a[c]));return f},ga:function(a,b){a=a||[];for(var f=[],c=0,d=a.length;c<d;c++)b(a[c])&&f.push(a[c]);return f},X:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var f=0,c=b.length;f<c;f++)a.push(b[f]);return a},V:function(b,c,f){var d=a.a.l(a.a.Ha(b),c);0>d?f&&b.push(c):f||b.splice(d,1)},extend:function(a,b){if(b)for(var f in b)b.hasOwnProperty(f)&&\r\n(a[f]=b[f]);return a},K:b,Da:function(a,b){if(!a)return a;var f={},c;for(c in a)a.hasOwnProperty(c)&&(f[c]=b(a[c],c,a));return f},wa:function(b){for(;b.firstChild;)a.removeNode(b.firstChild)},Vb:function(b){b=a.a.Q(b);for(var c=w.createElement(\"div\"),f=0,d=b.length;f<d;f++)c.appendChild(a.L(b[f]));return c},Ya:function(b,c){for(var f=0,d=b.length,e=[];f<d;f++){var g=b[f].cloneNode(!0);e.push(c?a.L(g):g)}return e},S:function(b,c){a.a.wa(b);if(c)for(var f=0,d=c.length;f<d;f++)b.appendChild(c[f])},nb:function(b,\r\nc){var f=b.nodeType?[b]:b;if(0<f.length){for(var d=f[0],e=d.parentNode,g=0,n=c.length;g<n;g++)e.insertBefore(c[g],d);g=0;for(n=f.length;g<n;g++)a.removeNode(f[g])}},$:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var f=a[0],c=a[a.length-1];for(a.length=0;f!==c;)if(a.push(f),f=f.nextSibling,!f)return;a.push(c)}}return a},qb:function(a,b){7>h?a.setAttribute(\"selected\",b):a.selected=b},la:function(a){return null===a||a===\r\nq?\"\":a.trim?a.trim():a.toString().replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")},ec:function(b,c){for(var f=[],d=(b||\"\").split(c),e=0,g=d.length;e<g;e++){var n=a.a.la(d[e]);\"\"!==n&&f.push(n)}return f},ac:function(a,b){a=a||\"\";return b.length>a.length?!1:a.substring(0,b.length)===b},Gb:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(b.compareDocumentPosition(a)&16);for(;a&&a!=b;)a=a.parentNode;\r\nreturn!!a},va:function(b){return a.a.Gb(b,b.ownerDocument.documentElement)},Ra:function(b){return!!a.a.Ua(b,a.a.va)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},r:function(b,d,f){var e=h&&g[d];if(e||\"undefined\"==typeof u)if(e||\"function\"!=typeof b.addEventListener)if(\"undefined\"!=typeof b.attachEvent){var s=function(a){f.call(b,a)},l=\"on\"+d;b.attachEvent(l,s);a.a.C.ea(b,function(){b.detachEvent(l,s)})}else throw Error(\"Browser doesn't support addEventListener or attachEvent\");else b.addEventListener(d,\r\nf,!1);else{if(c(b,d)){var n=f;f=function(a,b){var f=this.checked;b&&(this.checked=!0!==b.Ab);n.call(this,a);this.checked=f}}u(b).bind(d,f)}},da:function(a,b){if(!a||!a.nodeType)throw Error(\"element must be a DOM node when calling triggerEvent\");if(\"undefined\"!=typeof u){var f=[];c(a,b)&&f.push({Ab:a.checked});u(a).trigger(b,f)}else if(\"function\"==typeof w.createEvent)if(\"function\"==typeof a.dispatchEvent)f=w.createEvent(e[b]||\"HTMLEvents\"),f.initEvent(b,!0,!0,y,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f);\r\nelse throw Error(\"The supplied element doesn't support dispatchEvent\");else if(\"undefined\"!=typeof a.fireEvent)c(a,b)&&(a.checked=!0!==a.checked),a.fireEvent(\"on\"+b);else throw Error(\"Browser doesn't support triggering events\");},c:function(b){return a.M(b)?b():b},Ha:function(b){return a.M(b)?b.t():b},ma:function(b,c,f){if(c){var d=/\\S+/g,e=b.className.match(d)||[];a.a.n(c.match(d),function(b){a.a.V(e,b,f)});b.className=e.join(\" \")}},Ma:function(b,c){var f=a.a.c(c);if(null===f||f===q)f=\"\";var d=a.e.firstChild(b);\r\n!d||3!=d.nodeType||a.e.nextSibling(d)?a.e.S(b,[w.createTextNode(f)]):d.data=f;a.a.Jb(b)},pb:function(a,b){a.name=b;if(7>=h)try{a.mergeAttributes(w.createElement(\"<input name='\"+a.name+\"'/>\"),!1)}catch(f){}},Jb:function(a){9<=h&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},Hb:function(a){if(h){var b=a.style.width;a.style.width=0;a.style.width=b}},Zb:function(b,c){b=a.a.c(b);c=a.a.c(c);for(var f=[],d=b;d<=c;d++)f.push(d);return f},Q:function(a){for(var b=[],c=0,d=a.length;c<\r\nd;c++)b.push(a[c]);return b},cc:6===h,dc:7===h,ja:h,ab:function(b,c){for(var f=a.a.Q(b.getElementsByTagName(\"input\")).concat(a.a.Q(b.getElementsByTagName(\"textarea\"))),d=\"string\"==typeof c?function(a){return a.name===c}:function(a){return c.test(a.name)},e=[],g=f.length-1;0<=g;g--)d(f[g])&&e.push(f[g]);return e},Wb:function(b){return\"string\"==typeof b&&(b=a.a.la(b))?B&&B.parse?B.parse(b):(new Function(\"return \"+b))():null},Na:function(b,c,f){if(!B||!B.stringify)throw Error(\"Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js\");\r\nreturn B.stringify(a.a.c(b),c,f)},Xb:function(c,d,f){f=f||{};var e=f.params||{},g=f.includeFields||this.$a,h=c;if(\"object\"==typeof c&&\"form\"===a.a.v(c))for(var h=c.action,n=g.length-1;0<=n;n--)for(var r=a.a.ab(c,g[n]),v=r.length-1;0<=v;v--)e[r[v].name]=r[v].value;d=a.a.c(d);var t=w.createElement(\"form\");t.style.display=\"none\";t.action=h;t.method=\"post\";for(var E in d)c=w.createElement(\"input\"),c.name=E,c.value=a.a.Na(a.a.c(d[E])),t.appendChild(c);b(e,function(a,b){var c=w.createElement(\"input\");c.name=\r\na;c.value=b;t.appendChild(c)});w.body.appendChild(t);f.submitter?f.submitter(t):t.submit();setTimeout(function(){t.parentNode.removeChild(t)},0)}}}();a.b(\"utils\",a.a);a.b(\"utils.arrayForEach\",a.a.n);a.b(\"utils.arrayFirst\",a.a.Ua);a.b(\"utils.arrayFilter\",a.a.ga);a.b(\"utils.arrayGetDistinctValues\",a.a.Va);a.b(\"utils.arrayIndexOf\",a.a.l);a.b(\"utils.arrayMap\",a.a.ha);a.b(\"utils.arrayPushAll\",a.a.X);a.b(\"utils.arrayRemoveItem\",a.a.ia);a.b(\"utils.extend\",a.a.extend);a.b(\"utils.fieldsIncludedWithJsonPost\",\r\na.a.$a);a.b(\"utils.getFormFields\",a.a.ab);a.b(\"utils.peekObservable\",a.a.Ha);a.b(\"utils.postJson\",a.a.Xb);a.b(\"utils.parseJson\",a.a.Wb);a.b(\"utils.registerEventHandler\",a.a.r);a.b(\"utils.stringifyJson\",a.a.Na);a.b(\"utils.range\",a.a.Zb);a.b(\"utils.toggleDomNodeCssClass\",a.a.ma);a.b(\"utils.triggerEvent\",a.a.da);a.b(\"utils.unwrapObservable\",a.a.c);a.b(\"utils.objectForEach\",a.a.K);a.b(\"utils.addOrRemoveItem\",a.a.V);a.b(\"unwrap\",a.a.c);Function.prototype.bind||(Function.prototype.bind=function(a){var c=\r\nthis,d=Array.prototype.slice.call(arguments);a=d.shift();return function(){return c.apply(a,d.concat(Array.prototype.slice.call(arguments)))}});a.a.f=new function(){function a(b,h){var k=b[d];if(!k||\"null\"===k||!e[k]){if(!h)return q;k=b[d]=\"ko\"+c++;e[k]={}}return e[k]}var c=0,d=\"__ko__\"+(new Date).getTime(),e={};return{get:function(c,d){var e=a(c,!1);return e===q?q:e[d]},set:function(c,d,e){if(e!==q||a(c,!1)!==q)a(c,!0)[d]=e},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},D:function(){return c++ +\r\nd}}};a.b(\"utils.domData\",a.a.f);a.b(\"utils.domData.clear\",a.a.f.clear);a.a.C=new function(){function b(b,c){var e=a.a.f.get(b,d);e===q&&c&&(e=[],a.a.f.set(b,d,e));return e}function c(d){var e=b(d,!1);if(e)for(var e=e.slice(0),m=0;m<e.length;m++)e[m](d);a.a.f.clear(d);\"function\"==typeof u&&\"function\"==typeof u.cleanData&&u.cleanData([d]);if(g[d.nodeType])for(e=d.firstChild;d=e;)e=d.nextSibling,8===d.nodeType&&c(d)}var d=a.a.f.D(),e={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{ea:function(a,c){if(\"function\"!=\r\ntypeof c)throw Error(\"Callback must be a function\");b(a,!0).push(c)},mb:function(c,e){var g=b(c,!1);g&&(a.a.ia(g,e),0==g.length&&a.a.f.set(c,d,q))},L:function(b){if(e[b.nodeType]&&(c(b),g[b.nodeType])){var d=[];a.a.X(d,b.getElementsByTagName(\"*\"));for(var m=0,f=d.length;m<f;m++)c(d[m])}return b},removeNode:function(b){a.L(b);b.parentNode&&b.parentNode.removeChild(b)}}};a.L=a.a.C.L;a.removeNode=a.a.C.removeNode;a.b(\"cleanNode\",a.L);a.b(\"removeNode\",a.removeNode);a.b(\"utils.domNodeDisposal\",a.a.C);\r\na.b(\"utils.domNodeDisposal.addDisposeCallback\",a.a.C.ea);a.b(\"utils.domNodeDisposal.removeDisposeCallback\",a.a.C.mb);(function(){a.a.Fa=function(b){var c;if(\"undefined\"!=typeof u)if(u.parseHTML)c=u.parseHTML(b)||[];else{if((c=u.clean([b]))&&c[0]){for(b=c[0];b.parentNode&&11!==b.parentNode.nodeType;)b=b.parentNode;b.parentNode&&b.parentNode.removeChild(b)}}else{var d=a.a.la(b).toLowerCase();c=w.createElement(\"div\");d=d.match(/^<(thead|tbody|tfoot)/)&&[1,\"<table>\",\"</table>\"]||!d.indexOf(\"<tr\")&&[2,\r\n\"<table><tbody>\",\"</tbody></table>\"]||(!d.indexOf(\"<td\")||!d.indexOf(\"<th\"))&&[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"]||[0,\"\",\"\"];b=\"ignored<div>\"+d[1]+b+d[2]+\"</div>\";for(\"function\"==typeof y.innerShiv?c.appendChild(y.innerShiv(b)):c.innerHTML=b;d[0]--;)c=c.lastChild;c=a.a.Q(c.lastChild.childNodes)}return c};a.a.Ka=function(b,c){a.a.wa(b);c=a.a.c(c);if(null!==c&&c!==q)if(\"string\"!=typeof c&&(c=c.toString()),\"undefined\"!=typeof u)u(b).html(c);else for(var d=a.a.Fa(c),e=0;e<d.length;e++)b.appendChild(d[e])}})();\r\na.b(\"utils.parseHtmlFragment\",a.a.Fa);a.b(\"utils.setHtml\",a.a.Ka);a.u=function(){function b(c,e){if(c)if(8==c.nodeType){var g=a.u.jb(c.nodeValue);null!=g&&e.push({Fb:c,Tb:g})}else if(1==c.nodeType)for(var g=0,h=c.childNodes,k=h.length;g<k;g++)b(h[g],e)}var c={};return{Ca:function(a){if(\"function\"!=typeof a)throw Error(\"You can only pass a function to ko.memoization.memoize()\");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);\r\nc[b]=a;return\"\\x3c!--[ko_memo:\"+b+\"]--\\x3e\"},ub:function(a,b){var g=c[a];if(g===q)throw Error(\"Couldn't find any memo with ID \"+a+\". Perhaps it's already been unmemoized.\");try{return g.apply(null,b||[]),!0}finally{delete c[a]}},vb:function(c,e){var g=[];b(c,g);for(var h=0,k=g.length;h<k;h++){var m=g[h].Fb,f=[m];e&&a.a.X(f,e);a.u.ub(g[h].Tb,f);m.nodeValue=\"\";m.parentNode&&m.parentNode.removeChild(m)}},jb:function(a){return(a=a.match(/^\\[ko_memo\\:(.*?)\\]$/))?a[1]:null}}}();a.b(\"memoization\",a.u);a.b(\"memoization.memoize\",\r\na.u.Ca);a.b(\"memoization.unmemoize\",a.u.ub);a.b(\"memoization.parseMemoText\",a.u.jb);a.b(\"memoization.unmemoizeDomNodeAndDescendants\",a.u.vb);a.xa={throttle:function(b,c){b.throttleEvaluation=c;var d=null;return a.h({read:b,write:function(a){clearTimeout(d);d=setTimeout(function(){b(a)},c)}})},notify:function(a,c){a.equalityComparer=\"always\"==c?null:G}};var N={undefined:1,\"boolean\":1,number:1,string:1};a.b(\"extenders\",a.xa);a.sb=function(b,c,d){this.target=b;this.qa=c;this.Eb=d;a.s(this,\"dispose\",\r\nthis.B)};a.sb.prototype.B=function(){this.Qb=!0;this.Eb()};a.ca=function(){this.F={};a.a.extend(this,a.ca.fn);a.s(this,\"subscribe\",this.T);a.s(this,\"extend\",this.extend);a.s(this,\"getSubscriptionsCount\",this.Lb)};var I=\"change\";a.ca.fn={T:function(b,c,d){d=d||I;var e=new a.sb(this,c?b.bind(c):b,function(){a.a.ia(this.F[d],e)}.bind(this));this.F[d]||(this.F[d]=[]);this.F[d].push(e);return e},notifySubscribers:function(b,c){c=c||I;if(this.cb(c))try{a.i.Wa();for(var d=this.F[c].slice(0),e=0,g;g=d[e];++e)g&&\r\n!0!==g.Qb&&g.qa(b)}finally{a.i.end()}},cb:function(a){return this.F[a]&&this.F[a].length},Lb:function(){var b=0;a.a.K(this.F,function(a,d){b+=d.length});return b},extend:function(b){var c=this;b&&a.a.K(b,function(b,e){var g=a.xa[b];\"function\"==typeof g&&(c=g(c,e)||c)});return c}};a.fb=function(a){return null!=a&&\"function\"==typeof a.T&&\"function\"==typeof a.notifySubscribers};a.b(\"subscribable\",a.ca);a.b(\"isSubscribable\",a.fb);a.i=function(){var b=[];return{Wa:function(a){b.push(a&&{qa:a,Za:[]})},\r\nend:function(){b.pop()},lb:function(c){if(!a.fb(c))throw Error(\"Only subscribable things can act as dependencies\");if(0<b.length){var d=b[b.length-1];!d||0<=a.a.l(d.Za,c)||(d.Za.push(c),d.qa(c))}},p:function(a,d,e){try{return b.push(null),a.apply(d,e||[])}finally{b.pop()}}}}();a.q=function(b){function c(){if(0<arguments.length)return c.equalityComparer&&c.equalityComparer(d,arguments[0])||(c.O(),d=arguments[0],c.N()),this;a.i.lb(c);return d}var d=b;a.ca.call(c);c.t=function(){return d};c.N=function(){c.notifySubscribers(d)};\r\nc.O=function(){c.notifySubscribers(d,\"beforeChange\")};a.a.extend(c,a.q.fn);a.s(c,\"peek\",c.t);a.s(c,\"valueHasMutated\",c.N);a.s(c,\"valueWillMutate\",c.O);return c};a.q.fn={equalityComparer:G};var C=a.q.Yb=\"__ko_proto__\";a.q.fn[C]=a.q;a.ya=function(b,c){return null===b||b===q||b[C]===q?!1:b[C]===c?!0:a.ya(b[C],c)};a.M=function(b){return a.ya(b,a.q)};a.gb=function(b){return\"function\"==typeof b&&b[C]===a.q||\"function\"==typeof b&&b[C]===a.h&&b.Nb?!0:!1};a.b(\"observable\",a.q);a.b(\"isObservable\",a.M);a.b(\"isWriteableObservable\",\r\na.gb);a.ba=function(b){b=b||[];if(\"object\"!=typeof b||!(\"length\"in b))throw Error(\"The argument passed when initializing an observable array must be an array, or null, or undefined.\");b=a.q(b);a.a.extend(b,a.ba.fn);return b.extend({trackArrayChanges:!0})};a.ba.fn={remove:function(b){for(var c=this.t(),d=[],e=\"function\"!=typeof b||a.M(b)?function(a){return a===b}:b,g=0;g<c.length;g++){var h=c[g];e(h)&&(0===d.length&&this.O(),d.push(h),c.splice(g,1),g--)}d.length&&this.N();return d},removeAll:function(b){if(b===\r\nq){var c=this.t(),d=c.slice(0);this.O();c.splice(0,c.length);this.N();return d}return b?this.remove(function(c){return 0<=a.a.l(b,c)}):[]},destroy:function(b){var c=this.t(),d=\"function\"!=typeof b||a.M(b)?function(a){return a===b}:b;this.O();for(var e=c.length-1;0<=e;e--)d(c[e])&&(c[e]._destroy=!0);this.N()},destroyAll:function(b){return b===q?this.destroy(function(){return!0}):b?this.destroy(function(c){return 0<=a.a.l(b,c)}):[]},indexOf:function(b){var c=this();return a.a.l(c,b)},replace:function(a,\r\nc){var d=this.indexOf(a);0<=d&&(this.O(),this.t()[d]=c,this.N())}};a.a.n(\"pop push reverse shift sort splice unshift\".split(\" \"),function(b){a.ba.fn[b]=function(){var a=this.t();this.O();this.Xa(a,b,arguments);a=a[b].apply(a,arguments);this.N();return a}});a.a.n([\"slice\"],function(b){a.ba.fn[b]=function(){var a=this();return a[b].apply(a,arguments)}});a.b(\"observableArray\",a.ba);var J=\"arrayChange\";a.xa.trackArrayChanges=function(b){function c(){if(!d){d=!0;var c=b.notifySubscribers;b.notifySubscribers=\r\nfunction(a,b){b&&b!==I||++g;return c.apply(this,arguments)};var m=[].concat(b.t()||[]);e=null;b.T(function(c){c=[].concat(c||[]);if(b.cb(J)){var d;if(!e||1<g)e=a.a.ra(m,c,{sparse:!0});d=e;d.length&&b.notifySubscribers(d,J)}m=c;e=null;g=0})}}if(!b.Xa){var d=!1,e=null,g=0,h=b.T;b.T=b.subscribe=function(a,b,f){f===J&&c();return h.apply(this,arguments)};b.Xa=function(a,b,c){function p(a,b,c){h.push({status:a,value:b,index:c})}if(d&&!g){var h=[],l=a.length,n=c.length,r=0;switch(b){case \"push\":r=l;case \"unshift\":for(b=\r\n0;b<n;b++)p(\"added\",c[b],r+b);break;case \"pop\":r=l-1;case \"shift\":l&&p(\"deleted\",a[r],r);break;case \"splice\":b=Math.min(Math.max(0,0>c[0]?l+c[0]:c[0]),l);for(var l=1===n?l:Math.min(b+(c[1]||0),l),n=b+n-2,r=Math.max(l,n),v=2;b<r;++b,++v)b<l&&p(\"deleted\",a[b],b),b<n&&p(\"added\",c[v],b);break;default:return}e=h}}}};a.h=function(b,c,d){function e(){a.a.n(z,function(a){a.B()});z=[]}function g(){var a=k.throttleEvaluation;a&&0<=a?(clearTimeout(x),x=setTimeout(h,a)):h()}function h(){if(!s){if(E&&E()){if(!l){D();\r\np=!0;return}}else l=!1;s=!0;try{var b=a.a.ha(z,function(a){return a.target});a.i.Wa(function(c){var d;0<=(d=a.a.l(b,c))?b[d]=q:z.push(c.T(g))});for(var d=c?n.call(c):n(),e=b.length-1;0<=e;e--)b[e]&&z.splice(e,1)[0].B();p=!0;k.equalityComparer&&k.equalityComparer(f,d)||(k.notifySubscribers(f,\"beforeChange\"),f=d,k.notifySubscribers(f))}finally{a.i.end(),s=!1}z.length||D()}}function k(){if(0<arguments.length){if(\"function\"===typeof r)r.apply(c,arguments);else throw Error(\"Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.\");\r\nreturn this}p||h();a.i.lb(k);return f}function m(){return!p||0<z.length}var f,p=!1,s=!1,l=!1,n=b;n&&\"object\"==typeof n?(d=n,n=d.read):(d=d||{},n||(n=d.read));if(\"function\"!=typeof n)throw Error(\"Pass a function that returns the value of the ko.computed\");var r=d.write,v=d.disposeWhenNodeIsRemoved||d.I||null,t=d.disposeWhen||d.ua,E=t,D=e,z=[],x=null;c||(c=d.owner);k.t=function(){p||h();return f};k.Kb=function(){return z.length};k.Nb=\"function\"===typeof d.write;k.B=function(){D()};k.aa=m;a.ca.call(k);\r\na.a.extend(k,a.h.fn);a.s(k,\"peek\",k.t);a.s(k,\"dispose\",k.B);a.s(k,\"isActive\",k.aa);a.s(k,\"getDependenciesCount\",k.Kb);v&&(l=!0,v.nodeType&&(E=function(){return!a.a.va(v)||t&&t()}));!0!==d.deferEvaluation&&h();v&&m()&&(D=function(){a.a.C.mb(v,D);e()},a.a.C.ea(v,D));return k};a.Pb=function(b){return a.ya(b,a.h)};F=a.q.Yb;a.h[F]=a.q;a.h.fn={equalityComparer:G};a.h.fn[F]=a.h;a.b(\"dependentObservable\",a.h);a.b(\"computed\",a.h);a.b(\"isComputed\",a.Pb);(function(){function b(a,g,h){h=h||new d;a=g(a);if(\"object\"!=\r\ntypeof a||null===a||a===q||a instanceof Date||a instanceof String||a instanceof Number||a instanceof Boolean)return a;var k=a instanceof Array?[]:{};h.save(a,k);c(a,function(c){var d=g(a[c]);switch(typeof d){case \"boolean\":case \"number\":case \"string\":case \"function\":k[c]=d;break;case \"object\":case \"undefined\":var p=h.get(d);k[c]=p!==q?p:b(d,g,h)}});return k}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);\"function\"==typeof a.toJSON&&b(\"toJSON\")}else for(c in a)b(c)}function d(){this.keys=\r\n[];this.Qa=[]}a.tb=function(c){if(0==arguments.length)throw Error(\"When calling ko.toJS, pass the object you want to convert.\");return b(c,function(b){for(var c=0;a.M(b)&&10>c;c++)b=b();return b})};a.toJSON=function(b,c,d){b=a.tb(b);return a.a.Na(b,c,d)};d.prototype={save:function(b,c){var d=a.a.l(this.keys,b);0<=d?this.Qa[d]=c:(this.keys.push(b),this.Qa.push(c))},get:function(b){b=a.a.l(this.keys,b);return 0<=b?this.Qa[b]:q}}})();a.b(\"toJS\",a.tb);a.b(\"toJSON\",a.toJSON);(function(){a.k={o:function(b){switch(a.a.v(b)){case \"option\":return!0===\r\nb.__ko__hasDomDataOptionValue__?a.a.f.get(b,a.d.options.Ea):7>=a.a.ja?b.getAttributeNode(\"value\")&&b.getAttributeNode(\"value\").specified?b.value:b.text:b.value;case \"select\":return 0<=b.selectedIndex?a.k.o(b.options[b.selectedIndex]):q;default:return b.value}},na:function(b,c){switch(a.a.v(b)){case \"option\":switch(typeof c){case \"string\":a.a.f.set(b,a.d.options.Ea,q);\"__ko__hasDomDataOptionValue__\"in b&&delete b.__ko__hasDomDataOptionValue__;b.value=c;break;default:a.a.f.set(b,a.d.options.Ea,c),b.__ko__hasDomDataOptionValue__=\r\n!0,b.value=\"number\"===typeof c?c:\"\"}break;case \"select\":\"\"===c&&(c=q);if(null===c||c===q)b.selectedIndex=-1;for(var d=b.options.length-1;0<=d;d--)if(a.k.o(b.options[d])==c){b.selectedIndex=d;break}1<b.size||-1!==b.selectedIndex||(b.selectedIndex=0);break;default:if(null===c||c===q)c=\"\";b.value=c}}}})();a.b(\"selectExtensions\",a.k);a.b(\"selectExtensions.readValue\",a.k.o);a.b(\"selectExtensions.writeValue\",a.k.na);a.g=function(){function b(b){b=a.a.la(b);123===b.charCodeAt(0)&&(b=b.slice(1,-1));var c=\r\n[],d=b.match(e),k,l,n=0;if(d){d.push(\",\");for(var r=0,v;v=d[r];++r){var t=v.charCodeAt(0);if(44===t){if(0>=n){k&&c.push(l?{key:k,value:l.join(\"\")}:{unknown:k});k=l=n=0;continue}}else if(58===t){if(!l)continue}else if(47===t&&r&&1<v.length)(t=d[r-1].match(g))&&!h[t[0]]&&(b=b.substr(b.indexOf(v)+1),d=b.match(e),d.push(\",\"),r=-1,v=\"/\");else if(40===t||123===t||91===t)++n;else if(41===t||125===t||93===t)--n;else if(!k&&!l){k=34===t||39===t?v.slice(1,-1):v;continue}l?l.push(v):l=[v]}}return c}var c=[\"true\",\r\n\"false\",\"null\",\"undefined\"],d=/^(?:[$_a-z][$\\w]*|(.+)(\\.\\s*[$_a-z][$\\w]*|\\[.+\\]))$/i,e=RegExp(\"\\\"(?:[^\\\"\\\\\\\\]|\\\\\\\\.)*\\\"|'(?:[^'\\\\\\\\]|\\\\\\\\.)*'|/(?:[^/\\\\\\\\]|\\\\\\\\.)*/w*|[^\\\\s:,/][^,\\\"'{}()/:[\\\\]]*[^\\\\s,\\\"'{}()/:[\\\\]]|[^\\\\s]\",\"g\"),g=/[\\])\"'A-Za-z0-9_$]+$/,h={\"in\":1,\"return\":1,\"typeof\":1},k={};return{Y:[],U:k,Ga:b,ka:function(e,f){function g(b,f){var e,r=a.getBindingHandler(b);if(r&&r.preprocess?f=r.preprocess(f,b,g):1){if(r=k[b])e=f,0<=a.a.l(c,e)?e=!1:(r=e.match(d),e=null===r?!1:r[1]?\"Object(\"+r[1]+\")\"+\r\nr[2]:e),r=e;r&&l.push(\"'\"+b+\"':function(_z){\"+e+\"=_z}\");n&&(f=\"function(){return \"+f+\" }\");h.push(\"'\"+b+\"':\"+f)}}f=f||{};var h=[],l=[],n=f.valueAccessors,r=\"string\"===typeof e?b(e):e;a.a.n(r,function(a){g(a.key||a.unknown,a.value)});l.length&&g(\"_ko_property_writers\",\"{\"+l.join(\",\")+\"}\");return h.join(\",\")},Sb:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},oa:function(b,c,d,e,k){if(b&&a.M(b))!a.gb(b)||k&&b.t()===e||b(e);else if((b=c.get(\"_ko_property_writers\"))&&b[d])b[d](e)}}}();\r\na.b(\"expressionRewriting\",a.g);a.b(\"expressionRewriting.bindingRewriteValidators\",a.g.Y);a.b(\"expressionRewriting.parseObjectLiteral\",a.g.Ga);a.b(\"expressionRewriting.preProcessBindings\",a.g.ka);a.b(\"expressionRewriting._twoWayBindings\",a.g.U);a.b(\"jsonExpressionRewriting\",a.g);a.b(\"jsonExpressionRewriting.insertPropertyAccessorsIntoJson\",a.g.ka);(function(){function b(a){return 8==a.nodeType&&h.test(g?a.text:a.nodeValue)}function c(a){return 8==a.nodeType&&k.test(g?a.text:a.nodeValue)}function d(a,\r\nd){for(var e=a,k=1,n=[];e=e.nextSibling;){if(c(e)&&(k--,0===k))return n;n.push(e);b(e)&&k++}if(!d)throw Error(\"Cannot find closing comment tag to match: \"+a.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var g=w&&\"\\x3c!--test--\\x3e\"===w.createComment(\"test\").text,h=g?/^\\x3c!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*--\\x3e$/:/^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/,k=g?/^\\x3c!--\\s*\\/ko\\s*--\\x3e$/:/^\\s*\\/ko\\s*$/,m={ul:!0,ol:!0};a.e={P:{},childNodes:function(a){return b(a)?\r\nd(a):a.childNodes},Z:function(c){if(b(c)){c=a.e.childNodes(c);for(var d=0,e=c.length;d<e;d++)a.removeNode(c[d])}else a.a.wa(c)},S:function(c,d){if(b(c)){a.e.Z(c);for(var e=c.nextSibling,k=0,n=d.length;k<n;k++)e.parentNode.insertBefore(d[k],e)}else a.a.S(c,d)},kb:function(a,c){b(a)?a.parentNode.insertBefore(c,a.nextSibling):a.firstChild?a.insertBefore(c,a.firstChild):a.appendChild(c)},eb:function(c,d,e){e?b(c)?c.parentNode.insertBefore(d,e.nextSibling):e.nextSibling?c.insertBefore(d,e.nextSibling):\r\nc.appendChild(d):a.e.kb(c,d)},firstChild:function(a){return b(a)?!a.nextSibling||c(a.nextSibling)?null:a.nextSibling:a.firstChild},nextSibling:function(a){b(a)&&(a=e(a));return a.nextSibling&&c(a.nextSibling)?null:a.nextSibling},Mb:b,bc:function(a){return(a=(g?a.text:a.nodeValue).match(h))?a[1]:null},ib:function(d){if(m[a.a.v(d)]){var k=d.firstChild;if(k){do if(1===k.nodeType){var g;g=k.firstChild;var h=null;if(g){do if(h)h.push(g);else if(b(g)){var n=e(g,!0);n?g=n:h=[g]}else c(g)&&(h=[g]);while(g=\r\ng.nextSibling)}if(g=h)for(h=k.nextSibling,n=0;n<g.length;n++)h?d.insertBefore(g[n],h):d.appendChild(g[n])}while(k=k.nextSibling)}}}}})();a.b(\"virtualElements\",a.e);a.b(\"virtualElements.allowedBindings\",a.e.P);a.b(\"virtualElements.emptyNode\",a.e.Z);a.b(\"virtualElements.insertAfter\",a.e.eb);a.b(\"virtualElements.prepend\",a.e.kb);a.b(\"virtualElements.setDomNodeChildren\",a.e.S);(function(){a.H=function(){this.zb={}};a.a.extend(a.H.prototype,{nodeHasBindings:function(b){switch(b.nodeType){case 1:return null!=\r\nb.getAttribute(\"data-bind\");case 8:return a.e.Mb(b);default:return!1}},getBindings:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a):null},getBindingAccessors:function(a,c){var d=this.getBindingsString(a,c);return d?this.parseBindingsString(d,c,a,{valueAccessors:!0}):null},getBindingsString:function(b){switch(b.nodeType){case 1:return b.getAttribute(\"data-bind\");case 8:return a.e.bc(b);default:return null}},parseBindingsString:function(b,c,d,e){try{var g=this.zb,\r\nh=b+(e&&e.valueAccessors||\"\"),k;if(!(k=g[h])){var m,f=\"with($context){with($data||{}){return{\"+a.g.ka(b,e)+\"}}}\";m=new Function(\"$context\",\"$element\",f);k=g[h]=m}return k(c,d)}catch(p){throw p.message=\"Unable to parse bindings.\\nBindings value: \"+b+\"\\nMessage: \"+p.message,p;}}});a.H.instance=new a.H})();a.b(\"bindingProvider\",a.H);(function(){function b(a){return function(){return a}}function c(a){return a()}function d(b){return a.a.Da(a.i.p(b),function(a,c){return function(){return b()[c]}})}function e(a,\r\nb){return d(this.getBindings.bind(this,a,b))}function g(b,c,d){var f,e=a.e.firstChild(c),k=a.H.instance,g=k.preprocessNode;if(g){for(;f=e;)e=a.e.nextSibling(f),g.call(k,f);e=a.e.firstChild(c)}for(;f=e;)e=a.e.nextSibling(f),h(b,f,d)}function h(b,c,d){var f=!0,e=1===c.nodeType;e&&a.e.ib(c);if(e&&d||a.H.instance.nodeHasBindings(c))f=m(c,null,b,d).shouldBindDescendants;f&&!p[a.a.v(c)]&&g(b,c,!e)}function k(b){var c=[],d={},f=[];a.a.K(b,function D(e){if(!d[e]){var k=a.getBindingHandler(e);k&&(k.after&&\r\n(f.push(e),a.a.n(k.after,function(c){if(b[c]){if(-1!==a.a.l(f,c))throw Error(\"Cannot combine the following bindings, because they have a cyclic dependency: \"+f.join(\", \"));D(c)}}),f.pop()),c.push({key:e,bb:k}));d[e]=!0}});return c}function m(b,d,f,g){var h=a.a.f.get(b,s);if(!d){if(h)throw Error(\"You cannot apply bindings multiple times to the same element.\");a.a.f.set(b,s,!0)}!h&&g&&a.rb(b,f);var m;if(d&&\"function\"!==typeof d)m=d;else{var p=a.H.instance,l=p.getBindingAccessors||e;if(d||f.A){var A=\r\na.h(function(){(m=d?d(f,b):l.call(p,b,f))&&f.A&&f.A();return m},null,{I:b});m&&A.aa()||(A=null)}else m=a.i.p(l,p,[b,f])}var u;if(m){var w=A?function(a){return function(){return c(A()[a])}}:function(a){return m[a]},y=function(){return a.a.Da(A?A():m,c)};y.get=function(a){return m[a]&&c(w(a))};y.has=function(a){return a in m};g=k(m);a.a.n(g,function(c){var d=c.bb.init,e=c.bb.update,k=c.key;if(8===b.nodeType&&!a.e.P[k])throw Error(\"The binding '\"+k+\"' cannot be used with virtual elements\");try{\"function\"==\r\ntypeof d&&a.i.p(function(){var a=d(b,w(k),y,f.$data,f);if(a&&a.controlsDescendantBindings){if(u!==q)throw Error(\"Multiple bindings (\"+u+\" and \"+k+\") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.\");u=k}}),\"function\"==typeof e&&a.h(function(){e(b,w(k),y,f.$data,f)},null,{I:b})}catch(g){throw g.message='Unable to process binding \"'+k+\": \"+m[k]+'\"\\nMessage: '+g.message,g;}})}return{shouldBindDescendants:u===q}}function f(b){return b&&\r\nb instanceof a.G?b:new a.G(b)}a.d={};var p={script:!0};a.getBindingHandler=function(b){return a.d[b]};a.G=function(b,c,d,f){var e=this,k=\"function\"==typeof b,g,h=a.h(function(){var g=k?b():b;c?(c.A&&c.A(),a.a.extend(e,c),h&&(e.A=h)):(e.$parents=[],e.$root=g,e.ko=a);e.$rawData=b;e.$data=g;d&&(e[d]=g);f&&f(e,c,g);return e.$data},null,{ua:function(){return g&&!a.a.Ra(g)},I:!0});h.aa()&&(e.A=h,h.equalityComparer=null,g=[],h.wb=function(b){g.push(b);a.a.C.ea(b,function(b){a.a.ia(g,b);g.length||(h.B(),\r\ne.A=h=q)})})};a.G.prototype.createChildContext=function(b,c,d){return new a.G(b,this,c,function(a,b){a.$parentContext=b;a.$parent=b.$data;a.$parents=(b.$parents||[]).slice(0);a.$parents.unshift(a.$parent);d&&d(a)})};a.G.prototype.extend=function(b){return new a.G(this.$rawData,this,null,function(c){a.a.extend(c,\"function\"==typeof b?b():b)})};var s=a.a.f.D(),l=a.a.f.D();a.rb=function(b,c){if(2==arguments.length)a.a.f.set(b,l,c),c.A&&c.A.wb(b);else return a.a.f.get(b,l)};a.pa=function(b,c,d){1===b.nodeType&&\r\na.e.ib(b);return m(b,c,f(d),!0)};a.xb=function(c,e,k){k=f(k);return a.pa(c,\"function\"===typeof e?d(e.bind(null,k,c)):a.a.Da(e,b),k)};a.Ta=function(a,b){1!==b.nodeType&&8!==b.nodeType||g(f(a),b,!0)};a.Sa=function(a,b){if(b&&1!==b.nodeType&&8!==b.nodeType)throw Error(\"ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node\");b=b||y.document.body;h(f(a),b,!0)};a.ta=function(b){switch(b.nodeType){case 1:case 8:var c=a.rb(b);if(c)return c;if(b.parentNode)return a.ta(b.parentNode)}return q};\r\na.Cb=function(b){return(b=a.ta(b))?b.$data:q};a.b(\"bindingHandlers\",a.d);a.b(\"applyBindings\",a.Sa);a.b(\"applyBindingsToDescendants\",a.Ta);a.b(\"applyBindingAccessorsToNode\",a.pa);a.b(\"applyBindingsToNode\",a.xb);a.b(\"contextFor\",a.ta);a.b(\"dataFor\",a.Cb)})();var M={\"class\":\"className\",\"for\":\"htmlFor\"};a.d.attr={update:function(b,c){var d=a.a.c(c())||{};a.a.K(d,function(c,d){d=a.a.c(d);var h=!1===d||null===d||d===q;h&&b.removeAttribute(c);8>=a.a.ja&&c in M?(c=M[c],h?b.removeAttribute(c):b[c]=d):h||b.setAttribute(c,\r\nd.toString());\"name\"===c&&a.a.pb(b,h?\"\":d.toString())})}};(function(){a.d.checked={after:[\"value\",\"attr\"],init:function(b,c,d){function e(){return d.has(\"checkedValue\")?a.a.c(d.get(\"checkedValue\")):b.value}function g(){var k=b.checked,g=s?e():k;if(l&&(!m||k)){var h=a.i.p(c);f?p!==g?(k&&(a.a.V(h,g,!0),a.a.V(h,p,!1)),p=g):a.a.V(h,g,k):a.g.oa(h,d,\"checked\",g,!0)}}function h(){var d=a.a.c(c());b.checked=f?0<=a.a.l(d,e()):k?d:e()===d}var k=\"checkbox\"==b.type,m=\"radio\"==b.type;if(k||m){var f=k&&a.a.c(c())instanceof\r\nArray,p=f?e():q,s=m||f,l=!1;m&&!b.name&&a.d.uniqueName.init(b,function(){return!0});a.h(g,null,{I:b});a.a.r(b,\"click\",g);a.h(h,null,{I:b});l=!0}}};a.g.U.checked=!0;a.d.checkedValue={update:function(b,c){b.value=a.a.c(c())}}})();a.d.css={update:function(b,c){var d=a.a.c(c());\"object\"==typeof d?a.a.K(d,function(c,d){d=a.a.c(d);a.a.ma(b,c,d)}):(d=String(d||\"\"),a.a.ma(b,b.__ko__cssValue,!1),b.__ko__cssValue=d,a.a.ma(b,d,!0))}};a.d.enable={update:function(b,c){var d=a.a.c(c());d&&b.disabled?b.removeAttribute(\"disabled\"):\r\nd||b.disabled||(b.disabled=!0)}};a.d.disable={update:function(b,c){a.d.enable.update(b,function(){return!a.a.c(c())})}};a.d.event={init:function(b,c,d,e,g){var h=c()||{};a.a.K(h,function(k){\"string\"==typeof k&&a.a.r(b,k,function(b){var f,h=c()[k];if(h){try{var s=a.a.Q(arguments);e=g.$data;s.unshift(e);f=h.apply(e,s)}finally{!0!==f&&(b.preventDefault?b.preventDefault():b.returnValue=!1)}!1===d.get(k+\"Bubble\")&&(b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation())}})})}};a.d.foreach={hb:function(b){return function(){var c=\r\nb(),d=a.a.Ha(c);if(!d||\"number\"==typeof d.length)return{foreach:c,templateEngine:a.J.Aa};a.a.c(c);return{foreach:d.data,as:d.as,includeDestroyed:d.includeDestroyed,afterAdd:d.afterAdd,beforeRemove:d.beforeRemove,afterRender:d.afterRender,beforeMove:d.beforeMove,afterMove:d.afterMove,templateEngine:a.J.Aa}}},init:function(b,c){return a.d.template.init(b,a.d.foreach.hb(c))},update:function(b,c,d,e,g){return a.d.template.update(b,a.d.foreach.hb(c),d,e,g)}};a.g.Y.foreach=!1;a.e.P.foreach=!0;a.d.hasfocus=\r\n{init:function(b,c,d){function e(e){b.__ko_hasfocusUpdating=!0;var g=b.ownerDocument;if(\"activeElement\"in g){var f;try{f=g.activeElement}catch(h){f=g.body}e=f===b}g=c();a.g.oa(g,d,\"hasfocus\",e,!0);b.__ko_hasfocusLastValue=e;b.__ko_hasfocusUpdating=!1}var g=e.bind(null,!0),h=e.bind(null,!1);a.a.r(b,\"focus\",g);a.a.r(b,\"focusin\",g);a.a.r(b,\"blur\",h);a.a.r(b,\"focusout\",h)},update:function(b,c){var d=!!a.a.c(c());b.__ko_hasfocusUpdating||b.__ko_hasfocusLastValue===d||(d?b.focus():b.blur(),a.i.p(a.a.da,\r\nnull,[b,d?\"focusin\":\"focusout\"]))}};a.g.U.hasfocus=!0;a.d.hasFocus=a.d.hasfocus;a.g.U.hasFocus=!0;a.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ka(b,c())}};var L=a.a.f.D();H(\"if\");H(\"ifnot\",!1,!0);H(\"with\",!0,!1,function(a,c){return a.createChildContext(c)});a.d.options={init:function(b){if(\"select\"!==a.a.v(b))throw Error(\"options binding applies only to SELECT elements\");for(;0<b.length;)b.remove(0);return{controlsDescendantBindings:!0}},update:function(b,\r\nc,d){function e(){return a.a.ga(b.options,function(a){return a.selected})}function g(a,b,c){var d=typeof b;return\"function\"==d?b(a):\"string\"==d?a[b]:c}function h(c,d){if(p.length){var f=0<=a.a.l(p,a.k.o(d[0]));a.a.qb(d[0],f);l&&!f&&a.i.p(a.a.da,null,[b,\"change\"])}}var k=0!=b.length&&b.multiple?b.scrollTop:null;c=a.a.c(c());var m=d.get(\"optionsIncludeDestroyed\"),f={},p;p=b.multiple?a.a.ha(e(),a.k.o):0<=b.selectedIndex?[a.k.o(b.options[b.selectedIndex])]:[];if(c){\"undefined\"==typeof c.length&&(c=[c]);\r\nvar s=a.a.ga(c,function(b){return m||b===q||null===b||!a.a.c(b._destroy)});d.has(\"optionsCaption\")&&(c=a.a.c(d.get(\"optionsCaption\")),null!==c&&c!==q&&s.unshift(f))}else c=[];var l=!1;c=h;d.has(\"optionsAfterRender\")&&(c=function(b,c){h(0,c);a.i.p(d.get(\"optionsAfterRender\"),null,[c[0],b!==f?b:q])});a.a.Ja(b,s,function(b,c,e){e.length&&(p=e[0].selected?[a.k.o(e[0])]:[],l=!0);c=w.createElement(\"option\");b===f?(a.a.Ma(c,d.get(\"optionsCaption\")),a.k.na(c,q)):(e=g(b,d.get(\"optionsValue\"),b),a.k.na(c,a.a.c(e)),\r\nb=g(b,d.get(\"optionsText\"),e),a.a.Ma(c,b));return[c]},null,c);(b.multiple?p.length&&e().length<p.length:p.length&&0<=b.selectedIndex?a.k.o(b.options[b.selectedIndex])!==p[0]:p.length||0<=b.selectedIndex)&&a.i.p(a.a.da,null,[b,\"change\"]);a.a.Hb(b);k&&20<Math.abs(k-b.scrollTop)&&(b.scrollTop=k)}};a.d.options.Ea=a.a.f.D();a.d.selectedOptions={after:[\"options\",\"foreach\"],init:function(b,c,d){a.a.r(b,\"change\",function(){var e=c(),g=[];a.a.n(b.getElementsByTagName(\"option\"),function(b){b.selected&&g.push(a.k.o(b))});\r\na.g.oa(e,d,\"selectedOptions\",g)})},update:function(b,c){if(\"select\"!=a.a.v(b))throw Error(\"values binding applies only to SELECT elements\");var d=a.a.c(c());d&&\"number\"==typeof d.length&&a.a.n(b.getElementsByTagName(\"option\"),function(b){var c=0<=a.a.l(d,a.k.o(b));a.a.qb(b,c)})}};a.g.U.selectedOptions=!0;a.d.style={update:function(b,c){var d=a.a.c(c()||{});a.a.K(d,function(c,d){d=a.a.c(d);b.style[c]=d||\"\"})}};a.d.submit={init:function(b,c,d,e,g){if(\"function\"!=typeof c())throw Error(\"The value for a submit binding must be a function\");\r\na.a.r(b,\"submit\",function(a){var d,e=c();try{d=e.call(g.$data,b)}finally{!0!==d&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}})}};a.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(b,c){a.a.Ma(b,c())}};a.e.P.text=!0;a.d.uniqueName={init:function(b,c){if(c()){var d=\"ko_unique_\"+ ++a.d.uniqueName.Bb;a.a.pb(b,d)}}};a.d.uniqueName.Bb=0;a.d.value={after:[\"options\",\"foreach\"],init:function(b,c,d){function e(){k=!1;var e=c(),f=a.k.o(b);a.g.oa(e,d,\"value\",f)}var g=\r\n[\"change\"],h=d.get(\"valueUpdate\"),k=!1;h&&(\"string\"==typeof h&&(h=[h]),a.a.X(g,h),g=a.a.Va(g));!a.a.ja||\"input\"!=b.tagName.toLowerCase()||\"text\"!=b.type||\"off\"==b.autocomplete||b.form&&\"off\"==b.form.autocomplete||-1!=a.a.l(g,\"propertychange\")||(a.a.r(b,\"propertychange\",function(){k=!0}),a.a.r(b,\"blur\",function(){k&&e()}));a.a.n(g,function(c){var d=e;a.a.ac(c,\"after\")&&(d=function(){setTimeout(e,0)},c=c.substring(5));a.a.r(b,c,d)})},update:function(b,c){var d=\"select\"===a.a.v(b),e=a.a.c(c()),g=a.k.o(b);\r\ne!==g&&(g=function(){a.k.na(b,e)},g(),d&&(e!==a.k.o(b)?a.i.p(a.a.da,null,[b,\"change\"]):setTimeout(g,0)))}};a.g.U.value=!0;a.d.visible={update:function(b,c){var d=a.a.c(c()),e=\"none\"!=b.style.display;d&&!e?b.style.display=\"\":!d&&e&&(b.style.display=\"none\")}};(function(b){a.d[b]={init:function(c,d,e,g,h){return a.d.event.init.call(this,c,function(){var a={};a[b]=d();return a},e,g,h)}}})(\"click\");a.w=function(){};a.w.prototype.renderTemplateSource=function(){throw Error(\"Override renderTemplateSource\");\r\n};a.w.prototype.createJavaScriptEvaluatorBlock=function(){throw Error(\"Override createJavaScriptEvaluatorBlock\");};a.w.prototype.makeTemplateSource=function(b,c){if(\"string\"==typeof b){c=c||w;var d=c.getElementById(b);if(!d)throw Error(\"Cannot find template with ID \"+b);return new a.m.j(d)}if(1==b.nodeType||8==b.nodeType)return new a.m.W(b);throw Error(\"Unknown template type: \"+b);};a.w.prototype.renderTemplate=function(a,c,d,e){a=this.makeTemplateSource(a,e);return this.renderTemplateSource(a,c,\r\nd)};a.w.prototype.isTemplateRewritten=function(a,c){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,c).data(\"isRewritten\")};a.w.prototype.rewriteTemplate=function(a,c,d){a=this.makeTemplateSource(a,d);c=c(a.text());a.text(c);a.data(\"isRewritten\",!0)};a.b(\"templateEngine\",a.w);a.Oa=function(){function b(b,c,d,k){b=a.g.Ga(b);for(var m=a.g.Y,f=0;f<b.length;f++){var p=b[f].key;if(m.hasOwnProperty(p)){var s=m[p];if(\"function\"===typeof s){if(p=s(b[f].value))throw Error(p);}else if(!s)throw Error(\"This template engine does not support the '\"+\r\np+\"' binding within its templates\");}}d=\"ko.__tr_ambtns(function($context,$element){return(function(){return{ \"+a.g.ka(b,{valueAccessors:!0})+\" } })()},'\"+d.toLowerCase()+\"')\";return k.createJavaScriptEvaluatorBlock(d)+c}var c=/(<([a-z]+\\d*)(?:\\s+(?!data-bind\\s*=\\s*)[a-z0-9\\-]+(?:=(?:\\\"[^\\\"]*\\\"|\\'[^\\']*\\'))?)*\\s+)data-bind\\s*=\\s*([\"'])([\\s\\S]*?)\\3/gi,d=/\\x3c!--\\s*ko\\b\\s*([\\s\\S]*?)\\s*--\\x3e/g;return{Ib:function(b,c,d){c.isTemplateRewritten(b,d)||c.rewriteTemplate(b,function(b){return a.Oa.Ub(b,c)},\r\nd)},Ub:function(a,g){return a.replace(c,function(a,c,d,f,e){return b(e,c,d,g)}).replace(d,function(a,c){return b(c,\"\\x3c!-- ko --\\x3e\",\"#comment\",g)})},yb:function(b,c){return a.u.Ca(function(d,k){var m=d.nextSibling;m&&m.nodeName.toLowerCase()===c&&a.pa(m,b,k)})}}}();a.b(\"__tr_ambtns\",a.Oa.yb);(function(){a.m={};a.m.j=function(a){this.j=a};a.m.j.prototype.text=function(){var b=a.a.v(this.j),b=\"script\"===b?\"text\":\"textarea\"===b?\"value\":\"innerHTML\";if(0==arguments.length)return this.j[b];var c=arguments[0];\r\n\"innerHTML\"===b?a.a.Ka(this.j,c):this.j[b]=c};var b=a.a.f.D()+\"_\";a.m.j.prototype.data=function(c){if(1===arguments.length)return a.a.f.get(this.j,b+c);a.a.f.set(this.j,b+c,arguments[1])};var c=a.a.f.D();a.m.W=function(a){this.j=a};a.m.W.prototype=new a.m.j;a.m.W.prototype.text=function(){if(0==arguments.length){var b=a.a.f.get(this.j,c)||{};b.Pa===q&&b.sa&&(b.Pa=b.sa.innerHTML);return b.Pa}a.a.f.set(this.j,c,{Pa:arguments[0]})};a.m.j.prototype.nodes=function(){if(0==arguments.length)return(a.a.f.get(this.j,\r\nc)||{}).sa;a.a.f.set(this.j,c,{sa:arguments[0]})};a.b(\"templateSources\",a.m);a.b(\"templateSources.domElement\",a.m.j);a.b(\"templateSources.anonymousTemplate\",a.m.W)})();(function(){function b(b,c,d){var e;for(c=a.e.nextSibling(c);b&&(e=b)!==c;)b=a.e.nextSibling(e),d(e,b)}function c(c,d){if(c.length){var f=c[0],e=c[c.length-1],g=f.parentNode,h=a.H.instance,n=h.preprocessNode;if(n){b(f,e,function(a,b){var c=a.previousSibling,d=n.call(h,a);d&&(a===f&&(f=d[0]||b),a===e&&(e=d[d.length-1]||c))});c.length=\r\n0;if(!f)return;f===e?c.push(f):(c.push(f,e),a.a.$(c,g))}b(f,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.Sa(d,b)});b(f,e,function(b){1!==b.nodeType&&8!==b.nodeType||a.u.vb(b,[d])});a.a.$(c,g)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(b,e,f,h,s){s=s||{};var l=b&&d(b),l=l&&l.ownerDocument,n=s.templateEngine||g;a.Oa.Ib(f,n,l);f=n.renderTemplate(f,h,s,l);if(\"number\"!=typeof f.length||0<f.length&&\"number\"!=typeof f[0].nodeType)throw Error(\"Template engine must return an array of DOM nodes\");\r\nl=!1;switch(e){case \"replaceChildren\":a.e.S(b,f);l=!0;break;case \"replaceNode\":a.a.nb(b,f);l=!0;break;case \"ignoreTargetNode\":break;default:throw Error(\"Unknown renderMode: \"+e);}l&&(c(f,h),s.afterRender&&a.i.p(s.afterRender,null,[f,h.$data]));return f}var g;a.La=function(b){if(b!=q&&!(b instanceof a.w))throw Error(\"templateEngine must inherit from ko.templateEngine\");g=b};a.Ia=function(b,c,f,h,s){f=f||{};if((f.templateEngine||g)==q)throw Error(\"Set a template engine before calling renderTemplate\");\r\ns=s||\"replaceChildren\";if(h){var l=d(h);return a.h(function(){var g=c&&c instanceof a.G?c:new a.G(a.a.c(c)),r=\"function\"==typeof b?b(g.$data,g):b,g=e(h,s,r,g,f);\"replaceNode\"==s&&(h=g,l=d(h))},null,{ua:function(){return!l||!a.a.va(l)},I:l&&\"replaceNode\"==s?l.parentNode:l})}return a.u.Ca(function(d){a.Ia(b,c,f,d,\"replaceNode\")})};a.$b=function(b,d,f,g,h){function l(a,b){c(b,r);f.afterRender&&f.afterRender(b,a)}function n(a,c){r=h.createChildContext(a,f.as,function(a){a.$index=c});var d=\"function\"==\r\ntypeof b?b(a,r):b;return e(null,\"ignoreTargetNode\",d,r,f)}var r;return a.h(function(){var b=a.a.c(d)||[];\"undefined\"==typeof b.length&&(b=[b]);b=a.a.ga(b,function(b){return f.includeDestroyed||b===q||null===b||!a.a.c(b._destroy)});a.i.p(a.a.Ja,null,[g,b,n,f,l])},null,{I:g})};var h=a.a.f.D();a.d.template={init:function(b,c){var d=a.a.c(c());\"string\"==typeof d||d.name?a.e.Z(b):(d=a.e.childNodes(b),d=a.a.Vb(d),(new a.m.W(b)).nodes(d));return{controlsDescendantBindings:!0}},update:function(b,c,d,e,g){c=\r\na.a.c(c());d={};e=!0;var l,n=null;\"string\"!=typeof c&&(d=c,c=a.a.c(d.name),\"if\"in d&&(e=a.a.c(d[\"if\"])),e&&\"ifnot\"in d&&(e=!a.a.c(d.ifnot)),l=a.a.c(d.data));\"foreach\"in d?n=a.$b(c||b,e&&d.foreach||[],d,b,g):e?(g=\"data\"in d?g.createChildContext(l,d.as):g,n=a.Ia(c||b,g,d,b)):a.e.Z(b);g=n;(l=a.a.f.get(b,h))&&\"function\"==typeof l.B&&l.B();a.a.f.set(b,h,g&&g.aa()?g:q)}};a.g.Y.template=function(b){b=a.g.Ga(b);return 1==b.length&&b[0].unknown||a.g.Sb(b,\"name\")?null:\"This template engine does not support anonymous templates nested within its templates\"};\r\na.e.P.template=!0})();a.b(\"setTemplateEngine\",a.La);a.b(\"renderTemplate\",a.Ia);a.a.ra=function(){function a(b,d,e,g,h){var k=Math.min,m=Math.max,f=[],p,q=b.length,l,n=d.length,r=n-q||1,v=q+n+1,t,u,w;for(p=0;p<=q;p++)for(u=t,f.push(t=[]),w=k(n,p+r),l=m(0,p-1);l<=w;l++)t[l]=l?p?b[p-1]===d[l-1]?u[l-1]:k(u[l]||v,t[l-1]||v)+1:l+1:p+1;k=[];m=[];r=[];p=q;for(l=n;p||l;)n=f[p][l]-1,l&&n===f[p][l-1]?m.push(k[k.length]={status:e,value:d[--l],index:l}):p&&n===f[p-1][l]?r.push(k[k.length]={status:g,value:b[--p],\r\nindex:p}):(--l,--p,h.sparse||k.push({status:\"retained\",value:d[l]}));if(m.length&&r.length){b=10*q;var z;for(d=e=0;(h.dontLimitMoves||d<b)&&(z=m[e]);e++){for(g=0;f=r[g];g++)if(z.value===f.value){z.moved=f.index;f.moved=z.index;r.splice(g,1);d=g=0;break}d+=g}}return k.reverse()}return function(c,d,e){e=\"boolean\"===typeof e?{dontLimitMoves:e}:e||{};c=c||[];d=d||[];return c.length<=d.length?a(c,d,\"added\",\"deleted\",e):a(d,c,\"deleted\",\"added\",e)}}();a.b(\"utils.compareArrays\",a.a.ra);(function(){function b(b,\r\nc,g,h,k){var m=[],f=a.h(function(){var f=c(g,k,a.a.$(m,b))||[];0<m.length&&(a.a.nb(m,f),h&&a.i.p(h,null,[g,f,k]));m.splice(0,m.length);a.a.X(m,f)},null,{I:b,ua:function(){return!a.a.Ra(m)}});return{R:m,h:f.aa()?f:q}}var c=a.a.f.D();a.a.Ja=function(d,e,g,h,k){function m(b,c){x=s[c];t!==c&&(z[b]=x);x.za(t++);a.a.$(x.R,d);r.push(x);w.push(x)}function f(b,c){if(b)for(var d=0,e=c.length;d<e;d++)c[d]&&a.a.n(c[d].R,function(a){b(a,d,c[d].fa)})}e=e||[];h=h||{};var p=a.a.f.get(d,c)===q,s=a.a.f.get(d,c)||[],\r\nl=a.a.ha(s,function(a){return a.fa}),n=a.a.ra(l,e,h.dontLimitMoves),r=[],v=0,t=0,u=[],w=[];e=[];for(var z=[],l=[],x,A=0,y,B;y=n[A];A++)switch(B=y.moved,y.status){case \"deleted\":B===q&&(x=s[v],x.h&&x.h.B(),u.push.apply(u,a.a.$(x.R,d)),h.beforeRemove&&(e[A]=x,w.push(x)));v++;break;case \"retained\":m(A,v++);break;case \"added\":B!==q?m(A,B):(x={fa:y.value,za:a.q(t++)},r.push(x),w.push(x),p||(l[A]=x))}f(h.beforeMove,z);a.a.n(u,h.beforeRemove?a.L:a.removeNode);for(var A=0,p=a.e.firstChild(d),C;x=w[A];A++){x.R||\r\na.a.extend(x,b(d,g,x.fa,k,x.za));for(v=0;n=x.R[v];p=n.nextSibling,C=n,v++)n!==p&&a.e.eb(d,n,C);!x.Ob&&k&&(k(x.fa,x.R,x.za),x.Ob=!0)}f(h.beforeRemove,e);f(h.afterMove,z);f(h.afterAdd,l);a.a.f.set(d,c,r)}})();a.b(\"utils.setDomNodeChildrenFromArrayMapping\",a.a.Ja);a.J=function(){this.allowTemplateRewriting=!1};a.J.prototype=new a.w;a.J.prototype.renderTemplateSource=function(b){var c=(9>a.a.ja?0:b.nodes)?b.nodes():null;if(c)return a.a.Q(c.cloneNode(!0).childNodes);b=b.text();return a.a.Fa(b)};a.J.Aa=\r\nnew a.J;a.La(a.J.Aa);a.b(\"nativeTemplateEngine\",a.J);(function(){a.Ba=function(){var a=this.Rb=function(){if(\"undefined\"==typeof u||!u.tmpl)return 0;try{if(0<=u.tmpl.tag.tmpl.open.toString().indexOf(\"__\"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,e,g){g=g||{};if(2>a)throw Error(\"Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.\");var h=b.data(\"precompiled\");h||(h=b.text()||\"\",h=u.template(null,\"{{ko_with $item.koBindingContext}}\"+h+\r\n\"{{/ko_with}}\"),b.data(\"precompiled\",h));b=[e.$data];e=u.extend({koBindingContext:e},g.templateOptions);e=u.tmpl(h,b,e);e.appendTo(w.createElement(\"div\"));u.fragments={};return e};this.createJavaScriptEvaluatorBlock=function(a){return\"{{ko_code ((function() { return \"+a+\" })()) }}\"};this.addTemplate=function(a,b){w.write(\"<script type='text/html' id='\"+a+\"'>\"+b+\"\\x3c/script>\")};0<a&&(u.tmpl.tag.ko_code={open:\"__.push($1 || '');\"},u.tmpl.tag.ko_with={open:\"with($1) {\",close:\"} \"})};a.Ba.prototype=\r\nnew a.w;var b=new a.Ba;0<b.Rb&&a.La(b);a.b(\"jqueryTmplTemplateEngine\",a.Ba)})()})})();})();\r\n\n","//! moment.js\n//! version : 2.6.0\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n(function (undefined) {\n\n    /************************************\n        Constants\n    ************************************/\n\n    var moment,\n        VERSION = \"2.6.0\",\n        // the global-scope this is NOT the global object in Node.js\n        globalScope = typeof global !== 'undefined' ? global : this,\n        oldGlobalMoment,\n        round = Math.round,\n        i,\n\n        YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n\n        // internal storage for language config files\n        languages = {},\n\n        // moment internal properties\n        momentProperties = {\n            _isAMomentObject: null,\n            _i : null,\n            _f : null,\n            _l : null,\n            _strict : null,\n            _isUTC : null,\n            _offset : null,  // optional. Combine with _isUTC\n            _pf : null,\n            _lang : null  // optional\n        },\n\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports),\n\n        // ASP.NET json date format regex\n        aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i,\n        aspNetTimeSpanJsonRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,\n\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,\n\n        // format tokens\n        formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,\n\n        // parsing token regexes\n        parseTokenOneOrTwoDigits = /\\d\\d?/, // 0 - 99\n        parseTokenOneToThreeDigits = /\\d{1,3}/, // 0 - 999\n        parseTokenOneToFourDigits = /\\d{1,4}/, // 0 - 9999\n        parseTokenOneToSixDigits = /[+\\-]?\\d{1,6}/, // -999,999 - 999,999\n        parseTokenDigits = /\\d+/, // nonzero number of digits\n        parseTokenWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i, // any word (or two) characters or numbers including two/three word month in arabic.\n        parseTokenTimezone = /Z|[\\+\\-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        parseTokenT = /T/i, // T (ISO separator)\n        parseTokenTimestampMs = /[\\+\\-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        parseTokenOrdinal = /\\d{1,2}/,\n\n        //strict parsing regexes\n        parseTokenOneDigit = /\\d/, // 0 - 9\n        parseTokenTwoDigits = /\\d\\d/, // 00 - 99\n        parseTokenThreeDigits = /\\d{3}/, // 000 - 999\n        parseTokenFourDigits = /\\d{4}/, // 0000 - 9999\n        parseTokenSixDigits = /[+-]?\\d{6}/, // -999,999 - 999,999\n        parseTokenSignedNumber = /[+-]?\\d+/, // -inf - inf\n\n        // iso 8601 regex\n        // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n        isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n\n        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',\n\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n            ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/]\n        ],\n\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n            ['HH', /(T| )\\d\\d/]\n        ],\n\n        // timezone chunker \"+10:00\" > [\"10\", \"00\"] or \"-1530\" > [\"-15\", \"30\"]\n        parseTimezoneChunker = /([\\+\\-]|\\d\\d)/gi,\n\n        // getter and setter names\n        proxyGettersAndSetters = 'Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),\n        unitMillisecondFactors = {\n            'Milliseconds' : 1,\n            'Seconds' : 1e3,\n            'Minutes' : 6e4,\n            'Hours' : 36e5,\n            'Days' : 864e5,\n            'Months' : 2592e6,\n            'Years' : 31536e6\n        },\n\n        unitAliases = {\n            ms : 'millisecond',\n            s : 'second',\n            m : 'minute',\n            h : 'hour',\n            d : 'day',\n            D : 'date',\n            w : 'week',\n            W : 'isoWeek',\n            M : 'month',\n            Q : 'quarter',\n            y : 'year',\n            DDD : 'dayOfYear',\n            e : 'weekday',\n            E : 'isoWeekday',\n            gg: 'weekYear',\n            GG: 'isoWeekYear'\n        },\n\n        camelFunctions = {\n            dayofyear : 'dayOfYear',\n            isoweekday : 'isoWeekday',\n            isoweek : 'isoWeek',\n            weekyear : 'weekYear',\n            isoweekyear : 'isoWeekYear'\n        },\n\n        // format function strings\n        formatFunctions = {},\n\n        // tokens to ordinalize and pad\n        ordinalizeTokens = 'DDD w W M D d'.split(' '),\n        paddedTokens = 'M D H h m s w W'.split(' '),\n\n        formatTokenFunctions = {\n            M    : function () {\n                return this.month() + 1;\n            },\n            MMM  : function (format) {\n                return this.lang().monthsShort(this, format);\n            },\n            MMMM : function (format) {\n                return this.lang().months(this, format);\n            },\n            D    : function () {\n                return this.date();\n            },\n            DDD  : function () {\n                return this.dayOfYear();\n            },\n            d    : function () {\n                return this.day();\n            },\n            dd   : function (format) {\n                return this.lang().weekdaysMin(this, format);\n            },\n            ddd  : function (format) {\n                return this.lang().weekdaysShort(this, format);\n            },\n            dddd : function (format) {\n                return this.lang().weekdays(this, format);\n            },\n            w    : function () {\n                return this.week();\n            },\n            W    : function () {\n                return this.isoWeek();\n            },\n            YY   : function () {\n                return leftZeroFill(this.year() % 100, 2);\n            },\n            YYYY : function () {\n                return leftZeroFill(this.year(), 4);\n            },\n            YYYYY : function () {\n                return leftZeroFill(this.year(), 5);\n            },\n            YYYYYY : function () {\n                var y = this.year(), sign = y >= 0 ? '+' : '-';\n                return sign + leftZeroFill(Math.abs(y), 6);\n            },\n            gg   : function () {\n                return leftZeroFill(this.weekYear() % 100, 2);\n            },\n            gggg : function () {\n                return leftZeroFill(this.weekYear(), 4);\n            },\n            ggggg : function () {\n                return leftZeroFill(this.weekYear(), 5);\n            },\n            GG   : function () {\n                return leftZeroFill(this.isoWeekYear() % 100, 2);\n            },\n            GGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 4);\n            },\n            GGGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 5);\n            },\n            e : function () {\n                return this.weekday();\n            },\n            E : function () {\n                return this.isoWeekday();\n            },\n            a    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), true);\n            },\n            A    : function () {\n                return this.lang().meridiem(this.hours(), this.minutes(), false);\n            },\n            H    : function () {\n                return this.hours();\n            },\n            h    : function () {\n                return this.hours() % 12 || 12;\n            },\n            m    : function () {\n                return this.minutes();\n            },\n            s    : function () {\n                return this.seconds();\n            },\n            S    : function () {\n                return toInt(this.milliseconds() / 100);\n            },\n            SS   : function () {\n                return leftZeroFill(toInt(this.milliseconds() / 10), 2);\n            },\n            SSS  : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            SSSS : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            Z    : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + \":\" + leftZeroFill(toInt(a) % 60, 2);\n            },\n            ZZ   : function () {\n                var a = -this.zone(),\n                    b = \"+\";\n                if (a < 0) {\n                    a = -a;\n                    b = \"-\";\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + leftZeroFill(toInt(a) % 60, 2);\n            },\n            z : function () {\n                return this.zoneAbbr();\n            },\n            zz : function () {\n                return this.zoneName();\n            },\n            X    : function () {\n                return this.unix();\n            },\n            Q : function () {\n                return this.quarter();\n            }\n        },\n\n        lists = ['months', 'monthsShort', 'weekdays', 'weekdaysShort', 'weekdaysMin'];\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object, and es5 standard is not very\n        // helpful.\n        return {\n            empty : false,\n            unusedTokens : [],\n            unusedInput : [],\n            overflow : -2,\n            charsLeftOver : 0,\n            nullInput : false,\n            invalidMonth : null,\n            invalidFormat : false,\n            userInvalidated : false,\n            iso: false\n        };\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n        function printMsg() {\n            if (moment.suppressDeprecationWarnings === false &&\n                    typeof console !== 'undefined' && console.warn) {\n                console.warn(\"Deprecation warning: \" + msg);\n            }\n        }\n        return extend(function () {\n            if (firstTime) {\n                printMsg();\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    function padToken(func, count) {\n        return function (a) {\n            return leftZeroFill(func.call(this, a), count);\n        };\n    }\n    function ordinalizeToken(func, period) {\n        return function (a) {\n            return this.lang().ordinal(func.call(this, a), period);\n        };\n    }\n\n    while (ordinalizeTokens.length) {\n        i = ordinalizeTokens.pop();\n        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i], i);\n    }\n    while (paddedTokens.length) {\n        i = paddedTokens.pop();\n        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);\n    }\n    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    function Language() {\n\n    }\n\n    // Moment prototype object\n    function Moment(config) {\n        checkOverflow(config);\n        extend(this, config);\n    }\n\n    // Duration Constructor\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._bubble();\n    }\n\n    /************************************\n        Helpers\n    ************************************/\n\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (b.hasOwnProperty(i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (b.hasOwnProperty(\"toString\")) {\n            a.toString = b.toString;\n        }\n\n        if (b.hasOwnProperty(\"valueOf\")) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function cloneMoment(m) {\n        var result = {}, i;\n        for (i in m) {\n            if (m.hasOwnProperty(i) && momentProperties.hasOwnProperty(i)) {\n                result[i] = m[i];\n            }\n        }\n\n        return result;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    // left zero fill a number\n    // see http://jsperf.com/left-zero-filling for performance comparison\n    function leftZeroFill(number, targetLength, forceSign) {\n        var output = '' + Math.abs(number),\n            sign = number >= 0;\n\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return (sign ? (forceSign ? '+' : '') : '-') + output;\n    }\n\n    // helper function for _.addTime and _.subtractTime\n    function addOrSubtractDurationFromMoment(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = duration._days,\n            months = duration._months;\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(+mom._d + milliseconds * isAdding);\n        }\n        if (days) {\n            rawSetter(mom, 'Date', rawGetter(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            rawMonthSetter(mom, rawGetter(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            moment.updateOffset(mom, days || months);\n        }\n    }\n\n    // check if is an array\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isDate(input) {\n        return  Object.prototype.toString.call(input) === '[object Date]' ||\n                input instanceof Date;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function normalizeUnits(units) {\n        if (units) {\n            var lowered = units.toLowerCase().replace(/(.)s$/, '$1');\n            units = unitAliases[units] || camelFunctions[lowered] || lowered;\n        }\n        return units;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (inputObject.hasOwnProperty(prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    function makeList(field) {\n        var count, setter;\n\n        if (field.indexOf('week') === 0) {\n            count = 7;\n            setter = 'day';\n        }\n        else if (field.indexOf('month') === 0) {\n            count = 12;\n            setter = 'month';\n        }\n        else {\n            return;\n        }\n\n        moment[field] = function (format, index) {\n            var i, getter,\n                method = moment.fn._lang[field],\n                results = [];\n\n            if (typeof format === 'number') {\n                index = format;\n                format = undefined;\n            }\n\n            getter = function (i) {\n                var m = moment().utc().set(setter, i);\n                return method.call(moment.fn._lang, m, format || '');\n            };\n\n            if (index != null) {\n                return getter(index);\n            }\n            else {\n                for (i = 0; i < count; i++) {\n                    results.push(getter(i));\n                }\n                return results;\n            }\n        };\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            if (coercedNumber >= 0) {\n                value = Math.floor(coercedNumber);\n            } else {\n                value = Math.ceil(coercedNumber);\n            }\n        }\n\n        return value;\n    }\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    function weeksInYear(year, dow, doy) {\n        return weekOfYear(moment([year, 11, 31 + dow - doy]), dow, doy).week;\n    }\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function checkOverflow(m) {\n        var overflow;\n        if (m._a && m._pf.overflow === -2) {\n            overflow =\n                m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH :\n                m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE :\n                m._a[HOUR] < 0 || m._a[HOUR] > 23 ? HOUR :\n                m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE :\n                m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND :\n                m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n\n            m._pf.overflow = overflow;\n        }\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            m._isValid = !isNaN(m._d.getTime()) &&\n                m._pf.overflow < 0 &&\n                !m._pf.empty &&\n                !m._pf.invalidMonth &&\n                !m._pf.nullInput &&\n                !m._pf.invalidFormat &&\n                !m._pf.userInvalidated;\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    m._pf.charsLeftOver === 0 &&\n                    m._pf.unusedTokens.length === 0;\n            }\n        }\n        return m._isValid;\n    }\n\n    function normalizeLanguage(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function makeAs(input, model) {\n        return model._isUTC ? moment(input).zone(model._offset || 0) :\n            moment(input).local();\n    }\n\n    /************************************\n        Languages\n    ************************************/\n\n\n    extend(Language.prototype, {\n\n        set : function (config) {\n            var prop, i;\n            for (i in config) {\n                prop = config[i];\n                if (typeof prop === 'function') {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        },\n\n        _months : \"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),\n        months : function (m) {\n            return this._months[m.month()];\n        },\n\n        _monthsShort : \"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),\n        monthsShort : function (m) {\n            return this._monthsShort[m.month()];\n        },\n\n        monthsParse : function (monthName) {\n            var i, mom, regex;\n\n            if (!this._monthsParse) {\n                this._monthsParse = [];\n            }\n\n            for (i = 0; i < 12; i++) {\n                // make the regex if we don't have it already\n                if (!this._monthsParse[i]) {\n                    mom = moment.utc([2000, i]);\n                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._monthsParse[i].test(monthName)) {\n                    return i;\n                }\n            }\n        },\n\n        _weekdays : \"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),\n        weekdays : function (m) {\n            return this._weekdays[m.day()];\n        },\n\n        _weekdaysShort : \"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),\n        weekdaysShort : function (m) {\n            return this._weekdaysShort[m.day()];\n        },\n\n        _weekdaysMin : \"Su_Mo_Tu_We_Th_Fr_Sa\".split(\"_\"),\n        weekdaysMin : function (m) {\n            return this._weekdaysMin[m.day()];\n        },\n\n        weekdaysParse : function (weekdayName) {\n            var i, mom, regex;\n\n            if (!this._weekdaysParse) {\n                this._weekdaysParse = [];\n            }\n\n            for (i = 0; i < 7; i++) {\n                // make the regex if we don't have it already\n                if (!this._weekdaysParse[i]) {\n                    mom = moment([2000, 1]).day(i);\n                    regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                    this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._weekdaysParse[i].test(weekdayName)) {\n                    return i;\n                }\n            }\n        },\n\n        _longDateFormat : {\n            LT : \"h:mm A\",\n            L : \"MM/DD/YYYY\",\n            LL : \"MMMM D YYYY\",\n            LLL : \"MMMM D YYYY LT\",\n            LLLL : \"dddd, MMMM D YYYY LT\"\n        },\n        longDateFormat : function (key) {\n            var output = this._longDateFormat[key];\n            if (!output && this._longDateFormat[key.toUpperCase()]) {\n                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {\n                    return val.slice(1);\n                });\n                this._longDateFormat[key] = output;\n            }\n            return output;\n        },\n\n        isPM : function (input) {\n            // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n            // Using charAt should be more compatible.\n            return ((input + '').toLowerCase().charAt(0) === 'p');\n        },\n\n        _meridiemParse : /[ap]\\.?m?\\.?/i,\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'pm' : 'PM';\n            } else {\n                return isLower ? 'am' : 'AM';\n            }\n        },\n\n        _calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        calendar : function (key, mom) {\n            var output = this._calendar[key];\n            return typeof output === 'function' ? output.apply(mom) : output;\n        },\n\n        _relativeTime : {\n            future : \"in %s\",\n            past : \"%s ago\",\n            s : \"a few seconds\",\n            m : \"a minute\",\n            mm : \"%d minutes\",\n            h : \"an hour\",\n            hh : \"%d hours\",\n            d : \"a day\",\n            dd : \"%d days\",\n            M : \"a month\",\n            MM : \"%d months\",\n            y : \"a year\",\n            yy : \"%d years\"\n        },\n        relativeTime : function (number, withoutSuffix, string, isFuture) {\n            var output = this._relativeTime[string];\n            return (typeof output === 'function') ?\n                output(number, withoutSuffix, string, isFuture) :\n                output.replace(/%d/i, number);\n        },\n        pastFuture : function (diff, output) {\n            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n        },\n\n        ordinal : function (number) {\n            return this._ordinal.replace(\"%d\", number);\n        },\n        _ordinal : \"%d\",\n\n        preparse : function (string) {\n            return string;\n        },\n\n        postformat : function (string) {\n            return string;\n        },\n\n        week : function (mom) {\n            return weekOfYear(mom, this._week.dow, this._week.doy).week;\n        },\n\n        _week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        },\n\n        _invalidDate: 'Invalid date',\n        invalidDate: function () {\n            return this._invalidDate;\n        }\n    });\n\n    // Loads a language definition into the `languages` cache.  The function\n    // takes a key and optionally values.  If not in the browser and no values\n    // are provided, it will load the language file module.  As a convenience,\n    // this function also returns the language values.\n    function loadLang(key, values) {\n        values.abbr = key;\n        if (!languages[key]) {\n            languages[key] = new Language();\n        }\n        languages[key].set(values);\n        return languages[key];\n    }\n\n    // Remove a language from the `languages` cache. Mostly useful in tests.\n    function unloadLang(key) {\n        delete languages[key];\n    }\n\n    // Determines which language definition to use and returns it.\n    //\n    // With no parameters, it will return the global language.  If you\n    // pass in a language key, such as 'en', it will return the\n    // definition for 'en', so long as 'en' has already been loaded using\n    // moment.lang.\n    function getLangDefinition(key) {\n        var i = 0, j, lang, next, split,\n            get = function (k) {\n                if (!languages[k] && hasModule) {\n                    try {\n                        require('./lang/' + k);\n                    } catch (e) { }\n                }\n                return languages[k];\n            };\n\n        if (!key) {\n            return moment.fn._lang;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            lang = get(key);\n            if (lang) {\n                return lang;\n            }\n            key = [key];\n        }\n\n        //pick the language from the array\n        //try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n        //substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n        while (i < key.length) {\n            split = normalizeLanguage(key[i]).split('-');\n            j = split.length;\n            next = normalizeLanguage(key[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                lang = get(split.slice(0, j).join('-'));\n                if (lang) {\n                    return lang;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return moment.fn._lang;\n    }\n\n    /************************************\n        Formatting\n    ************************************/\n\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, \"\");\n        }\n        return input.replace(/\\\\/g, \"\");\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = \"\";\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n\n        if (!m.isValid()) {\n            return m.lang().invalidDate();\n        }\n\n        format = expandFormat(format, m.lang());\n\n        if (!formatFunctions[format]) {\n            formatFunctions[format] = makeFormatFunction(format);\n        }\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, lang) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return lang.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n\n    /************************************\n        Parsing\n    ************************************/\n\n\n    // get the regex to find the next token\n    function getParseRegexForToken(token, config) {\n        var a, strict = config._strict;\n        switch (token) {\n        case 'Q':\n            return parseTokenOneDigit;\n        case 'DDDD':\n            return parseTokenThreeDigits;\n        case 'YYYY':\n        case 'GGGG':\n        case 'gggg':\n            return strict ? parseTokenFourDigits : parseTokenOneToFourDigits;\n        case 'Y':\n        case 'G':\n        case 'g':\n            return parseTokenSignedNumber;\n        case 'YYYYYY':\n        case 'YYYYY':\n        case 'GGGGG':\n        case 'ggggg':\n            return strict ? parseTokenSixDigits : parseTokenOneToSixDigits;\n        case 'S':\n            if (strict) { return parseTokenOneDigit; }\n            /* falls through */\n        case 'SS':\n            if (strict) { return parseTokenTwoDigits; }\n            /* falls through */\n        case 'SSS':\n            if (strict) { return parseTokenThreeDigits; }\n            /* falls through */\n        case 'DDD':\n            return parseTokenOneToThreeDigits;\n        case 'MMM':\n        case 'MMMM':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n            return parseTokenWord;\n        case 'a':\n        case 'A':\n            return getLangDefinition(config._l)._meridiemParse;\n        case 'X':\n            return parseTokenTimestampMs;\n        case 'Z':\n        case 'ZZ':\n            return parseTokenTimezone;\n        case 'T':\n            return parseTokenT;\n        case 'SSSS':\n            return parseTokenDigits;\n        case 'MM':\n        case 'DD':\n        case 'YY':\n        case 'GG':\n        case 'gg':\n        case 'HH':\n        case 'hh':\n        case 'mm':\n        case 'ss':\n        case 'ww':\n        case 'WW':\n            return strict ? parseTokenTwoDigits : parseTokenOneOrTwoDigits;\n        case 'M':\n        case 'D':\n        case 'd':\n        case 'H':\n        case 'h':\n        case 'm':\n        case 's':\n        case 'w':\n        case 'W':\n        case 'e':\n        case 'E':\n            return parseTokenOneOrTwoDigits;\n        case 'Do':\n            return parseTokenOrdinal;\n        default :\n            a = new RegExp(regexpEscape(unescapeFormat(token.replace('\\\\', '')), \"i\"));\n            return a;\n        }\n    }\n\n    function timezoneMinutesFromString(string) {\n        string = string || \"\";\n        var possibleTzMatches = (string.match(parseTokenTimezone) || []),\n            tzChunk = possibleTzMatches[possibleTzMatches.length - 1] || [],\n            parts = (tzChunk + '').match(parseTimezoneChunker) || ['-', 0, 0],\n            minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? -minutes : minutes;\n    }\n\n    // function to convert string input to date\n    function addTimeToArrayFromToken(token, input, config) {\n        var a, datePartArray = config._a;\n\n        switch (token) {\n        // QUARTER\n        case 'Q':\n            if (input != null) {\n                datePartArray[MONTH] = (toInt(input) - 1) * 3;\n            }\n            break;\n        // MONTH\n        case 'M' : // fall through to MM\n        case 'MM' :\n            if (input != null) {\n                datePartArray[MONTH] = toInt(input) - 1;\n            }\n            break;\n        case 'MMM' : // fall through to MMMM\n        case 'MMMM' :\n            a = getLangDefinition(config._l).monthsParse(input);\n            // if we didn't find a month name, mark the date as invalid.\n            if (a != null) {\n                datePartArray[MONTH] = a;\n            } else {\n                config._pf.invalidMonth = input;\n            }\n            break;\n        // DAY OF MONTH\n        case 'D' : // fall through to DD\n        case 'DD' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(input);\n            }\n            break;\n        case 'Do' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(parseInt(input, 10));\n            }\n            break;\n        // DAY OF YEAR\n        case 'DDD' : // fall through to DDDD\n        case 'DDDD' :\n            if (input != null) {\n                config._dayOfYear = toInt(input);\n            }\n\n            break;\n        // YEAR\n        case 'YY' :\n            datePartArray[YEAR] = moment.parseTwoDigitYear(input);\n            break;\n        case 'YYYY' :\n        case 'YYYYY' :\n        case 'YYYYYY' :\n            datePartArray[YEAR] = toInt(input);\n            break;\n        // AM / PM\n        case 'a' : // fall through to A\n        case 'A' :\n            config._isPm = getLangDefinition(config._l).isPM(input);\n            break;\n        // 24 HOUR\n        case 'H' : // fall through to hh\n        case 'HH' : // fall through to hh\n        case 'h' : // fall through to hh\n        case 'hh' :\n            datePartArray[HOUR] = toInt(input);\n            break;\n        // MINUTE\n        case 'm' : // fall through to mm\n        case 'mm' :\n            datePartArray[MINUTE] = toInt(input);\n            break;\n        // SECOND\n        case 's' : // fall through to ss\n        case 'ss' :\n            datePartArray[SECOND] = toInt(input);\n            break;\n        // MILLISECOND\n        case 'S' :\n        case 'SS' :\n        case 'SSS' :\n        case 'SSSS' :\n            datePartArray[MILLISECOND] = toInt(('0.' + input) * 1000);\n            break;\n        // UNIX TIMESTAMP WITH MS\n        case 'X':\n            config._d = new Date(parseFloat(input) * 1000);\n            break;\n        // TIMEZONE\n        case 'Z' : // fall through to ZZ\n        case 'ZZ' :\n            config._useUTC = true;\n            config._tzm = timezoneMinutesFromString(input);\n            break;\n        case 'w':\n        case 'ww':\n        case 'W':\n        case 'WW':\n        case 'd':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n        case 'e':\n        case 'E':\n            token = token.substr(0, 1);\n            /* falls through */\n        case 'gg':\n        case 'gggg':\n        case 'GG':\n        case 'GGGG':\n        case 'GGGGG':\n            token = token.substr(0, 2);\n            if (input) {\n                config._w = config._w || {};\n                config._w[token] = input;\n            }\n            break;\n        }\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function dateFromConfig(config) {\n        var i, date, input = [], currentDate,\n            yearToUse, fixYear, w, temp, lang, weekday, week;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            fixYear = function (val) {\n                var intVal = parseInt(val, 10);\n                return val ?\n                  (val.length < 3 ? (intVal > 68 ? 1900 + intVal : 2000 + intVal) : intVal) :\n                  (config._a[YEAR] == null ? moment().weekYear() : config._a[YEAR]);\n            };\n\n            w = config._w;\n            if (w.GG != null || w.W != null || w.E != null) {\n                temp = dayOfYearFromWeeks(fixYear(w.GG), w.W || 1, w.E, 4, 1);\n            }\n            else {\n                lang = getLangDefinition(config._l);\n                weekday = w.d != null ?  parseWeekday(w.d, lang) :\n                  (w.e != null ?  parseInt(w.e, 10) + lang._week.dow : 0);\n\n                week = parseInt(w.w, 10) || 1;\n\n                //if we're parsing 'd', then the low day numbers may be next week\n                if (w.d != null && weekday < lang._week.dow) {\n                    week++;\n                }\n\n                temp = dayOfYearFromWeeks(fixYear(w.gg), week, weekday, lang._week.doy, lang._week.dow);\n            }\n\n            config._a[YEAR] = temp.year;\n            config._dayOfYear = temp.dayOfYear;\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = config._a[YEAR] == null ? currentDate[YEAR] : config._a[YEAR];\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                config._pf._overflowDayOfYear = true;\n            }\n\n            date = makeUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        // add the offsets to the time to be parsed so that we can have a clean array for checking isValid\n        input[HOUR] += toInt((config._tzm || 0) / 60);\n        input[MINUTE] += toInt((config._tzm || 0) % 60);\n\n        config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);\n    }\n\n    function dateFromObject(config) {\n        var normalizedInput;\n\n        if (config._d) {\n            return;\n        }\n\n        normalizedInput = normalizeObjectUnits(config._i);\n        config._a = [\n            normalizedInput.year,\n            normalizedInput.month,\n            normalizedInput.day,\n            normalizedInput.hour,\n            normalizedInput.minute,\n            normalizedInput.second,\n            normalizedInput.millisecond\n        ];\n\n        dateFromConfig(config);\n    }\n\n    function currentDateArray(config) {\n        var now = new Date();\n        if (config._useUTC) {\n            return [\n                now.getUTCFullYear(),\n                now.getUTCMonth(),\n                now.getUTCDate()\n            ];\n        } else {\n            return [now.getFullYear(), now.getMonth(), now.getDate()];\n        }\n    }\n\n    // date from string and format string\n    function makeDateFromStringAndFormat(config) {\n\n        config._a = [];\n        config._pf.empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var lang = getLangDefinition(config._l),\n            string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, lang).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    config._pf.unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    config._pf.empty = false;\n                }\n                else {\n                    config._pf.unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                config._pf.unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        config._pf.charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            config._pf.unusedInput.push(string);\n        }\n\n        // handle am pm\n        if (config._isPm && config._a[HOUR] < 12) {\n            config._a[HOUR] += 12;\n        }\n        // if is 12 am, change hours to 0\n        if (config._isPm === false && config._a[HOUR] === 12) {\n            config._a[HOUR] = 0;\n        }\n\n        dateFromConfig(config);\n        checkOverflow(config);\n    }\n\n    function unescapeFormat(s) {\n        return s.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        });\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function regexpEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    // date from string and array of format strings\n    function makeDateFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            config._pf.invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = extend({}, config);\n            tempConfig._pf = defaultParsingFlags();\n            tempConfig._f = config._f[i];\n            makeDateFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += tempConfig._pf.charsLeftOver;\n\n            //or tokens\n            currentScore += tempConfig._pf.unusedTokens.length * 10;\n\n            tempConfig._pf.score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    // date from iso format\n    function makeDateFromString(config) {\n        var i, l,\n            string = config._i,\n            match = isoRegex.exec(string);\n\n        if (match) {\n            config._pf.iso = true;\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(string)) {\n                    // match[5] should be \"T\" or undefined\n                    config._f = isoDates[i][0] + (match[6] || \" \");\n                    break;\n                }\n            }\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    config._f += isoTimes[i][0];\n                    break;\n                }\n            }\n            if (string.match(parseTokenTimezone)) {\n                config._f += \"Z\";\n            }\n            makeDateFromStringAndFormat(config);\n        }\n        else {\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDateFromInput(config) {\n        var input = config._i,\n            matched = aspNetJsonRegex.exec(input);\n\n        if (input === undefined) {\n            config._d = new Date();\n        } else if (matched) {\n            config._d = new Date(+matched[1]);\n        } else if (typeof input === 'string') {\n            makeDateFromString(config);\n        } else if (isArray(input)) {\n            config._a = input.slice(0);\n            dateFromConfig(config);\n        } else if (isDate(input)) {\n            config._d = new Date(+input);\n        } else if (typeof(input) === 'object') {\n            dateFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDate(y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor doesn't accept years < 1970\n        if (y < 1970) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function makeUTCDate(y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n        if (y < 1970) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    function parseWeekday(input, language) {\n        if (typeof input === 'string') {\n            if (!isNaN(input)) {\n                input = parseInt(input, 10);\n            }\n            else {\n                input = language.weekdaysParse(input);\n                if (typeof input !== 'number') {\n                    return null;\n                }\n            }\n        }\n        return input;\n    }\n\n    /************************************\n        Relative Time\n    ************************************/\n\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, lang) {\n        return lang.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime(milliseconds, withoutSuffix, lang) {\n        var seconds = round(Math.abs(milliseconds) / 1000),\n            minutes = round(seconds / 60),\n            hours = round(minutes / 60),\n            days = round(hours / 24),\n            years = round(days / 365),\n            args = seconds < 45 && ['s', seconds] ||\n                minutes === 1 && ['m'] ||\n                minutes < 45 && ['mm', minutes] ||\n                hours === 1 && ['h'] ||\n                hours < 22 && ['hh', hours] ||\n                days === 1 && ['d'] ||\n                days <= 25 && ['dd', days] ||\n                days <= 45 && ['M'] ||\n                days < 345 && ['MM', round(days / 30)] ||\n                years === 1 && ['y'] || ['yy', years];\n        args[2] = withoutSuffix;\n        args[3] = milliseconds > 0;\n        args[4] = lang;\n        return substituteTimeAgo.apply({}, args);\n    }\n\n\n    /************************************\n        Week of Year\n    ************************************/\n\n\n    // firstDayOfWeek       0 = sun, 6 = sat\n    //                      the day of the week that starts the week\n    //                      (usually sunday or monday)\n    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n    //                      the first week is the week that contains the first\n    //                      of this day of the week\n    //                      (eg. ISO weeks use thursday (4))\n    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n            adjustedMoment;\n\n\n        if (daysToDayOfWeek > end) {\n            daysToDayOfWeek -= 7;\n        }\n\n        if (daysToDayOfWeek < end - 7) {\n            daysToDayOfWeek += 7;\n        }\n\n        adjustedMoment = moment(mom).add('d', daysToDayOfWeek);\n        return {\n            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n            year: adjustedMoment.year()\n        };\n    }\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n        var d = makeUTCDate(year, 0, 1).getUTCDay(), daysToAdd, dayOfYear;\n\n        weekday = weekday != null ? weekday : firstDayOfWeek;\n        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);\n        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;\n\n        return {\n            year: dayOfYear > 0 ? year : year - 1,\n            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear\n        };\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    function makeMoment(config) {\n        var input = config._i,\n            format = config._f;\n\n        if (input === null || (format === undefined && input === '')) {\n            return moment.invalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = getLangDefinition().preparse(input);\n        }\n\n        if (moment.isMoment(input)) {\n            config = cloneMoment(input);\n\n            config._d = new Date(+input._d);\n        } else if (format) {\n            if (isArray(format)) {\n                makeDateFromStringAndArray(config);\n            } else {\n                makeDateFromStringAndFormat(config);\n            }\n        } else {\n            makeDateFromInput(config);\n        }\n\n        return new Moment(config);\n    }\n\n    moment = function (input, format, lang, strict) {\n        var c;\n\n        if (typeof(lang) === \"boolean\") {\n            strict = lang;\n            lang = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._i = input;\n        c._f = format;\n        c._l = lang;\n        c._strict = strict;\n        c._isUTC = false;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c);\n    };\n\n    moment.suppressDeprecationWarnings = false;\n\n    moment.createFromInputFallback = deprecate(\n            \"moment construction falls back to js Date. This is \" +\n            \"discouraged and will be removed in upcoming major \" +\n            \"release. Please refer to \" +\n            \"https://github.com/moment/moment/issues/1407 for more info.\",\n            function (config) {\n        config._d = new Date(config._i);\n    });\n\n    // creating with utc\n    moment.utc = function (input, format, lang, strict) {\n        var c;\n\n        if (typeof(lang) === \"boolean\") {\n            strict = lang;\n            lang = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._useUTC = true;\n        c._isUTC = true;\n        c._l = lang;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c).utc();\n    };\n\n    // creating with unix timestamp (in seconds)\n    moment.unix = function (input) {\n        return moment(input * 1000);\n    };\n\n    // duration\n    moment.duration = function (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            parseIso;\n\n        if (moment.isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetTimeSpanJsonRegex.exec(input))) {\n            sign = (match[1] === \"-\") ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = isoDurationRegex.exec(input))) {\n            sign = (match[1] === \"-\") ? -1 : 1;\n            parseIso = function (inp) {\n                // We'd normally use ~~inp for this, but unfortunately it also\n                // converts floats to ints.\n                // inp may be undefined, so careful calling replace on it.\n                var res = inp && parseFloat(inp.replace(',', '.'));\n                // apply sign while we're at it\n                return (isNaN(res) ? 0 : res) * sign;\n            };\n            duration = {\n                y: parseIso(match[2]),\n                M: parseIso(match[3]),\n                d: parseIso(match[4]),\n                h: parseIso(match[5]),\n                m: parseIso(match[6]),\n                s: parseIso(match[7]),\n                w: parseIso(match[8])\n            };\n        }\n\n        ret = new Duration(duration);\n\n        if (moment.isDuration(input) && input.hasOwnProperty('_lang')) {\n            ret._lang = input._lang;\n        }\n\n        return ret;\n    };\n\n    // version number\n    moment.version = VERSION;\n\n    // default format\n    moment.defaultFormat = isoFormat;\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    moment.momentProperties = momentProperties;\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    moment.updateOffset = function () {};\n\n    // This function will load languages and then set the global language.  If\n    // no arguments are passed in, it will simply return the current global\n    // language key.\n    moment.lang = function (key, values) {\n        var r;\n        if (!key) {\n            return moment.fn._lang._abbr;\n        }\n        if (values) {\n            loadLang(normalizeLanguage(key), values);\n        } else if (values === null) {\n            unloadLang(key);\n            key = 'en';\n        } else if (!languages[key]) {\n            getLangDefinition(key);\n        }\n        r = moment.duration.fn._lang = moment.fn._lang = getLangDefinition(key);\n        return r._abbr;\n    };\n\n    // returns language data\n    moment.langData = function (key) {\n        if (key && key._lang && key._lang._abbr) {\n            key = key._lang._abbr;\n        }\n        return getLangDefinition(key);\n    };\n\n    // compare moment object\n    moment.isMoment = function (obj) {\n        return obj instanceof Moment ||\n            (obj != null &&  obj.hasOwnProperty('_isAMomentObject'));\n    };\n\n    // for typechecking Duration objects\n    moment.isDuration = function (obj) {\n        return obj instanceof Duration;\n    };\n\n    for (i = lists.length - 1; i >= 0; --i) {\n        makeList(lists[i]);\n    }\n\n    moment.normalizeUnits = function (units) {\n        return normalizeUnits(units);\n    };\n\n    moment.invalid = function (flags) {\n        var m = moment.utc(NaN);\n        if (flags != null) {\n            extend(m._pf, flags);\n        }\n        else {\n            m._pf.userInvalidated = true;\n        }\n\n        return m;\n    };\n\n    moment.parseZone = function () {\n        return moment.apply(null, arguments).parseZone();\n    };\n\n    moment.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    /************************************\n        Moment Prototype\n    ************************************/\n\n\n    extend(moment.fn = Moment.prototype, {\n\n        clone : function () {\n            return moment(this);\n        },\n\n        valueOf : function () {\n            return +this._d + ((this._offset || 0) * 60000);\n        },\n\n        unix : function () {\n            return Math.floor(+this / 1000);\n        },\n\n        toString : function () {\n            return this.clone().lang('en').format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\");\n        },\n\n        toDate : function () {\n            return this._offset ? new Date(+this) : this._d;\n        },\n\n        toISOString : function () {\n            var m = moment(this).utc();\n            if (0 < m.year() && m.year() <= 9999) {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            } else {\n                return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        },\n\n        toArray : function () {\n            var m = this;\n            return [\n                m.year(),\n                m.month(),\n                m.date(),\n                m.hours(),\n                m.minutes(),\n                m.seconds(),\n                m.milliseconds()\n            ];\n        },\n\n        isValid : function () {\n            return isValid(this);\n        },\n\n        isDSTShifted : function () {\n\n            if (this._a) {\n                return this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0;\n            }\n\n            return false;\n        },\n\n        parsingFlags : function () {\n            return extend({}, this._pf);\n        },\n\n        invalidAt: function () {\n            return this._pf.overflow;\n        },\n\n        utc : function () {\n            return this.zone(0);\n        },\n\n        local : function () {\n            this.zone(0);\n            this._isUTC = false;\n            return this;\n        },\n\n        format : function (inputString) {\n            var output = formatMoment(this, inputString || moment.defaultFormat);\n            return this.lang().postformat(output);\n        },\n\n        add : function (input, val) {\n            var dur;\n            // switch args to support add('s', 1) and add(1, 's')\n            if (typeof input === 'string') {\n                dur = moment.duration(+val, input);\n            } else {\n                dur = moment.duration(input, val);\n            }\n            addOrSubtractDurationFromMoment(this, dur, 1);\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur;\n            // switch args to support subtract('s', 1) and subtract(1, 's')\n            if (typeof input === 'string') {\n                dur = moment.duration(+val, input);\n            } else {\n                dur = moment.duration(input, val);\n            }\n            addOrSubtractDurationFromMoment(this, dur, -1);\n            return this;\n        },\n\n        diff : function (input, units, asFloat) {\n            var that = makeAs(input, this),\n                zoneDiff = (this.zone() - that.zone()) * 6e4,\n                diff, output;\n\n            units = normalizeUnits(units);\n\n            if (units === 'year' || units === 'month') {\n                // average number of days in the months in the given dates\n                diff = (this.daysInMonth() + that.daysInMonth()) * 432e5; // 24 * 60 * 60 * 1000 / 2\n                // difference in months\n                output = ((this.year() - that.year()) * 12) + (this.month() - that.month());\n                // adjust by taking difference in days, average number of days\n                // and dst in the given months.\n                output += ((this - moment(this).startOf('month')) -\n                        (that - moment(that).startOf('month'))) / diff;\n                // same as above but with zones, to negate all dst\n                output -= ((this.zone() - moment(this).startOf('month').zone()) -\n                        (that.zone() - moment(that).startOf('month').zone())) * 6e4 / diff;\n                if (units === 'year') {\n                    output = output / 12;\n                }\n            } else {\n                diff = (this - that);\n                output = units === 'second' ? diff / 1e3 : // 1000\n                    units === 'minute' ? diff / 6e4 : // 1000 * 60\n                    units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60\n                    units === 'day' ? (diff - zoneDiff) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                    units === 'week' ? (diff - zoneDiff) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                    diff;\n            }\n            return asFloat ? output : absRound(output);\n        },\n\n        from : function (time, withoutSuffix) {\n            return moment.duration(this.diff(time)).lang(this.lang()._abbr).humanize(!withoutSuffix);\n        },\n\n        fromNow : function (withoutSuffix) {\n            return this.from(moment(), withoutSuffix);\n        },\n\n        calendar : function () {\n            // We want to compare the start of today, vs this.\n            // Getting start-of-today depends on whether we're zone'd or not.\n            var sod = makeAs(moment(), this).startOf('day'),\n                diff = this.diff(sod, 'days', true),\n                format = diff < -6 ? 'sameElse' :\n                    diff < -1 ? 'lastWeek' :\n                    diff < 0 ? 'lastDay' :\n                    diff < 1 ? 'sameDay' :\n                    diff < 2 ? 'nextDay' :\n                    diff < 7 ? 'nextWeek' : 'sameElse';\n            return this.format(this.lang().calendar(format, this));\n        },\n\n        isLeapYear : function () {\n            return isLeapYear(this.year());\n        },\n\n        isDST : function () {\n            return (this.zone() < this.clone().month(0).zone() ||\n                this.zone() < this.clone().month(5).zone());\n        },\n\n        day : function (input) {\n            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n            if (input != null) {\n                input = parseWeekday(input, this.lang());\n                return this.add({ d : input - day });\n            } else {\n                return day;\n            }\n        },\n\n        month : makeAccessor('Month', true),\n\n        startOf: function (units) {\n            units = normalizeUnits(units);\n            // the following switch intentionally omits break keywords\n            // to utilize falling through the cases.\n            switch (units) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n                /* falls through */\n            }\n\n            // weeks are a special case\n            if (units === 'week') {\n                this.weekday(0);\n            } else if (units === 'isoWeek') {\n                this.isoWeekday(1);\n            }\n\n            // quarters are also special\n            if (units === 'quarter') {\n                this.month(Math.floor(this.month() / 3) * 3);\n            }\n\n            return this;\n        },\n\n        endOf: function (units) {\n            units = normalizeUnits(units);\n            return this.startOf(units).add((units === 'isoWeek' ? 'week' : units), 1).subtract('ms', 1);\n        },\n\n        isAfter: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) > +moment(input).startOf(units);\n        },\n\n        isBefore: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) < +moment(input).startOf(units);\n        },\n\n        isSame: function (input, units) {\n            units = units || 'ms';\n            return +this.clone().startOf(units) === +makeAs(input, this).startOf(units);\n        },\n\n        min: function (other) {\n            other = moment.apply(null, arguments);\n            return other < this ? this : other;\n        },\n\n        max: function (other) {\n            other = moment.apply(null, arguments);\n            return other > this ? this : other;\n        },\n\n        // keepTime = true means only change the timezone, without affecting\n        // the local hour. So 5:31:26 +0300 --[zone(2, true)]--> 5:31:26 +0200\n        // It is possible that 5:31:26 doesn't exist int zone +0200, so we\n        // adjust the time as needed, to be valid.\n        //\n        // Keeping the time actually adds/subtracts (one hour)\n        // from the actual represented time. That is why we call updateOffset\n        // a second time. In case it wants us to change the offset again\n        // _changeInProgress == true case, then we have to adjust, because\n        // there is no such time in the given timezone.\n        zone : function (input, keepTime) {\n            var offset = this._offset || 0;\n            if (input != null) {\n                if (typeof input === \"string\") {\n                    input = timezoneMinutesFromString(input);\n                }\n                if (Math.abs(input) < 16) {\n                    input = input * 60;\n                }\n                this._offset = input;\n                this._isUTC = true;\n                if (offset !== input) {\n                    if (!keepTime || this._changeInProgress) {\n                        addOrSubtractDurationFromMoment(this,\n                                moment.duration(offset - input, 'm'), 1, false);\n                    } else if (!this._changeInProgress) {\n                        this._changeInProgress = true;\n                        moment.updateOffset(this, true);\n                        this._changeInProgress = null;\n                    }\n                }\n            } else {\n                return this._isUTC ? offset : this._d.getTimezoneOffset();\n            }\n            return this;\n        },\n\n        zoneAbbr : function () {\n            return this._isUTC ? \"UTC\" : \"\";\n        },\n\n        zoneName : function () {\n            return this._isUTC ? \"Coordinated Universal Time\" : \"\";\n        },\n\n        parseZone : function () {\n            if (this._tzm) {\n                this.zone(this._tzm);\n            } else if (typeof this._i === 'string') {\n                this.zone(this._i);\n            }\n            return this;\n        },\n\n        hasAlignedHourOffset : function (input) {\n            if (!input) {\n                input = 0;\n            }\n            else {\n                input = moment(input).zone();\n            }\n\n            return (this.zone() - input) % 60 === 0;\n        },\n\n        daysInMonth : function () {\n            return daysInMonth(this.year(), this.month());\n        },\n\n        dayOfYear : function (input) {\n            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;\n            return input == null ? dayOfYear : this.add(\"d\", (input - dayOfYear));\n        },\n\n        quarter : function (input) {\n            return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n        },\n\n        weekYear : function (input) {\n            var year = weekOfYear(this, this.lang()._week.dow, this.lang()._week.doy).year;\n            return input == null ? year : this.add(\"y\", (input - year));\n        },\n\n        isoWeekYear : function (input) {\n            var year = weekOfYear(this, 1, 4).year;\n            return input == null ? year : this.add(\"y\", (input - year));\n        },\n\n        week : function (input) {\n            var week = this.lang().week(this);\n            return input == null ? week : this.add(\"d\", (input - week) * 7);\n        },\n\n        isoWeek : function (input) {\n            var week = weekOfYear(this, 1, 4).week;\n            return input == null ? week : this.add(\"d\", (input - week) * 7);\n        },\n\n        weekday : function (input) {\n            var weekday = (this.day() + 7 - this.lang()._week.dow) % 7;\n            return input == null ? weekday : this.add(\"d\", input - weekday);\n        },\n\n        isoWeekday : function (input) {\n            // behaves the same as moment#day except\n            // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n            // as a setter, sunday should belong to the previous week.\n            return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n        },\n\n        isoWeeksInYear : function () {\n            return weeksInYear(this.year(), 1, 4);\n        },\n\n        weeksInYear : function () {\n            var weekInfo = this._lang._week;\n            return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units]();\n        },\n\n        set : function (units, value) {\n            units = normalizeUnits(units);\n            if (typeof this[units] === 'function') {\n                this[units](value);\n            }\n            return this;\n        },\n\n        // If passed a language key, it will set the language for this\n        // instance.  Otherwise, it will return the language configuration\n        // variables for this instance.\n        lang : function (key) {\n            if (key === undefined) {\n                return this._lang;\n            } else {\n                this._lang = getLangDefinition(key);\n                return this;\n            }\n        }\n    });\n\n    function rawMonthSetter(mom, value) {\n        var dayOfMonth;\n\n        // TODO: Move this out of here!\n        if (typeof value === 'string') {\n            value = mom.lang().monthsParse(value);\n            // TODO: Another silent failure?\n            if (typeof value !== 'number') {\n                return mom;\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(),\n                daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function rawGetter(mom, unit) {\n        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n    }\n\n    function rawSetter(mom, unit, value) {\n        if (unit === 'Month') {\n            return rawMonthSetter(mom, value);\n        } else {\n            return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n\n    function makeAccessor(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                rawSetter(this, unit, value);\n                moment.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return rawGetter(this, unit);\n            }\n        };\n    }\n\n    moment.fn.millisecond = moment.fn.milliseconds = makeAccessor('Milliseconds', false);\n    moment.fn.second = moment.fn.seconds = makeAccessor('Seconds', false);\n    moment.fn.minute = moment.fn.minutes = makeAccessor('Minutes', false);\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    moment.fn.hour = moment.fn.hours = makeAccessor('Hours', true);\n    // moment.fn.month is defined separately\n    moment.fn.date = makeAccessor('Date', true);\n    moment.fn.dates = deprecate(\"dates accessor is deprecated. Use date instead.\", makeAccessor('Date', true));\n    moment.fn.year = makeAccessor('FullYear', true);\n    moment.fn.years = deprecate(\"years accessor is deprecated. Use year instead.\", makeAccessor('FullYear', true));\n\n    // add plural methods\n    moment.fn.days = moment.fn.day;\n    moment.fn.months = moment.fn.month;\n    moment.fn.weeks = moment.fn.week;\n    moment.fn.isoWeeks = moment.fn.isoWeek;\n    moment.fn.quarters = moment.fn.quarter;\n\n    // add aliased format methods\n    moment.fn.toJSON = moment.fn.toISOString;\n\n    /************************************\n        Duration Prototype\n    ************************************/\n\n\n    extend(moment.duration.fn = Duration.prototype, {\n\n        _bubble : function () {\n            var milliseconds = this._milliseconds,\n                days = this._days,\n                months = this._months,\n                data = this._data,\n                seconds, minutes, hours, years;\n\n            // The following code bubbles up values, see the tests for\n            // examples of what that means.\n            data.milliseconds = milliseconds % 1000;\n\n            seconds = absRound(milliseconds / 1000);\n            data.seconds = seconds % 60;\n\n            minutes = absRound(seconds / 60);\n            data.minutes = minutes % 60;\n\n            hours = absRound(minutes / 60);\n            data.hours = hours % 24;\n\n            days += absRound(hours / 24);\n            data.days = days % 30;\n\n            months += absRound(days / 30);\n            data.months = months % 12;\n\n            years = absRound(months / 12);\n            data.years = years;\n        },\n\n        weeks : function () {\n            return absRound(this.days() / 7);\n        },\n\n        valueOf : function () {\n            return this._milliseconds +\n              this._days * 864e5 +\n              (this._months % 12) * 2592e6 +\n              toInt(this._months / 12) * 31536e6;\n        },\n\n        humanize : function (withSuffix) {\n            var difference = +this,\n                output = relativeTime(difference, !withSuffix, this.lang());\n\n            if (withSuffix) {\n                output = this.lang().pastFuture(difference, output);\n            }\n\n            return this.lang().postformat(output);\n        },\n\n        add : function (input, val) {\n            // supports only 2.0-style add(1, 's') or add(moment)\n            var dur = moment.duration(input, val);\n\n            this._milliseconds += dur._milliseconds;\n            this._days += dur._days;\n            this._months += dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur = moment.duration(input, val);\n\n            this._milliseconds -= dur._milliseconds;\n            this._days -= dur._days;\n            this._months -= dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units.toLowerCase() + 's']();\n        },\n\n        as : function (units) {\n            units = normalizeUnits(units);\n            return this['as' + units.charAt(0).toUpperCase() + units.slice(1) + 's']();\n        },\n\n        lang : moment.fn.lang,\n\n        toIsoString : function () {\n            // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n            var years = Math.abs(this.years()),\n                months = Math.abs(this.months()),\n                days = Math.abs(this.days()),\n                hours = Math.abs(this.hours()),\n                minutes = Math.abs(this.minutes()),\n                seconds = Math.abs(this.seconds() + this.milliseconds() / 1000);\n\n            if (!this.asSeconds()) {\n                // this is the same as C#'s (Noda) and python (isodate)...\n                // but not other JS (goog.date)\n                return 'P0D';\n            }\n\n            return (this.asSeconds() < 0 ? '-' : '') +\n                'P' +\n                (years ? years + 'Y' : '') +\n                (months ? months + 'M' : '') +\n                (days ? days + 'D' : '') +\n                ((hours || minutes || seconds) ? 'T' : '') +\n                (hours ? hours + 'H' : '') +\n                (minutes ? minutes + 'M' : '') +\n                (seconds ? seconds + 'S' : '');\n        }\n    });\n\n    function makeDurationGetter(name) {\n        moment.duration.fn[name] = function () {\n            return this._data[name];\n        };\n    }\n\n    function makeDurationAsGetter(name, factor) {\n        moment.duration.fn['as' + name] = function () {\n            return +this / factor;\n        };\n    }\n\n    for (i in unitMillisecondFactors) {\n        if (unitMillisecondFactors.hasOwnProperty(i)) {\n            makeDurationAsGetter(i, unitMillisecondFactors[i]);\n            makeDurationGetter(i.toLowerCase());\n        }\n    }\n\n    makeDurationAsGetter('Weeks', 6048e5);\n    moment.duration.fn.asMonths = function () {\n        return (+this - this.years() * 31536e6) / 2592e6 + this.years() * 12;\n    };\n\n\n    /************************************\n        Default Lang\n    ************************************/\n\n\n    // Set default language, other languages will inherit from English.\n    moment.lang('en', {\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n    /* EMBED_LANGUAGES */\n\n    /************************************\n        Exposing Moment\n    ************************************/\n\n    function makeGlobal(shouldDeprecate) {\n        /*global ender:false */\n        if (typeof ender !== 'undefined') {\n            return;\n        }\n        oldGlobalMoment = globalScope.moment;\n        if (shouldDeprecate) {\n            globalScope.moment = deprecate(\n                    \"Accessing Moment through the global scope is \" +\n                    \"deprecated, and will be removed in an upcoming \" +\n                    \"release.\",\n                    moment);\n        } else {\n            globalScope.moment = moment;\n        }\n    }\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = moment;\n    } else if (typeof define === \"function\" && define.amd) {\n        define(\"moment\", ['require','exports','module'],function (require, exports, module) {\n            if (module.config && module.config() && module.config().noGlobal === true) {\n                // release the global variable\n                globalScope.moment = oldGlobalMoment;\n            }\n\n            return moment;\n        });\n        makeGlobal(true);\n    } else {\n        makeGlobal();\n    }\n}).call(this);\n\n","/** @module */\r\ndefine('helpers/modal-helper',['jquery', 'bootstrap/modal'], function ($) {\r\n    'use strict';\r\n\r\n    var bootstrapModal = {};\r\n\r\n    bootstrapModal.gnrtDom = function (labelName, elementDom, helpInline) {\r\n        var innerDiv = document.createElement('div');\r\n\r\n        $(innerDiv).addClass('form-group').append(\r\n            $('<label></label>').addClass('control-label col-md-3').html(labelName),\r\n            $('<div></div>').addClass(\"col-md-6\").append(elementDom),\r\n            $('<div></div>').addClass(\"col-md-3\").append($('<span></span>').html(helpInline || '').addClass('help-block'))\r\n        );\r\n\r\n        return innerDiv;\r\n    };\r\n    // ========== standard =======================\r\n    bootstrapModal.closeModalWindow = function () {\r\n        // Without removing inner data\r\n        $('#modal-standard-block').modal('hide');\r\n    };\r\n\r\n    bootstrapModal.openModalWindow = function (headerName, bodyDom, submitFunction) {\r\n        var $modalStandardBlock = $('#modal-standard-block');\r\n\r\n        $modalStandardBlock.find('.modal-body').html(bodyDom);\r\n        $modalStandardBlock.find('#modal-standard-form').off(\"submit\").on(\"submit\", function () {\r\n            submitFunction();\r\n            return false;\r\n        });\r\n\r\n        $modalStandardBlock.find('.modal-close').off(\"click\").on(\"click\", bootstrapModal.closeModalWindow);\r\n\r\n        $modalStandardBlock.find('.modal-title').html(headerName);\r\n        $modalStandardBlock.modal('show');\r\n    };\r\n\r\n    // =================== wide ===============================\r\n    bootstrapModal.closeModalWideWindow = function () {\r\n        $('#modal-wide-block').modal('hide');\r\n    };\r\n\r\n    bootstrapModal.openModalWideWindow = function (bodyDom, submitFunction, tmpTitle) {\r\n        var $modalWideBlock = $('#modal-wide-block');\r\n        $modalWideBlock.find('.modal-body').html(bodyDom);\r\n        $modalWideBlock.find('.modal-ok').off('click').on('click', function () {\r\n            submitFunction();\r\n            return false;\r\n        });\r\n        \r\n        $modalWideBlock.find('.modal-title').html(tmpTitle);\r\n\r\n        $modalWideBlock.find('.modal-close').off('click').on('click', bootstrapModal.closeModalWideWindow);\r\n\r\n        $modalWideBlock.modal('show');\r\n    };\r\n\r\n    bootstrapModal.openModalPanzoomWindow = function (imgSrc) {\r\n        var $modalBlock = $('#modal-panzoom-block');\r\n        $modalBlock.find('img').attr('src', imgSrc);\r\n        $modalBlock.find('.btn-modal-close').off('click').on('click', function () {\r\n            $modalBlock.modal('hide');\r\n        });\r\n\r\n        $modalBlock.find('.panzoom-reset').click();\r\n\r\n        $modalBlock.modal('show');\r\n    };\r\n\r\n    return bootstrapModal;\r\n});\n","/*!\n * jQuery UI Widget 1.10.4+amd\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2014 jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n *\n * http://api.jqueryui.com/jQuery.widget/\n */\n\n(function (factory) {\n    if (typeof define === \"function\" && define.amd) {\n        // Register as an anonymous AMD module:\n        define('jquery.ui.widget',[\"jquery\"], factory);\n    } else {\n        // Browser globals:\n        factory(jQuery);\n    }\n}(function( $, undefined ) {\n\nvar uuid = 0,\n\tslice = Array.prototype.slice,\n\t_cleanData = $.cleanData;\n$.cleanData = function( elems ) {\n\tfor ( var i = 0, elem; (elem = elems[i]) != null; i++ ) {\n\t\ttry {\n\t\t\t$( elem ).triggerHandler( \"remove\" );\n\t\t// http://bugs.jquery.com/ticket/8235\n\t\t} catch( e ) {}\n\t}\n\t_cleanData( elems );\n};\n\n$.widget = function( name, base, prototype ) {\n\tvar fullName, existingConstructor, constructor, basePrototype,\n\t\t// proxiedPrototype allows the provided prototype to remain unmodified\n\t\t// so that it can be used as a mixin for multiple widgets (#8876)\n\t\tproxiedPrototype = {},\n\t\tnamespace = name.split( \".\" )[ 0 ];\n\n\tname = name.split( \".\" )[ 1 ];\n\tfullName = namespace + \"-\" + name;\n\n\tif ( !prototype ) {\n\t\tprototype = base;\n\t\tbase = $.Widget;\n\t}\n\n\t// create selector for plugin\n\t$.expr[ \":\" ][ fullName.toLowerCase() ] = function( elem ) {\n\t\treturn !!$.data( elem, fullName );\n\t};\n\n\t$[ namespace ] = $[ namespace ] || {};\n\texistingConstructor = $[ namespace ][ name ];\n\tconstructor = $[ namespace ][ name ] = function( options, element ) {\n\t\t// allow instantiation without \"new\" keyword\n\t\tif ( !this._createWidget ) {\n\t\t\treturn new constructor( options, element );\n\t\t}\n\n\t\t// allow instantiation without initializing for simple inheritance\n\t\t// must use \"new\" keyword (the code above always passes args)\n\t\tif ( arguments.length ) {\n\t\t\tthis._createWidget( options, element );\n\t\t}\n\t};\n\t// extend with the existing constructor to carry over any static properties\n\t$.extend( constructor, existingConstructor, {\n\t\tversion: prototype.version,\n\t\t// copy the object used to create the prototype in case we need to\n\t\t// redefine the widget later\n\t\t_proto: $.extend( {}, prototype ),\n\t\t// track widgets that inherit from this widget in case this widget is\n\t\t// redefined after a widget inherits from it\n\t\t_childConstructors: []\n\t});\n\n\tbasePrototype = new base();\n\t// we need to make the options hash a property directly on the new instance\n\t// otherwise we'll modify the options hash on the prototype that we're\n\t// inheriting from\n\tbasePrototype.options = $.widget.extend( {}, basePrototype.options );\n\t$.each( prototype, function( prop, value ) {\n\t\tif ( !$.isFunction( value ) ) {\n\t\t\tproxiedPrototype[ prop ] = value;\n\t\t\treturn;\n\t\t}\n\t\tproxiedPrototype[ prop ] = (function() {\n\t\t\tvar _super = function() {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, arguments );\n\t\t\t\t},\n\t\t\t\t_superApply = function( args ) {\n\t\t\t\t\treturn base.prototype[ prop ].apply( this, args );\n\t\t\t\t};\n\t\t\treturn function() {\n\t\t\t\tvar __super = this._super,\n\t\t\t\t\t__superApply = this._superApply,\n\t\t\t\t\treturnValue;\n\n\t\t\t\tthis._super = _super;\n\t\t\t\tthis._superApply = _superApply;\n\n\t\t\t\treturnValue = value.apply( this, arguments );\n\n\t\t\t\tthis._super = __super;\n\t\t\t\tthis._superApply = __superApply;\n\n\t\t\t\treturn returnValue;\n\t\t\t};\n\t\t})();\n\t});\n\tconstructor.prototype = $.widget.extend( basePrototype, {\n\t\t// TODO: remove support for widgetEventPrefix\n\t\t// always use the name + a colon as the prefix, e.g., draggable:start\n\t\t// don't prefix for widgets that aren't DOM-based\n\t\twidgetEventPrefix: existingConstructor ? (basePrototype.widgetEventPrefix || name) : name\n\t}, proxiedPrototype, {\n\t\tconstructor: constructor,\n\t\tnamespace: namespace,\n\t\twidgetName: name,\n\t\twidgetFullName: fullName\n\t});\n\n\t// If this widget is being redefined then we need to find all widgets that\n\t// are inheriting from it and redefine all of them so that they inherit from\n\t// the new version of this widget. We're essentially trying to replace one\n\t// level in the prototype chain.\n\tif ( existingConstructor ) {\n\t\t$.each( existingConstructor._childConstructors, function( i, child ) {\n\t\t\tvar childPrototype = child.prototype;\n\n\t\t\t// redefine the child widget using the same prototype that was\n\t\t\t// originally used, but inherit from the new version of the base\n\t\t\t$.widget( childPrototype.namespace + \".\" + childPrototype.widgetName, constructor, child._proto );\n\t\t});\n\t\t// remove the list of existing child constructors from the old constructor\n\t\t// so the old child constructors can be garbage collected\n\t\tdelete existingConstructor._childConstructors;\n\t} else {\n\t\tbase._childConstructors.push( constructor );\n\t}\n\n\t$.widget.bridge( name, constructor );\n};\n\n$.widget.extend = function( target ) {\n\tvar input = slice.call( arguments, 1 ),\n\t\tinputIndex = 0,\n\t\tinputLength = input.length,\n\t\tkey,\n\t\tvalue;\n\tfor ( ; inputIndex < inputLength; inputIndex++ ) {\n\t\tfor ( key in input[ inputIndex ] ) {\n\t\t\tvalue = input[ inputIndex ][ key ];\n\t\t\tif ( input[ inputIndex ].hasOwnProperty( key ) && value !== undefined ) {\n\t\t\t\t// Clone objects\n\t\t\t\tif ( $.isPlainObject( value ) ) {\n\t\t\t\t\ttarget[ key ] = $.isPlainObject( target[ key ] ) ?\n\t\t\t\t\t\t$.widget.extend( {}, target[ key ], value ) :\n\t\t\t\t\t\t// Don't extend strings, arrays, etc. with objects\n\t\t\t\t\t\t$.widget.extend( {}, value );\n\t\t\t\t// Copy everything else by reference\n\t\t\t\t} else {\n\t\t\t\t\ttarget[ key ] = value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn target;\n};\n\n$.widget.bridge = function( name, object ) {\n\tvar fullName = object.prototype.widgetFullName || name;\n\t$.fn[ name ] = function( options ) {\n\t\tvar isMethodCall = typeof options === \"string\",\n\t\t\targs = slice.call( arguments, 1 ),\n\t\t\treturnValue = this;\n\n\t\t// allow multiple hashes to be passed on init\n\t\toptions = !isMethodCall && args.length ?\n\t\t\t$.widget.extend.apply( null, [ options ].concat(args) ) :\n\t\t\toptions;\n\n\t\tif ( isMethodCall ) {\n\t\t\tthis.each(function() {\n\t\t\t\tvar methodValue,\n\t\t\t\t\tinstance = $.data( this, fullName );\n\t\t\t\tif ( !instance ) {\n\t\t\t\t\treturn $.error( \"cannot call methods on \" + name + \" prior to initialization; \" +\n\t\t\t\t\t\t\"attempted to call method '\" + options + \"'\" );\n\t\t\t\t}\n\t\t\t\tif ( !$.isFunction( instance[options] ) || options.charAt( 0 ) === \"_\" ) {\n\t\t\t\t\treturn $.error( \"no such method '\" + options + \"' for \" + name + \" widget instance\" );\n\t\t\t\t}\n\t\t\t\tmethodValue = instance[ options ].apply( instance, args );\n\t\t\t\tif ( methodValue !== instance && methodValue !== undefined ) {\n\t\t\t\t\treturnValue = methodValue && methodValue.jquery ?\n\t\t\t\t\t\treturnValue.pushStack( methodValue.get() ) :\n\t\t\t\t\t\tmethodValue;\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.each(function() {\n\t\t\t\tvar instance = $.data( this, fullName );\n\t\t\t\tif ( instance ) {\n\t\t\t\t\tinstance.option( options || {} )._init();\n\t\t\t\t} else {\n\t\t\t\t\t$.data( this, fullName, new object( options, this ) );\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\treturn returnValue;\n\t};\n};\n\n$.Widget = function( /* options, element */ ) {};\n$.Widget._childConstructors = [];\n\n$.Widget.prototype = {\n\twidgetName: \"widget\",\n\twidgetEventPrefix: \"\",\n\tdefaultElement: \"<div>\",\n\toptions: {\n\t\tdisabled: false,\n\n\t\t// callbacks\n\t\tcreate: null\n\t},\n\t_createWidget: function( options, element ) {\n\t\telement = $( element || this.defaultElement || this )[ 0 ];\n\t\tthis.element = $( element );\n\t\tthis.uuid = uuid++;\n\t\tthis.eventNamespace = \".\" + this.widgetName + this.uuid;\n\t\tthis.options = $.widget.extend( {},\n\t\t\tthis.options,\n\t\t\tthis._getCreateOptions(),\n\t\t\toptions );\n\n\t\tthis.bindings = $();\n\t\tthis.hoverable = $();\n\t\tthis.focusable = $();\n\n\t\tif ( element !== this ) {\n\t\t\t$.data( element, this.widgetFullName, this );\n\t\t\tthis._on( true, this.element, {\n\t\t\t\tremove: function( event ) {\n\t\t\t\t\tif ( event.target === element ) {\n\t\t\t\t\t\tthis.destroy();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.document = $( element.style ?\n\t\t\t\t// element within the document\n\t\t\t\telement.ownerDocument :\n\t\t\t\t// element is window or document\n\t\t\t\telement.document || element );\n\t\t\tthis.window = $( this.document[0].defaultView || this.document[0].parentWindow );\n\t\t}\n\n\t\tthis._create();\n\t\tthis._trigger( \"create\", null, this._getCreateEventData() );\n\t\tthis._init();\n\t},\n\t_getCreateOptions: $.noop,\n\t_getCreateEventData: $.noop,\n\t_create: $.noop,\n\t_init: $.noop,\n\n\tdestroy: function() {\n\t\tthis._destroy();\n\t\t// we can probably remove the unbind calls in 2.0\n\t\t// all event bindings should go through this._on()\n\t\tthis.element\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t// 1.9 BC for #7810\n\t\t\t// TODO remove dual storage\n\t\t\t.removeData( this.widgetName )\n\t\t\t.removeData( this.widgetFullName )\n\t\t\t// support: jquery <1.6.3\n\t\t\t// http://bugs.jquery.com/ticket/9413\n\t\t\t.removeData( $.camelCase( this.widgetFullName ) );\n\t\tthis.widget()\n\t\t\t.unbind( this.eventNamespace )\n\t\t\t.removeAttr( \"aria-disabled\" )\n\t\t\t.removeClass(\n\t\t\t\tthis.widgetFullName + \"-disabled \" +\n\t\t\t\t\"ui-state-disabled\" );\n\n\t\t// clean up events and states\n\t\tthis.bindings.unbind( this.eventNamespace );\n\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t},\n\t_destroy: $.noop,\n\n\twidget: function() {\n\t\treturn this.element;\n\t},\n\n\toption: function( key, value ) {\n\t\tvar options = key,\n\t\t\tparts,\n\t\t\tcurOption,\n\t\t\ti;\n\n\t\tif ( arguments.length === 0 ) {\n\t\t\t// don't return a reference to the internal hash\n\t\t\treturn $.widget.extend( {}, this.options );\n\t\t}\n\n\t\tif ( typeof key === \"string\" ) {\n\t\t\t// handle nested keys, e.g., \"foo.bar\" => { foo: { bar: ___ } }\n\t\t\toptions = {};\n\t\t\tparts = key.split( \".\" );\n\t\t\tkey = parts.shift();\n\t\t\tif ( parts.length ) {\n\t\t\t\tcurOption = options[ key ] = $.widget.extend( {}, this.options[ key ] );\n\t\t\t\tfor ( i = 0; i < parts.length - 1; i++ ) {\n\t\t\t\t\tcurOption[ parts[ i ] ] = curOption[ parts[ i ] ] || {};\n\t\t\t\t\tcurOption = curOption[ parts[ i ] ];\n\t\t\t\t}\n\t\t\t\tkey = parts.pop();\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn curOption[ key ] === undefined ? null : curOption[ key ];\n\t\t\t\t}\n\t\t\t\tcurOption[ key ] = value;\n\t\t\t} else {\n\t\t\t\tif ( arguments.length === 1 ) {\n\t\t\t\t\treturn this.options[ key ] === undefined ? null : this.options[ key ];\n\t\t\t\t}\n\t\t\t\toptions[ key ] = value;\n\t\t\t}\n\t\t}\n\n\t\tthis._setOptions( options );\n\n\t\treturn this;\n\t},\n\t_setOptions: function( options ) {\n\t\tvar key;\n\n\t\tfor ( key in options ) {\n\t\t\tthis._setOption( key, options[ key ] );\n\t\t}\n\n\t\treturn this;\n\t},\n\t_setOption: function( key, value ) {\n\t\tthis.options[ key ] = value;\n\n\t\tif ( key === \"disabled\" ) {\n\t\t\tthis.widget()\n\t\t\t\t.toggleClass( this.widgetFullName + \"-disabled ui-state-disabled\", !!value )\n\t\t\t\t.attr( \"aria-disabled\", value );\n\t\t\tthis.hoverable.removeClass( \"ui-state-hover\" );\n\t\t\tthis.focusable.removeClass( \"ui-state-focus\" );\n\t\t}\n\n\t\treturn this;\n\t},\n\n\tenable: function() {\n\t\treturn this._setOption( \"disabled\", false );\n\t},\n\tdisable: function() {\n\t\treturn this._setOption( \"disabled\", true );\n\t},\n\n\t_on: function( suppressDisabledCheck, element, handlers ) {\n\t\tvar delegateElement,\n\t\t\tinstance = this;\n\n\t\t// no suppressDisabledCheck flag, shuffle arguments\n\t\tif ( typeof suppressDisabledCheck !== \"boolean\" ) {\n\t\t\thandlers = element;\n\t\t\telement = suppressDisabledCheck;\n\t\t\tsuppressDisabledCheck = false;\n\t\t}\n\n\t\t// no element argument, shuffle and use this.element\n\t\tif ( !handlers ) {\n\t\t\thandlers = element;\n\t\t\telement = this.element;\n\t\t\tdelegateElement = this.widget();\n\t\t} else {\n\t\t\t// accept selectors, DOM elements\n\t\t\telement = delegateElement = $( element );\n\t\t\tthis.bindings = this.bindings.add( element );\n\t\t}\n\n\t\t$.each( handlers, function( event, handler ) {\n\t\t\tfunction handlerProxy() {\n\t\t\t\t// allow widgets to customize the disabled handling\n\t\t\t\t// - disabled as an array instead of boolean\n\t\t\t\t// - disabled class as method for disabling individual parts\n\t\t\t\tif ( !suppressDisabledCheck &&\n\t\t\t\t\t\t( instance.options.disabled === true ||\n\t\t\t\t\t\t\t$( this ).hasClass( \"ui-state-disabled\" ) ) ) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t\t.apply( instance, arguments );\n\t\t\t}\n\n\t\t\t// copy the guid so direct unbinding works\n\t\t\tif ( typeof handler !== \"string\" ) {\n\t\t\t\thandlerProxy.guid = handler.guid =\n\t\t\t\t\thandler.guid || handlerProxy.guid || $.guid++;\n\t\t\t}\n\n\t\t\tvar match = event.match( /^(\\w+)\\s*(.*)$/ ),\n\t\t\t\teventName = match[1] + instance.eventNamespace,\n\t\t\t\tselector = match[2];\n\t\t\tif ( selector ) {\n\t\t\t\tdelegateElement.delegate( selector, eventName, handlerProxy );\n\t\t\t} else {\n\t\t\t\telement.bind( eventName, handlerProxy );\n\t\t\t}\n\t\t});\n\t},\n\n\t_off: function( element, eventName ) {\n\t\teventName = (eventName || \"\").split( \" \" ).join( this.eventNamespace + \" \" ) + this.eventNamespace;\n\t\telement.unbind( eventName ).undelegate( eventName );\n\t},\n\n\t_delay: function( handler, delay ) {\n\t\tfunction handlerProxy() {\n\t\t\treturn ( typeof handler === \"string\" ? instance[ handler ] : handler )\n\t\t\t\t.apply( instance, arguments );\n\t\t}\n\t\tvar instance = this;\n\t\treturn setTimeout( handlerProxy, delay || 0 );\n\t},\n\n\t_hoverable: function( element ) {\n\t\tthis.hoverable = this.hoverable.add( element );\n\t\tthis._on( element, {\n\t\t\tmouseenter: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-hover\" );\n\t\t\t},\n\t\t\tmouseleave: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-hover\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_focusable: function( element ) {\n\t\tthis.focusable = this.focusable.add( element );\n\t\tthis._on( element, {\n\t\t\tfocusin: function( event ) {\n\t\t\t\t$( event.currentTarget ).addClass( \"ui-state-focus\" );\n\t\t\t},\n\t\t\tfocusout: function( event ) {\n\t\t\t\t$( event.currentTarget ).removeClass( \"ui-state-focus\" );\n\t\t\t}\n\t\t});\n\t},\n\n\t_trigger: function( type, event, data ) {\n\t\tvar prop, orig,\n\t\t\tcallback = this.options[ type ];\n\n\t\tdata = data || {};\n\t\tevent = $.Event( event );\n\t\tevent.type = ( type === this.widgetEventPrefix ?\n\t\t\ttype :\n\t\t\tthis.widgetEventPrefix + type ).toLowerCase();\n\t\t// the original event may come from any element\n\t\t// so we need to reset the target on the new event\n\t\tevent.target = this.element[ 0 ];\n\n\t\t// copy original event properties over to the new event\n\t\torig = event.originalEvent;\n\t\tif ( orig ) {\n\t\t\tfor ( prop in orig ) {\n\t\t\t\tif ( !( prop in event ) ) {\n\t\t\t\t\tevent[ prop ] = orig[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tthis.element.trigger( event, data );\n\t\treturn !( $.isFunction( callback ) &&\n\t\t\tcallback.apply( this.element[0], [ event ].concat( data ) ) === false ||\n\t\t\tevent.isDefaultPrevented() );\n\t}\n};\n\n$.each( { show: \"fadeIn\", hide: \"fadeOut\" }, function( method, defaultEffect ) {\n\t$.Widget.prototype[ \"_\" + method ] = function( element, options, callback ) {\n\t\tif ( typeof options === \"string\" ) {\n\t\t\toptions = { effect: options };\n\t\t}\n\t\tvar hasOptions,\n\t\t\teffectName = !options ?\n\t\t\t\tmethod :\n\t\t\t\toptions === true || typeof options === \"number\" ?\n\t\t\t\t\tdefaultEffect :\n\t\t\t\t\toptions.effect || defaultEffect;\n\t\toptions = options || {};\n\t\tif ( typeof options === \"number\" ) {\n\t\t\toptions = { duration: options };\n\t\t}\n\t\thasOptions = !$.isEmptyObject( options );\n\t\toptions.complete = callback;\n\t\tif ( options.delay ) {\n\t\t\telement.delay( options.delay );\n\t\t}\n\t\tif ( hasOptions && $.effects && $.effects.effect[ effectName ] ) {\n\t\t\telement[ method ]( options );\n\t\t} else if ( effectName !== method && element[ effectName ] ) {\n\t\t\telement[ effectName ]( options.duration, options.easing, callback );\n\t\t} else {\n\t\t\telement.queue(function( next ) {\n\t\t\t\t$( this )[ method ]();\n\t\t\t\tif ( callback ) {\n\t\t\t\t\tcallback.call( element[ 0 ] );\n\t\t\t\t}\n\t\t\t\tnext();\n\t\t\t});\n\t\t}\n\t};\n});\n\n}));\n\n","/*\n * jQuery File Upload Plugin 5.40.1\n * https://github.com/blueimp/jQuery-File-Upload\n *\n * Copyright 2010, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * http://www.opensource.org/licenses/MIT\n */\n\n/* jshint nomen:false */\n/* global define, window, document, location, Blob, FormData */\n\n(function (factory) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        // Register as an anonymous AMD module:\n        define('jquery.fileupload',[\n            'jquery',\n            'jquery.ui.widget'\n        ], factory);\n    } else {\n        // Browser globals:\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    // Detect file input support, based on\n    // http://viljamis.com/blog/2012/file-upload-support-on-mobile/\n    $.support.fileInput = !(new RegExp(\n        // Handle devices which give false positives for the feature detection:\n        '(Android (1\\\\.[0156]|2\\\\.[01]))' +\n            '|(Windows Phone (OS 7|8\\\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)' +\n            '|(w(eb)?OSBrowser)|(webOS)' +\n            '|(Kindle/(1\\\\.0|2\\\\.[05]|3\\\\.0))'\n    ).test(window.navigator.userAgent) ||\n        // Feature detection for all other devices:\n        $('<input type=\"file\">').prop('disabled'));\n\n    // The FileReader API is not actually used, but works as feature detection,\n    // as some Safari versions (5?) support XHR file uploads via the FormData API,\n    // but not non-multipart XHR file uploads.\n    // window.XMLHttpRequestUpload is not available on IE10, so we check for\n    // window.ProgressEvent instead to detect XHR2 file upload capability:\n    $.support.xhrFileUpload = !!(window.ProgressEvent && window.FileReader);\n    $.support.xhrFormDataFileUpload = !!window.FormData;\n\n    // Detect support for Blob slicing (required for chunked uploads):\n    $.support.blobSlice = window.Blob && (Blob.prototype.slice ||\n        Blob.prototype.webkitSlice || Blob.prototype.mozSlice);\n\n    // The fileupload widget listens for change events on file input fields defined\n    // via fileInput setting and paste or drop events of the given dropZone.\n    // In addition to the default jQuery Widget methods, the fileupload widget\n    // exposes the \"add\" and \"send\" methods, to add or directly send files using\n    // the fileupload API.\n    // By default, files added via file input selection, paste, drag & drop or\n    // \"add\" method are uploaded immediately, but it is possible to override\n    // the \"add\" callback option to queue file uploads.\n    $.widget('blueimp.fileupload', {\n\n        options: {\n            // The drop target element(s), by the default the complete document.\n            // Set to null to disable drag & drop support:\n            dropZone: $(document),\n            // The paste target element(s), by the default the complete document.\n            // Set to null to disable paste support:\n            pasteZone: $(document),\n            // The file input field(s), that are listened to for change events.\n            // If undefined, it is set to the file input fields inside\n            // of the widget element on plugin initialization.\n            // Set to null to disable the change listener.\n            fileInput: undefined,\n            // By default, the file input field is replaced with a clone after\n            // each input field change event. This is required for iframe transport\n            // queues and allows change events to be fired for the same file\n            // selection, but can be disabled by setting the following option to false:\n            replaceFileInput: true,\n            // The parameter name for the file form data (the request argument name).\n            // If undefined or empty, the name property of the file input field is\n            // used, or \"files[]\" if the file input name property is also empty,\n            // can be a string or an array of strings:\n            paramName: undefined,\n            // By default, each file of a selection is uploaded using an individual\n            // request for XHR type uploads. Set to false to upload file\n            // selections in one request each:\n            singleFileUploads: true,\n            // To limit the number of files uploaded with one XHR request,\n            // set the following option to an integer greater than 0:\n            limitMultiFileUploads: undefined,\n            // The following option limits the number of files uploaded with one\n            // XHR request to keep the request size under or equal to the defined\n            // limit in bytes:\n            limitMultiFileUploadSize: undefined,\n            // Multipart file uploads add a number of bytes to each uploaded file,\n            // therefore the following option adds an overhead for each file used\n            // in the limitMultiFileUploadSize configuration:\n            limitMultiFileUploadSizeOverhead: 512,\n            // Set the following option to true to issue all file upload requests\n            // in a sequential order:\n            sequentialUploads: false,\n            // To limit the number of concurrent uploads,\n            // set the following option to an integer greater than 0:\n            limitConcurrentUploads: undefined,\n            // Set the following option to true to force iframe transport uploads:\n            forceIframeTransport: false,\n            // Set the following option to the location of a redirect url on the\n            // origin server, for cross-domain iframe transport uploads:\n            redirect: undefined,\n            // The parameter name for the redirect url, sent as part of the form\n            // data and set to 'redirect' if this option is empty:\n            redirectParamName: undefined,\n            // Set the following option to the location of a postMessage window,\n            // to enable postMessage transport uploads:\n            postMessage: undefined,\n            // By default, XHR file uploads are sent as multipart/form-data.\n            // The iframe transport is always using multipart/form-data.\n            // Set to false to enable non-multipart XHR uploads:\n            multipart: true,\n            // To upload large files in smaller chunks, set the following option\n            // to a preferred maximum chunk size. If set to 0, null or undefined,\n            // or the browser does not support the required Blob API, files will\n            // be uploaded as a whole.\n            maxChunkSize: undefined,\n            // When a non-multipart upload or a chunked multipart upload has been\n            // aborted, this option can be used to resume the upload by setting\n            // it to the size of the already uploaded bytes. This option is most\n            // useful when modifying the options object inside of the \"add\" or\n            // \"send\" callbacks, as the options are cloned for each file upload.\n            uploadedBytes: undefined,\n            // By default, failed (abort or error) file uploads are removed from the\n            // global progress calculation. Set the following option to false to\n            // prevent recalculating the global progress data:\n            recalculateProgress: true,\n            // Interval in milliseconds to calculate and trigger progress events:\n            progressInterval: 100,\n            // Interval in milliseconds to calculate progress bitrate:\n            bitrateInterval: 500,\n            // By default, uploads are started automatically when adding files:\n            autoUpload: true,\n\n            // Error and info messages:\n            messages: {\n                uploadedBytes: 'Uploaded bytes exceed file size'\n            },\n\n            // Translation function, gets the message key to be translated\n            // and an object with context specific data as arguments:\n            i18n: function (message, context) {\n                message = this.messages[message] || message.toString();\n                if (context) {\n                    $.each(context, function (key, value) {\n                        message = message.replace('{' + key + '}', value);\n                    });\n                }\n                return message;\n            },\n\n            // Additional form data to be sent along with the file uploads can be set\n            // using this option, which accepts an array of objects with name and\n            // value properties, a function returning such an array, a FormData\n            // object (for XHR file uploads), or a simple object.\n            // The form of the first fileInput is given as parameter to the function:\n            formData: function (form) {\n                return form.serializeArray();\n            },\n\n            // The add callback is invoked as soon as files are added to the fileupload\n            // widget (via file input selection, drag & drop, paste or add API call).\n            // If the singleFileUploads option is enabled, this callback will be\n            // called once for each file in the selection for XHR file uploads, else\n            // once for each file selection.\n            //\n            // The upload starts when the submit method is invoked on the data parameter.\n            // The data object contains a files property holding the added files\n            // and allows you to override plugin options as well as define ajax settings.\n            //\n            // Listeners for this callback can also be bound the following way:\n            // .bind('fileuploadadd', func);\n            //\n            // data.submit() returns a Promise object and allows to attach additional\n            // handlers using jQuery's Deferred callbacks:\n            // data.submit().done(func).fail(func).always(func);\n            add: function (e, data) {\n                if (e.isDefaultPrevented()) {\n                    return false;\n                }\n                if (data.autoUpload || (data.autoUpload !== false &&\n                        $(this).fileupload('option', 'autoUpload'))) {\n                    data.process().done(function () {\n                        data.submit();\n                    });\n                }\n            },\n\n            // Other callbacks:\n\n            // Callback for the submit event of each file upload:\n            // submit: function (e, data) {}, // .bind('fileuploadsubmit', func);\n\n            // Callback for the start of each file upload request:\n            // send: function (e, data) {}, // .bind('fileuploadsend', func);\n\n            // Callback for successful uploads:\n            // done: function (e, data) {}, // .bind('fileuploaddone', func);\n\n            // Callback for failed (abort or error) uploads:\n            // fail: function (e, data) {}, // .bind('fileuploadfail', func);\n\n            // Callback for completed (success, abort or error) requests:\n            // always: function (e, data) {}, // .bind('fileuploadalways', func);\n\n            // Callback for upload progress events:\n            // progress: function (e, data) {}, // .bind('fileuploadprogress', func);\n\n            // Callback for global upload progress events:\n            // progressall: function (e, data) {}, // .bind('fileuploadprogressall', func);\n\n            // Callback for uploads start, equivalent to the global ajaxStart event:\n            // start: function (e) {}, // .bind('fileuploadstart', func);\n\n            // Callback for uploads stop, equivalent to the global ajaxStop event:\n            // stop: function (e) {}, // .bind('fileuploadstop', func);\n\n            // Callback for change events of the fileInput(s):\n            // change: function (e, data) {}, // .bind('fileuploadchange', func);\n\n            // Callback for paste events to the pasteZone(s):\n            // paste: function (e, data) {}, // .bind('fileuploadpaste', func);\n\n            // Callback for drop events of the dropZone(s):\n            // drop: function (e, data) {}, // .bind('fileuploaddrop', func);\n\n            // Callback for dragover events of the dropZone(s):\n            // dragover: function (e) {}, // .bind('fileuploaddragover', func);\n\n            // Callback for the start of each chunk upload request:\n            // chunksend: function (e, data) {}, // .bind('fileuploadchunksend', func);\n\n            // Callback for successful chunk uploads:\n            // chunkdone: function (e, data) {}, // .bind('fileuploadchunkdone', func);\n\n            // Callback for failed (abort or error) chunk uploads:\n            // chunkfail: function (e, data) {}, // .bind('fileuploadchunkfail', func);\n\n            // Callback for completed (success, abort or error) chunk upload requests:\n            // chunkalways: function (e, data) {}, // .bind('fileuploadchunkalways', func);\n\n            // The plugin options are used as settings object for the ajax calls.\n            // The following are jQuery ajax settings required for the file uploads:\n            processData: false,\n            contentType: false,\n            cache: false\n        },\n\n        // A list of options that require reinitializing event listeners and/or\n        // special initialization code:\n        _specialOptions: [\n            'fileInput',\n            'dropZone',\n            'pasteZone',\n            'multipart',\n            'forceIframeTransport'\n        ],\n\n        _blobSlice: $.support.blobSlice && function () {\n            var slice = this.slice || this.webkitSlice || this.mozSlice;\n            return slice.apply(this, arguments);\n        },\n\n        _BitrateTimer: function () {\n            this.timestamp = ((Date.now) ? Date.now() : (new Date()).getTime());\n            this.loaded = 0;\n            this.bitrate = 0;\n            this.getBitrate = function (now, loaded, interval) {\n                var timeDiff = now - this.timestamp;\n                if (!this.bitrate || !interval || timeDiff > interval) {\n                    this.bitrate = (loaded - this.loaded) * (1000 / timeDiff) * 8;\n                    this.loaded = loaded;\n                    this.timestamp = now;\n                }\n                return this.bitrate;\n            };\n        },\n\n        _isXHRUpload: function (options) {\n            return !options.forceIframeTransport &&\n                ((!options.multipart && $.support.xhrFileUpload) ||\n                $.support.xhrFormDataFileUpload);\n        },\n\n        _getFormData: function (options) {\n            var formData;\n            if ($.type(options.formData) === 'function') {\n                return options.formData(options.form);\n            }\n            if ($.isArray(options.formData)) {\n                return options.formData;\n            }\n            if ($.type(options.formData) === 'object') {\n                formData = [];\n                $.each(options.formData, function (name, value) {\n                    formData.push({name: name, value: value});\n                });\n                return formData;\n            }\n            return [];\n        },\n\n        _getTotal: function (files) {\n            var total = 0;\n            $.each(files, function (index, file) {\n                total += file.size || 1;\n            });\n            return total;\n        },\n\n        _initProgressObject: function (obj) {\n            var progress = {\n                loaded: 0,\n                total: 0,\n                bitrate: 0\n            };\n            if (obj._progress) {\n                $.extend(obj._progress, progress);\n            } else {\n                obj._progress = progress;\n            }\n        },\n\n        _initResponseObject: function (obj) {\n            var prop;\n            if (obj._response) {\n                for (prop in obj._response) {\n                    if (obj._response.hasOwnProperty(prop)) {\n                        delete obj._response[prop];\n                    }\n                }\n            } else {\n                obj._response = {};\n            }\n        },\n\n        _onProgress: function (e, data) {\n            if (e.lengthComputable) {\n                var now = ((Date.now) ? Date.now() : (new Date()).getTime()),\n                    loaded;\n                if (data._time && data.progressInterval &&\n                        (now - data._time < data.progressInterval) &&\n                        e.loaded !== e.total) {\n                    return;\n                }\n                data._time = now;\n                loaded = Math.floor(\n                    e.loaded / e.total * (data.chunkSize || data._progress.total)\n                ) + (data.uploadedBytes || 0);\n                // Add the difference from the previously loaded state\n                // to the global loaded counter:\n                this._progress.loaded += (loaded - data._progress.loaded);\n                this._progress.bitrate = this._bitrateTimer.getBitrate(\n                    now,\n                    this._progress.loaded,\n                    data.bitrateInterval\n                );\n                data._progress.loaded = data.loaded = loaded;\n                data._progress.bitrate = data.bitrate = data._bitrateTimer.getBitrate(\n                    now,\n                    loaded,\n                    data.bitrateInterval\n                );\n                // Trigger a custom progress event with a total data property set\n                // to the file size(s) of the current upload and a loaded data\n                // property calculated accordingly:\n                this._trigger(\n                    'progress',\n                    $.Event('progress', {delegatedEvent: e}),\n                    data\n                );\n                // Trigger a global progress event for all current file uploads,\n                // including ajax calls queued for sequential file uploads:\n                this._trigger(\n                    'progressall',\n                    $.Event('progressall', {delegatedEvent: e}),\n                    this._progress\n                );\n            }\n        },\n\n        _initProgressListener: function (options) {\n            var that = this,\n                xhr = options.xhr ? options.xhr() : $.ajaxSettings.xhr();\n            // Accesss to the native XHR object is required to add event listeners\n            // for the upload progress event:\n            if (xhr.upload) {\n                $(xhr.upload).bind('progress', function (e) {\n                    var oe = e.originalEvent;\n                    // Make sure the progress event properties get copied over:\n                    e.lengthComputable = oe.lengthComputable;\n                    e.loaded = oe.loaded;\n                    e.total = oe.total;\n                    that._onProgress(e, options);\n                });\n                options.xhr = function () {\n                    return xhr;\n                };\n            }\n        },\n\n        _isInstanceOf: function (type, obj) {\n            // Cross-frame instanceof check\n            return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n        },\n\n        _initXHRData: function (options) {\n            var that = this,\n                formData,\n                file = options.files[0],\n                // Ignore non-multipart setting if not supported:\n                multipart = options.multipart || !$.support.xhrFileUpload,\n                paramName = $.type(options.paramName) === 'array' ?\n                    options.paramName[0] : options.paramName;\n            options.headers = $.extend({}, options.headers);\n            if (options.contentRange) {\n                options.headers['Content-Range'] = options.contentRange;\n            }\n            if (!multipart || options.blob || !this._isInstanceOf('File', file)) {\n                options.headers['Content-Disposition'] = 'attachment; filename=\"' +\n                    encodeURI(file.name) + '\"';\n            }\n            if (!multipart) {\n                options.contentType = file.type || 'application/octet-stream';\n                options.data = options.blob || file;\n            } else if ($.support.xhrFormDataFileUpload) {\n                if (options.postMessage) {\n                    // window.postMessage does not allow sending FormData\n                    // objects, so we just add the File/Blob objects to\n                    // the formData array and let the postMessage window\n                    // create the FormData object out of this array:\n                    formData = this._getFormData(options);\n                    if (options.blob) {\n                        formData.push({\n                            name: paramName,\n                            value: options.blob\n                        });\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            formData.push({\n                                name: ($.type(options.paramName) === 'array' &&\n                                    options.paramName[index]) || paramName,\n                                value: file\n                            });\n                        });\n                    }\n                } else {\n                    if (that._isInstanceOf('FormData', options.formData)) {\n                        formData = options.formData;\n                    } else {\n                        formData = new FormData();\n                        $.each(this._getFormData(options), function (index, field) {\n                            formData.append(field.name, field.value);\n                        });\n                    }\n                    if (options.blob) {\n                        formData.append(paramName, options.blob, file.name);\n                    } else {\n                        $.each(options.files, function (index, file) {\n                            // This check allows the tests to run with\n                            // dummy objects:\n                            if (that._isInstanceOf('File', file) ||\n                                    that._isInstanceOf('Blob', file)) {\n                                formData.append(\n                                    ($.type(options.paramName) === 'array' &&\n                                        options.paramName[index]) || paramName,\n                                    file,\n                                    file.uploadName || file.name\n                                );\n                            }\n                        });\n                    }\n                }\n                options.data = formData;\n            }\n            // Blob reference is not needed anymore, free memory:\n            options.blob = null;\n        },\n\n        _initIframeSettings: function (options) {\n            var targetHost = $('<a></a>').prop('href', options.url).prop('host');\n            // Setting the dataType to iframe enables the iframe transport:\n            options.dataType = 'iframe ' + (options.dataType || '');\n            // The iframe transport accepts a serialized array as form data:\n            options.formData = this._getFormData(options);\n            // Add redirect url to form data on cross-domain uploads:\n            if (options.redirect && targetHost && targetHost !== location.host) {\n                options.formData.push({\n                    name: options.redirectParamName || 'redirect',\n                    value: options.redirect\n                });\n            }\n        },\n\n        _initDataSettings: function (options) {\n            if (this._isXHRUpload(options)) {\n                if (!this._chunkedUpload(options, true)) {\n                    if (!options.data) {\n                        this._initXHRData(options);\n                    }\n                    this._initProgressListener(options);\n                }\n                if (options.postMessage) {\n                    // Setting the dataType to postmessage enables the\n                    // postMessage transport:\n                    options.dataType = 'postmessage ' + (options.dataType || '');\n                }\n            } else {\n                this._initIframeSettings(options);\n            }\n        },\n\n        _getParamName: function (options) {\n            var fileInput = $(options.fileInput),\n                paramName = options.paramName;\n            if (!paramName) {\n                paramName = [];\n                fileInput.each(function () {\n                    var input = $(this),\n                        name = input.prop('name') || 'files[]',\n                        i = (input.prop('files') || [1]).length;\n                    while (i) {\n                        paramName.push(name);\n                        i -= 1;\n                    }\n                });\n                if (!paramName.length) {\n                    paramName = [fileInput.prop('name') || 'files[]'];\n                }\n            } else if (!$.isArray(paramName)) {\n                paramName = [paramName];\n            }\n            return paramName;\n        },\n\n        _initFormSettings: function (options) {\n            // Retrieve missing options from the input field and the\n            // associated form, if available:\n            if (!options.form || !options.form.length) {\n                options.form = $(options.fileInput.prop('form'));\n                // If the given file input doesn't have an associated form,\n                // use the default widget file input's form:\n                if (!options.form.length) {\n                    options.form = $(this.options.fileInput.prop('form'));\n                }\n            }\n            options.paramName = this._getParamName(options);\n            if (!options.url) {\n                options.url = options.form.prop('action') || location.href;\n            }\n            // The HTTP request method must be \"POST\" or \"PUT\":\n            options.type = (options.type ||\n                ($.type(options.form.prop('method')) === 'string' &&\n                    options.form.prop('method')) || ''\n                ).toUpperCase();\n            if (options.type !== 'POST' && options.type !== 'PUT' &&\n                    options.type !== 'PATCH') {\n                options.type = 'POST';\n            }\n            if (!options.formAcceptCharset) {\n                options.formAcceptCharset = options.form.attr('accept-charset');\n            }\n        },\n\n        _getAJAXSettings: function (data) {\n            var options = $.extend({}, this.options, data);\n            this._initFormSettings(options);\n            this._initDataSettings(options);\n            return options;\n        },\n\n        // jQuery 1.6 doesn't provide .state(),\n        // while jQuery 1.8+ removed .isRejected() and .isResolved():\n        _getDeferredState: function (deferred) {\n            if (deferred.state) {\n                return deferred.state();\n            }\n            if (deferred.isResolved()) {\n                return 'resolved';\n            }\n            if (deferred.isRejected()) {\n                return 'rejected';\n            }\n            return 'pending';\n        },\n\n        // Maps jqXHR callbacks to the equivalent\n        // methods of the given Promise object:\n        _enhancePromise: function (promise) {\n            promise.success = promise.done;\n            promise.error = promise.fail;\n            promise.complete = promise.always;\n            return promise;\n        },\n\n        // Creates and returns a Promise object enhanced with\n        // the jqXHR methods abort, success, error and complete:\n        _getXHRPromise: function (resolveOrReject, context, args) {\n            var dfd = $.Deferred(),\n                promise = dfd.promise();\n            context = context || this.options.context || promise;\n            if (resolveOrReject === true) {\n                dfd.resolveWith(context, args);\n            } else if (resolveOrReject === false) {\n                dfd.rejectWith(context, args);\n            }\n            promise.abort = dfd.promise;\n            return this._enhancePromise(promise);\n        },\n\n        // Adds convenience methods to the data callback argument:\n        _addConvenienceMethods: function (e, data) {\n            var that = this,\n                getPromise = function (args) {\n                    return $.Deferred().resolveWith(that, args).promise();\n                };\n            data.process = function (resolveFunc, rejectFunc) {\n                if (resolveFunc || rejectFunc) {\n                    data._processQueue = this._processQueue =\n                        (this._processQueue || getPromise([this])).pipe(\n                            function () {\n                                if (data.errorThrown) {\n                                    return $.Deferred()\n                                        .rejectWith(that, [data]).promise();\n                                }\n                                return getPromise(arguments);\n                            }\n                        ).pipe(resolveFunc, rejectFunc);\n                }\n                return this._processQueue || getPromise([this]);\n            };\n            data.submit = function () {\n                if (this.state() !== 'pending') {\n                    data.jqXHR = this.jqXHR =\n                        (that._trigger(\n                            'submit',\n                            $.Event('submit', {delegatedEvent: e}),\n                            this\n                        ) !== false) && that._onSend(e, this);\n                }\n                return this.jqXHR || that._getXHRPromise();\n            };\n            data.abort = function () {\n                if (this.jqXHR) {\n                    return this.jqXHR.abort();\n                }\n                this.errorThrown = 'abort';\n                that._trigger('fail', null, this);\n                return that._getXHRPromise(false);\n            };\n            data.state = function () {\n                if (this.jqXHR) {\n                    return that._getDeferredState(this.jqXHR);\n                }\n                if (this._processQueue) {\n                    return that._getDeferredState(this._processQueue);\n                }\n            };\n            data.processing = function () {\n                return !this.jqXHR && this._processQueue && that\n                    ._getDeferredState(this._processQueue) === 'pending';\n            };\n            data.progress = function () {\n                return this._progress;\n            };\n            data.response = function () {\n                return this._response;\n            };\n        },\n\n        // Parses the Range header from the server response\n        // and returns the uploaded bytes:\n        _getUploadedBytes: function (jqXHR) {\n            var range = jqXHR.getResponseHeader('Range'),\n                parts = range && range.split('-'),\n                upperBytesPos = parts && parts.length > 1 &&\n                    parseInt(parts[1], 10);\n            return upperBytesPos && upperBytesPos + 1;\n        },\n\n        // Uploads a file in multiple, sequential requests\n        // by splitting the file up in multiple blob chunks.\n        // If the second parameter is true, only tests if the file\n        // should be uploaded in chunks, but does not invoke any\n        // upload requests:\n        _chunkedUpload: function (options, testOnly) {\n            options.uploadedBytes = options.uploadedBytes || 0;\n            var that = this,\n                file = options.files[0],\n                fs = file.size,\n                ub = options.uploadedBytes,\n                mcs = options.maxChunkSize || fs,\n                slice = this._blobSlice,\n                dfd = $.Deferred(),\n                promise = dfd.promise(),\n                jqXHR,\n                upload;\n            if (!(this._isXHRUpload(options) && slice && (ub || mcs < fs)) ||\n                    options.data) {\n                return false;\n            }\n            if (testOnly) {\n                return true;\n            }\n            if (ub >= fs) {\n                file.error = options.i18n('uploadedBytes');\n                return this._getXHRPromise(\n                    false,\n                    options.context,\n                    [null, 'error', file.error]\n                );\n            }\n            // The chunk upload method:\n            upload = function () {\n                // Clone the options object for each chunk upload:\n                var o = $.extend({}, options),\n                    currentLoaded = o._progress.loaded;\n                o.blob = slice.call(\n                    file,\n                    ub,\n                    ub + mcs,\n                    file.type\n                );\n                // Store the current chunk size, as the blob itself\n                // will be dereferenced after data processing:\n                o.chunkSize = o.blob.size;\n                // Expose the chunk bytes position range:\n                o.contentRange = 'bytes ' + ub + '-' +\n                    (ub + o.chunkSize - 1) + '/' + fs;\n                // Process the upload data (the blob and potential form data):\n                that._initXHRData(o);\n                // Add progress listeners for this chunk upload:\n                that._initProgressListener(o);\n                jqXHR = ((that._trigger('chunksend', null, o) !== false && $.ajax(o)) ||\n                        that._getXHRPromise(false, o.context))\n                    .done(function (result, textStatus, jqXHR) {\n                        ub = that._getUploadedBytes(jqXHR) ||\n                            (ub + o.chunkSize);\n                        // Create a progress event if no final progress event\n                        // with loaded equaling total has been triggered\n                        // for this chunk:\n                        if (currentLoaded + o.chunkSize - o._progress.loaded) {\n                            that._onProgress($.Event('progress', {\n                                lengthComputable: true,\n                                loaded: ub - o.uploadedBytes,\n                                total: ub - o.uploadedBytes\n                            }), o);\n                        }\n                        options.uploadedBytes = o.uploadedBytes = ub;\n                        o.result = result;\n                        o.textStatus = textStatus;\n                        o.jqXHR = jqXHR;\n                        that._trigger('chunkdone', null, o);\n                        that._trigger('chunkalways', null, o);\n                        if (ub < fs) {\n                            // File upload not yet complete,\n                            // continue with the next chunk:\n                            upload();\n                        } else {\n                            dfd.resolveWith(\n                                o.context,\n                                [result, textStatus, jqXHR]\n                            );\n                        }\n                    })\n                    .fail(function (jqXHR, textStatus, errorThrown) {\n                        o.jqXHR = jqXHR;\n                        o.textStatus = textStatus;\n                        o.errorThrown = errorThrown;\n                        that._trigger('chunkfail', null, o);\n                        that._trigger('chunkalways', null, o);\n                        dfd.rejectWith(\n                            o.context,\n                            [jqXHR, textStatus, errorThrown]\n                        );\n                    });\n            };\n            this._enhancePromise(promise);\n            promise.abort = function () {\n                return jqXHR.abort();\n            };\n            upload();\n            return promise;\n        },\n\n        _beforeSend: function (e, data) {\n            if (this._active === 0) {\n                // the start callback is triggered when an upload starts\n                // and no other uploads are currently running,\n                // equivalent to the global ajaxStart event:\n                this._trigger('start');\n                // Set timer for global bitrate progress calculation:\n                this._bitrateTimer = new this._BitrateTimer();\n                // Reset the global progress values:\n                this._progress.loaded = this._progress.total = 0;\n                this._progress.bitrate = 0;\n            }\n            // Make sure the container objects for the .response() and\n            // .progress() methods on the data object are available\n            // and reset to their initial state:\n            this._initResponseObject(data);\n            this._initProgressObject(data);\n            data._progress.loaded = data.loaded = data.uploadedBytes || 0;\n            data._progress.total = data.total = this._getTotal(data.files) || 1;\n            data._progress.bitrate = data.bitrate = 0;\n            this._active += 1;\n            // Initialize the global progress values:\n            this._progress.loaded += data.loaded;\n            this._progress.total += data.total;\n        },\n\n        _onDone: function (result, textStatus, jqXHR, options) {\n            var total = options._progress.total,\n                response = options._response;\n            if (options._progress.loaded < total) {\n                // Create a progress event if no final progress event\n                // with loaded equaling total has been triggered:\n                this._onProgress($.Event('progress', {\n                    lengthComputable: true,\n                    loaded: total,\n                    total: total\n                }), options);\n            }\n            response.result = options.result = result;\n            response.textStatus = options.textStatus = textStatus;\n            response.jqXHR = options.jqXHR = jqXHR;\n            this._trigger('done', null, options);\n        },\n\n        _onFail: function (jqXHR, textStatus, errorThrown, options) {\n            var response = options._response;\n            if (options.recalculateProgress) {\n                // Remove the failed (error or abort) file upload from\n                // the global progress calculation:\n                this._progress.loaded -= options._progress.loaded;\n                this._progress.total -= options._progress.total;\n            }\n            response.jqXHR = options.jqXHR = jqXHR;\n            response.textStatus = options.textStatus = textStatus;\n            response.errorThrown = options.errorThrown = errorThrown;\n            this._trigger('fail', null, options);\n        },\n\n        _onAlways: function (jqXHRorResult, textStatus, jqXHRorError, options) {\n            // jqXHRorResult, textStatus and jqXHRorError are added to the\n            // options object via done and fail callbacks\n            this._trigger('always', null, options);\n        },\n\n        _onSend: function (e, data) {\n            if (!data.submit) {\n                this._addConvenienceMethods(e, data);\n            }\n            var that = this,\n                jqXHR,\n                aborted,\n                slot,\n                pipe,\n                options = that._getAJAXSettings(data),\n                send = function () {\n                    that._sending += 1;\n                    // Set timer for bitrate progress calculation:\n                    options._bitrateTimer = new that._BitrateTimer();\n                    jqXHR = jqXHR || (\n                        ((aborted || that._trigger(\n                            'send',\n                            $.Event('send', {delegatedEvent: e}),\n                            options\n                        ) === false) &&\n                        that._getXHRPromise(false, options.context, aborted)) ||\n                        that._chunkedUpload(options) || $.ajax(options)\n                    ).done(function (result, textStatus, jqXHR) {\n                        that._onDone(result, textStatus, jqXHR, options);\n                    }).fail(function (jqXHR, textStatus, errorThrown) {\n                        that._onFail(jqXHR, textStatus, errorThrown, options);\n                    }).always(function (jqXHRorResult, textStatus, jqXHRorError) {\n                        that._onAlways(\n                            jqXHRorResult,\n                            textStatus,\n                            jqXHRorError,\n                            options\n                        );\n                        that._sending -= 1;\n                        that._active -= 1;\n                        if (options.limitConcurrentUploads &&\n                                options.limitConcurrentUploads > that._sending) {\n                            // Start the next queued upload,\n                            // that has not been aborted:\n                            var nextSlot = that._slots.shift();\n                            while (nextSlot) {\n                                if (that._getDeferredState(nextSlot) === 'pending') {\n                                    nextSlot.resolve();\n                                    break;\n                                }\n                                nextSlot = that._slots.shift();\n                            }\n                        }\n                        if (that._active === 0) {\n                            // The stop callback is triggered when all uploads have\n                            // been completed, equivalent to the global ajaxStop event:\n                            that._trigger('stop');\n                        }\n                    });\n                    return jqXHR;\n                };\n            this._beforeSend(e, options);\n            if (this.options.sequentialUploads ||\n                    (this.options.limitConcurrentUploads &&\n                    this.options.limitConcurrentUploads <= this._sending)) {\n                if (this.options.limitConcurrentUploads > 1) {\n                    slot = $.Deferred();\n                    this._slots.push(slot);\n                    pipe = slot.pipe(send);\n                } else {\n                    this._sequence = this._sequence.pipe(send, send);\n                    pipe = this._sequence;\n                }\n                // Return the piped Promise object, enhanced with an abort method,\n                // which is delegated to the jqXHR object of the current upload,\n                // and jqXHR callbacks mapped to the equivalent Promise methods:\n                pipe.abort = function () {\n                    aborted = [undefined, 'abort', 'abort'];\n                    if (!jqXHR) {\n                        if (slot) {\n                            slot.rejectWith(options.context, aborted);\n                        }\n                        return send();\n                    }\n                    return jqXHR.abort();\n                };\n                return this._enhancePromise(pipe);\n            }\n            return send();\n        },\n\n        _onAdd: function (e, data) {\n            var that = this,\n                result = true,\n                options = $.extend({}, this.options, data),\n                files = data.files,\n                filesLength = files.length,\n                limit = options.limitMultiFileUploads,\n                limitSize = options.limitMultiFileUploadSize,\n                overhead = options.limitMultiFileUploadSizeOverhead,\n                batchSize = 0,\n                paramName = this._getParamName(options),\n                paramNameSet,\n                paramNameSlice,\n                fileSet,\n                i,\n                j = 0;\n            if (limitSize && (!filesLength || files[0].size === undefined)) {\n                limitSize = undefined;\n            }\n            if (!(options.singleFileUploads || limit || limitSize) ||\n                    !this._isXHRUpload(options)) {\n                fileSet = [files];\n                paramNameSet = [paramName];\n            } else if (!(options.singleFileUploads || limitSize) && limit) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i += limit) {\n                    fileSet.push(files.slice(i, i + limit));\n                    paramNameSlice = paramName.slice(i, i + limit);\n                    if (!paramNameSlice.length) {\n                        paramNameSlice = paramName;\n                    }\n                    paramNameSet.push(paramNameSlice);\n                }\n            } else if (!options.singleFileUploads && limitSize) {\n                fileSet = [];\n                paramNameSet = [];\n                for (i = 0; i < filesLength; i = i + 1) {\n                    batchSize += files[i].size + overhead;\n                    if (i + 1 === filesLength ||\n                            ((batchSize + files[i + 1].size + overhead) > limitSize) ||\n                            (limit && i + 1 - j >= limit)) {\n                        fileSet.push(files.slice(j, i + 1));\n                        paramNameSlice = paramName.slice(j, i + 1);\n                        if (!paramNameSlice.length) {\n                            paramNameSlice = paramName;\n                        }\n                        paramNameSet.push(paramNameSlice);\n                        j = i + 1;\n                        batchSize = 0;\n                    }\n                }\n            } else {\n                paramNameSet = paramName;\n            }\n            data.originalFiles = files;\n            $.each(fileSet || files, function (index, element) {\n                var newData = $.extend({}, data);\n                newData.files = fileSet ? element : [element];\n                newData.paramName = paramNameSet[index];\n                that._initResponseObject(newData);\n                that._initProgressObject(newData);\n                that._addConvenienceMethods(e, newData);\n                result = that._trigger(\n                    'add',\n                    $.Event('add', {delegatedEvent: e}),\n                    newData\n                );\n                return result;\n            });\n            return result;\n        },\n\n        _replaceFileInput: function (input) {\n            var inputClone = input.clone(true);\n            $('<form></form>').append(inputClone)[0].reset();\n            // Detaching allows to insert the fileInput on another form\n            // without loosing the file input value:\n            input.after(inputClone).detach();\n            // Avoid memory leaks with the detached file input:\n            $.cleanData(input.unbind('remove'));\n            // Replace the original file input element in the fileInput\n            // elements set with the clone, which has been copied including\n            // event handlers:\n            this.options.fileInput = this.options.fileInput.map(function (i, el) {\n                if (el === input[0]) {\n                    return inputClone[0];\n                }\n                return el;\n            });\n            // If the widget has been initialized on the file input itself,\n            // override this.element with the file input clone:\n            if (input[0] === this.element[0]) {\n                this.element = inputClone;\n            }\n        },\n\n        _handleFileTreeEntry: function (entry, path) {\n            var that = this,\n                dfd = $.Deferred(),\n                errorHandler = function (e) {\n                    if (e && !e.entry) {\n                        e.entry = entry;\n                    }\n                    // Since $.when returns immediately if one\n                    // Deferred is rejected, we use resolve instead.\n                    // This allows valid files and invalid items\n                    // to be returned together in one set:\n                    dfd.resolve([e]);\n                },\n                dirReader;\n            path = path || '';\n            if (entry.isFile) {\n                if (entry._file) {\n                    // Workaround for Chrome bug #149735\n                    entry._file.relativePath = path;\n                    dfd.resolve(entry._file);\n                } else {\n                    entry.file(function (file) {\n                        file.relativePath = path;\n                        dfd.resolve(file);\n                    }, errorHandler);\n                }\n            } else if (entry.isDirectory) {\n                dirReader = entry.createReader();\n                dirReader.readEntries(function (entries) {\n                    that._handleFileTreeEntries(\n                        entries,\n                        path + entry.name + '/'\n                    ).done(function (files) {\n                        dfd.resolve(files);\n                    }).fail(errorHandler);\n                }, errorHandler);\n            } else {\n                // Return an empy list for file system items\n                // other than files or directories:\n                dfd.resolve([]);\n            }\n            return dfd.promise();\n        },\n\n        _handleFileTreeEntries: function (entries, path) {\n            var that = this;\n            return $.when.apply(\n                $,\n                $.map(entries, function (entry) {\n                    return that._handleFileTreeEntry(entry, path);\n                })\n            ).pipe(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _getDroppedFiles: function (dataTransfer) {\n            dataTransfer = dataTransfer || {};\n            var items = dataTransfer.items;\n            if (items && items.length && (items[0].webkitGetAsEntry ||\n                    items[0].getAsEntry)) {\n                return this._handleFileTreeEntries(\n                    $.map(items, function (item) {\n                        var entry;\n                        if (item.webkitGetAsEntry) {\n                            entry = item.webkitGetAsEntry();\n                            if (entry) {\n                                // Workaround for Chrome bug #149735:\n                                entry._file = item.getAsFile();\n                            }\n                            return entry;\n                        }\n                        return item.getAsEntry();\n                    })\n                );\n            }\n            return $.Deferred().resolve(\n                $.makeArray(dataTransfer.files)\n            ).promise();\n        },\n\n        _getSingleFileInputFiles: function (fileInput) {\n            fileInput = $(fileInput);\n            var entries = fileInput.prop('webkitEntries') ||\n                    fileInput.prop('entries'),\n                files,\n                value;\n            if (entries && entries.length) {\n                return this._handleFileTreeEntries(entries);\n            }\n            files = $.makeArray(fileInput.prop('files'));\n            if (!files.length) {\n                value = fileInput.prop('value');\n                if (!value) {\n                    return $.Deferred().resolve([]).promise();\n                }\n                // If the files property is not available, the browser does not\n                // support the File API and we add a pseudo File object with\n                // the input value as name with path information removed:\n                files = [{name: value.replace(/^.*\\\\/, '')}];\n            } else if (files[0].name === undefined && files[0].fileName) {\n                // File normalization for Safari 4 and Firefox 3:\n                $.each(files, function (index, file) {\n                    file.name = file.fileName;\n                    file.size = file.fileSize;\n                });\n            }\n            return $.Deferred().resolve(files).promise();\n        },\n\n        _getFileInputFiles: function (fileInput) {\n            if (!(fileInput instanceof $) || fileInput.length === 1) {\n                return this._getSingleFileInputFiles(fileInput);\n            }\n            return $.when.apply(\n                $,\n                $.map(fileInput, this._getSingleFileInputFiles)\n            ).pipe(function () {\n                return Array.prototype.concat.apply(\n                    [],\n                    arguments\n                );\n            });\n        },\n\n        _onChange: function (e) {\n            var that = this,\n                data = {\n                    fileInput: $(e.target),\n                    form: $(e.target.form)\n                };\n            this._getFileInputFiles(data.fileInput).always(function (files) {\n                data.files = files;\n                if (that.options.replaceFileInput) {\n                    that._replaceFileInput(data.fileInput);\n                }\n                if (that._trigger(\n                        'change',\n                        $.Event('change', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    that._onAdd(e, data);\n                }\n            });\n        },\n\n        _onPaste: function (e) {\n            var items = e.originalEvent && e.originalEvent.clipboardData &&\n                    e.originalEvent.clipboardData.items,\n                data = {files: []};\n            if (items && items.length) {\n                $.each(items, function (index, item) {\n                    var file = item.getAsFile && item.getAsFile();\n                    if (file) {\n                        data.files.push(file);\n                    }\n                });\n                if (this._trigger(\n                        'paste',\n                        $.Event('paste', {delegatedEvent: e}),\n                        data\n                    ) !== false) {\n                    this._onAdd(e, data);\n                }\n            }\n        },\n\n        _onDrop: function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var that = this,\n                dataTransfer = e.dataTransfer,\n                data = {};\n            if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n                e.preventDefault();\n                this._getDroppedFiles(dataTransfer).always(function (files) {\n                    data.files = files;\n                    if (that._trigger(\n                            'drop',\n                            $.Event('drop', {delegatedEvent: e}),\n                            data\n                        ) !== false) {\n                        that._onAdd(e, data);\n                    }\n                });\n            }\n        },\n\n        _onDragOver: function (e) {\n            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;\n            var dataTransfer = e.dataTransfer;\n            if (dataTransfer && $.inArray('Files', dataTransfer.types) !== -1 &&\n                    this._trigger(\n                        'dragover',\n                        $.Event('dragover', {delegatedEvent: e})\n                    ) !== false) {\n                e.preventDefault();\n                dataTransfer.dropEffect = 'copy';\n            }\n        },\n\n        _initEventHandlers: function () {\n            if (this._isXHRUpload(this.options)) {\n                this._on(this.options.dropZone, {\n                    dragover: this._onDragOver,\n                    drop: this._onDrop\n                });\n                this._on(this.options.pasteZone, {\n                    paste: this._onPaste\n                });\n            }\n            if ($.support.fileInput) {\n                this._on(this.options.fileInput, {\n                    change: this._onChange\n                });\n            }\n        },\n\n        _destroyEventHandlers: function () {\n            this._off(this.options.dropZone, 'dragover drop');\n            this._off(this.options.pasteZone, 'paste');\n            this._off(this.options.fileInput, 'change');\n        },\n\n        _setOption: function (key, value) {\n            var reinit = $.inArray(key, this._specialOptions) !== -1;\n            if (reinit) {\n                this._destroyEventHandlers();\n            }\n            this._super(key, value);\n            if (reinit) {\n                this._initSpecialOptions();\n                this._initEventHandlers();\n            }\n        },\n\n        _initSpecialOptions: function () {\n            var options = this.options;\n            if (options.fileInput === undefined) {\n                options.fileInput = this.element.is('input[type=\"file\"]') ?\n                        this.element : this.element.find('input[type=\"file\"]');\n            } else if (!(options.fileInput instanceof $)) {\n                options.fileInput = $(options.fileInput);\n            }\n            if (!(options.dropZone instanceof $)) {\n                options.dropZone = $(options.dropZone);\n            }\n            if (!(options.pasteZone instanceof $)) {\n                options.pasteZone = $(options.pasteZone);\n            }\n        },\n\n        _getRegExp: function (str) {\n            var parts = str.split('/'),\n                modifiers = parts.pop();\n            parts.shift();\n            return new RegExp(parts.join('/'), modifiers);\n        },\n\n        _isRegExpOption: function (key, value) {\n            return key !== 'url' && $.type(value) === 'string' &&\n                /^\\/.*\\/[igm]{0,3}$/.test(value);\n        },\n\n        _initDataAttributes: function () {\n            var that = this,\n                options = this.options,\n                clone = $(this.element[0].cloneNode(false));\n            // Initialize options set via HTML5 data-attributes:\n            $.each(\n                clone.data(),\n                function (key, value) {\n                    var dataAttributeName = 'data-' +\n                        // Convert camelCase to hyphen-ated key:\n                        key.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n                    if (clone.attr(dataAttributeName)) {\n                        if (that._isRegExpOption(key, value)) {\n                            value = that._getRegExp(value);\n                        }\n                        options[key] = value;\n                    }\n                }\n            );\n        },\n\n        _create: function () {\n            this._initDataAttributes();\n            this._initSpecialOptions();\n            this._slots = [];\n            this._sequence = this._getXHRPromise(true);\n            this._sending = this._active = 0;\n            this._initProgressObject(this);\n            this._initEventHandlers();\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the number of active uploads:\n        active: function () {\n            return this._active;\n        },\n\n        // This method is exposed to the widget API and allows to query\n        // the widget upload progress.\n        // It returns an object with loaded, total and bitrate properties\n        // for the running uploads:\n        progress: function () {\n            return this._progress;\n        },\n\n        // This method is exposed to the widget API and allows adding files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files property and can contain additional options:\n        // .fileupload('add', {files: filesList});\n        add: function (data) {\n            var that = this;\n            if (!data || this.options.disabled) {\n                return;\n            }\n            if (data.fileInput && !data.files) {\n                this._getFileInputFiles(data.fileInput).always(function (files) {\n                    data.files = files;\n                    that._onAdd(null, data);\n                });\n            } else {\n                data.files = $.makeArray(data.files);\n                this._onAdd(null, data);\n            }\n        },\n\n        // This method is exposed to the widget API and allows sending files\n        // using the fileupload API. The data parameter accepts an object which\n        // must have a files or fileInput property and can contain additional options:\n        // .fileupload('send', {files: filesList});\n        // The method returns a Promise object for the file upload call.\n        send: function (data) {\n            if (data && !this.options.disabled) {\n                if (data.fileInput && !data.files) {\n                    var that = this,\n                        dfd = $.Deferred(),\n                        promise = dfd.promise(),\n                        jqXHR,\n                        aborted;\n                    promise.abort = function () {\n                        aborted = true;\n                        if (jqXHR) {\n                            return jqXHR.abort();\n                        }\n                        dfd.reject(null, 'abort', 'abort');\n                        return promise;\n                    };\n                    this._getFileInputFiles(data.fileInput).always(\n                        function (files) {\n                            if (aborted) {\n                                return;\n                            }\n                            if (!files.length) {\n                                dfd.reject();\n                                return;\n                            }\n                            data.files = files;\n                            jqXHR = that._onSend(null, data).then(\n                                function (result, textStatus, jqXHR) {\n                                    dfd.resolve(result, textStatus, jqXHR);\n                                },\n                                function (jqXHR, textStatus, errorThrown) {\n                                    dfd.reject(jqXHR, textStatus, errorThrown);\n                                }\n                            );\n                        }\n                    );\n                    return this._enhancePromise(promise);\n                }\n                data.files = $.makeArray(data.files);\n                if (data.files.length) {\n                    return this._onSend(null, data);\n                }\n            }\n            return this._getXHRPromise(false, data && data.context);\n        }\n\n    });\n\n}));\n\n","/**\r\n * @module\r\n * @returns {!Object} Scope of methods to help working with files.\r\n */\r\ndefine('helpers/file-helper',['jquery', 'jquery.fileupload'], function () {\r\n\t'use strict';\r\n\r\n\tvar exports = {};\r\n\r\n\texports.initRegExpFileUpload = function (jqrElem, url, addCallback) {\r\n\t\tjqrElem.fileupload({\r\n\t\t\turl : url,\r\n\t\t\tautoUpload : false,\r\n\t\t\tdataType : 'json',\r\n\t\t\txhrFields : {\r\n\t\t\t\t// For CORS request to send cookies\r\n\t\t\t\twithCredentials : true\r\n\t\t\t},\r\n\t\t\tadd : function (e, data) {\r\n\t\t\t\taddCallback(data);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Use 'add' property instead,\r\n\t\t// this binding is uploaded file even if returns false\r\n\t\t// .bind('fileuploadadd', function (e, data) {\r\n\t\t// addCallback(data);\r\n\t\t// });\r\n\r\n\t\t// Enable iframe cross-domain access via redirect option:\r\n\t\t////$('#'+inputName).fileupload(\r\n\t\t////    'option',\r\n\t\t////    'redirect',\r\n\t\t////    window.location.href.replace(\r\n\t\t////        /\\/[^\\/]*$/,\r\n\t\t////        '/cors/result.html?%s'\r\n\t\t////    )\r\n\t\t////);\r\n\t};\r\n\r\n\t// Hidden Iframe for file loading (to the client comp)\r\n\texports.downloadURL = function (url) {\r\n\t\tvar hiddenIFrameID = 'hiddenDownloader';\r\n\t\tvar iframe = document.getElementById(hiddenIFrameID);\r\n\t\tif (iframe === null) {\r\n\t\t\tiframe = document.createElement('iframe');\r\n\t\t\tiframe.id = hiddenIFrameID;\r\n\t\t\tiframe.style.display = 'none';\r\n\t\t\tdocument.body.appendChild(iframe);\r\n\t\t}\r\n\r\n\t\tiframe.src = url;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","(function(root) {\ndefine(\"jquery.slimscroll\", [\"jquery\"], function() {\n      return (function() {\n/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)\r\n * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\r\n * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.\r\n *\r\n * Version: 1.3.1\r\n *\r\n */\r\n(function($) {\r\n\r\n  jQuery.fn.extend({\r\n    slimScroll: function(options) {\r\n\r\n      var defaults = {\r\n\r\n        // width in pixels of the visible scroll area\r\n        width : 'auto',\r\n\r\n        // height in pixels of the visible scroll area\r\n        height : '250px',\r\n\r\n        // width in pixels of the scrollbar and rail\r\n        size : '7px',\r\n\r\n        // scrollbar color, accepts any hex/color value\r\n        color: '#000',\r\n\r\n        // scrollbar position - left/right\r\n        position : 'right',\r\n\r\n        // distance in pixels between the side edge and the scrollbar\r\n        distance : '1px',\r\n\r\n        // default scroll position on load - top / bottom / $('selector')\r\n        start : 'top',\r\n\r\n        // sets scrollbar opacity\r\n        opacity : .4,\r\n\r\n        // enables always-on mode for the scrollbar\r\n        alwaysVisible : false,\r\n\r\n        // check if we should hide the scrollbar when user is hovering over\r\n        disableFadeOut : false,\r\n\r\n        // sets visibility of the rail\r\n        railVisible : false,\r\n\r\n        // sets rail color\r\n        railColor : '#333',\r\n\r\n        // sets rail opacity\r\n        railOpacity : .2,\r\n\r\n        // whether  we should use jQuery UI Draggable to enable bar dragging\r\n        railDraggable : true,\r\n\r\n        // defautlt CSS class of the slimscroll rail\r\n        railClass : 'slimScrollRail',\r\n\r\n        // defautlt CSS class of the slimscroll bar\r\n        barClass : 'slimScrollBar',\r\n\r\n        // defautlt CSS class of the slimscroll wrapper\r\n        wrapperClass : 'slimScrollDiv',\r\n\r\n        // check if mousewheel should scroll the window if we reach top/bottom\r\n        allowPageScroll : false,\r\n\r\n        // scroll amount applied to each mouse wheel step\r\n        wheelStep : 20,\r\n\r\n        // scroll amount applied when user is using gestures\r\n        touchScrollStep : 200,\r\n\r\n        // sets border radius\r\n        borderRadius: '7px',\r\n\r\n        // sets border radius of the rail\r\n        railBorderRadius : '7px'\r\n      };\r\n\r\n      var o = $.extend(defaults, options);\r\n\r\n      // do it for every element that matches selector\r\n      this.each(function(){\r\n\r\n      var isOverPanel, isOverBar, isDragg, queueHide, touchDif,\r\n        barHeight, percentScroll, lastScroll,\r\n        divS = '<div></div>',\r\n        minBarHeight = 30,\r\n        releaseScroll = false;\r\n\r\n        // used in event handlers and for better minification\r\n        var me = $(this);\r\n\r\n        // ensure we are not binding it again\r\n        if (me.parent().hasClass(o.wrapperClass))\r\n        {\r\n            // start from last bar position\r\n            var offset = me.scrollTop();\r\n\r\n            // find bar and rail\r\n            bar = me.parent().find('.' + o.barClass);\r\n            rail = me.parent().find('.' + o.railClass);\r\n\r\n            getBarHeight();\r\n\r\n            // check if we should scroll existing instance\r\n            if ($.isPlainObject(options))\r\n            {\r\n              // Pass height: auto to an existing slimscroll object to force a resize after contents have changed\r\n              if ( 'height' in options && options.height == 'auto' ) {\r\n                me.parent().css('height', 'auto');\r\n                me.css('height', 'auto');\r\n                var height = me.parent().parent().height();\r\n                me.parent().css('height', height);\r\n                me.css('height', height);\r\n              }\r\n\r\n              if ('scrollTo' in options)\r\n              {\r\n                // jump to a static point\r\n                offset = parseInt(o.scrollTo);\r\n              }\r\n              else if ('scrollBy' in options)\r\n              {\r\n                // jump by value pixels\r\n                offset += parseInt(o.scrollBy);\r\n              }\r\n              else if ('destroy' in options)\r\n              {\r\n                // remove slimscroll elements\r\n                bar.remove();\r\n                rail.remove();\r\n                me.unwrap();\r\n                return;\r\n              }\r\n\r\n              // scroll content by the given offset\r\n              scrollContent(offset, false, true);\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        // optionally set height to the parent's height\r\n        o.height = (o.height == 'auto') ? me.parent().height() : o.height;\r\n\r\n        // wrap content\r\n        var wrapper = $(divS)\r\n          .addClass(o.wrapperClass)\r\n          .css({\r\n            position: 'relative',\r\n            overflow: 'hidden',\r\n            width: o.width,\r\n            height: o.height\r\n          });\r\n\r\n        // update style for the div\r\n        me.css({\r\n          overflow: 'hidden',\r\n          width: o.width,\r\n          height: o.height\r\n        });\r\n\r\n        // create scrollbar rail\r\n        var rail = $(divS)\r\n          .addClass(o.railClass)\r\n          .css({\r\n            width: o.size,\r\n            height: '100%',\r\n            position: 'absolute',\r\n            top: 0,\r\n            display: (o.alwaysVisible && o.railVisible) ? 'block' : 'none',\r\n            'border-radius': o.railBorderRadius,\r\n            background: o.railColor,\r\n            opacity: o.railOpacity,\r\n            zIndex: 90\r\n          });\r\n\r\n        // create scrollbar\r\n        var bar = $(divS)\r\n          .addClass(o.barClass)\r\n          .css({\r\n            background: o.color,\r\n            width: o.size,\r\n            position: 'absolute',\r\n            top: 0,\r\n            opacity: o.opacity,\r\n            display: o.alwaysVisible ? 'block' : 'none',\r\n            'border-radius' : o.borderRadius,\r\n            BorderRadius: o.borderRadius,\r\n            MozBorderRadius: o.borderRadius,\r\n            WebkitBorderRadius: o.borderRadius,\r\n            zIndex: 99\r\n          });\r\n\r\n        // set position\r\n        var posCss = (o.position == 'right') ? { right: o.distance } : { left: o.distance };\r\n        rail.css(posCss);\r\n        bar.css(posCss);\r\n\r\n        // wrap it\r\n        me.wrap(wrapper);\r\n\r\n        // append to parent div\r\n        me.parent().append(bar);\r\n        me.parent().append(rail);\r\n\r\n        // make it draggable and no longer dependent on the jqueryUI\r\n        if (o.railDraggable){\r\n          bar.bind(\"mousedown\", function(e) {\r\n            var $doc = $(document);\r\n            isDragg = true;\r\n            t = parseFloat(bar.css('top'));\r\n            pageY = e.pageY;\r\n\r\n            $doc.bind(\"mousemove.slimscroll\", function(e){\r\n              currTop = t + e.pageY - pageY;\r\n              bar.css('top', currTop);\r\n              scrollContent(0, bar.position().top, false);// scroll content\r\n            });\r\n\r\n            $doc.bind(\"mouseup.slimscroll\", function(e) {\r\n              isDragg = false;hideBar();\r\n              $doc.unbind('.slimscroll');\r\n            });\r\n            return false;\r\n          }).bind(\"selectstart.slimscroll\", function(e){\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            return false;\r\n          });\r\n        }\r\n\r\n        // on rail over\r\n        rail.hover(function(){\r\n          showBar();\r\n        }, function(){\r\n          hideBar();\r\n        });\r\n\r\n        // on bar over\r\n        bar.hover(function(){\r\n          isOverBar = true;\r\n        }, function(){\r\n          isOverBar = false;\r\n        });\r\n\r\n        // show on parent mouseover\r\n        me.hover(function(){\r\n          isOverPanel = true;\r\n          showBar();\r\n          hideBar();\r\n        }, function(){\r\n          isOverPanel = false;\r\n          hideBar();\r\n        });\r\n\r\n        // support for mobile\r\n        me.bind('touchstart', function(e,b){\r\n          if (e.originalEvent.touches.length)\r\n          {\r\n            // record where touch started\r\n            touchDif = e.originalEvent.touches[0].pageY;\r\n          }\r\n        });\r\n\r\n        me.bind('touchmove', function(e){\r\n          // prevent scrolling the page if necessary\r\n          if(!releaseScroll)\r\n          {\r\n  \t\t      e.originalEvent.preventDefault();\r\n\t\t      }\r\n          if (e.originalEvent.touches.length)\r\n          {\r\n            // see how far user swiped\r\n            var diff = (touchDif - e.originalEvent.touches[0].pageY) / o.touchScrollStep;\r\n            // scroll content\r\n            scrollContent(diff, true);\r\n            touchDif = e.originalEvent.touches[0].pageY;\r\n          }\r\n        });\r\n\r\n        // set up initial height\r\n        getBarHeight();\r\n\r\n        // check start position\r\n        if (o.start === 'bottom')\r\n        {\r\n          // scroll content to bottom\r\n          bar.css({ top: me.outerHeight() - bar.outerHeight() });\r\n          scrollContent(0, true);\r\n        }\r\n        else if (o.start !== 'top')\r\n        {\r\n          // assume jQuery selector\r\n          scrollContent($(o.start).position().top, null, true);\r\n\r\n          // make sure bar stays hidden\r\n          if (!o.alwaysVisible) { bar.hide(); }\r\n        }\r\n\r\n        // attach scroll events\r\n        attachWheel();\r\n\r\n        function _onWheel(e)\r\n        {\r\n          // use mouse wheel only when mouse is over\r\n          if (!isOverPanel) { return; }\r\n\r\n          var e = e || window.event;\r\n\r\n          var delta = 0;\r\n          if (e.wheelDelta) { delta = -e.wheelDelta/120; }\r\n          if (e.detail) { delta = e.detail / 3; }\r\n\r\n          var target = e.target || e.srcTarget || e.srcElement;\r\n          if ($(target).closest('.' + o.wrapperClass).is(me.parent())) {\r\n            // scroll content\r\n            scrollContent(delta, true);\r\n          }\r\n\r\n          // stop window scroll\r\n          if (e.preventDefault && !releaseScroll) { e.preventDefault(); }\r\n          if (!releaseScroll) { e.returnValue = false; }\r\n        }\r\n\r\n        function scrollContent(y, isWheel, isJump)\r\n        {\r\n          releaseScroll = false;\r\n          var delta = y;\r\n          var maxTop = me.outerHeight() - bar.outerHeight();\r\n\r\n          if (isWheel)\r\n          {\r\n            // move bar with mouse wheel\r\n            delta = parseInt(bar.css('top')) + y * parseInt(o.wheelStep) / 100 * bar.outerHeight();\r\n\r\n            // move bar, make sure it doesn't go out\r\n            delta = Math.min(Math.max(delta, 0), maxTop);\r\n\r\n            // if scrolling down, make sure a fractional change to the\r\n            // scroll position isn't rounded away when the scrollbar's CSS is set\r\n            // this flooring of delta would happened automatically when\r\n            // bar.css is set below, but we floor here for clarity\r\n            delta = (y > 0) ? Math.ceil(delta) : Math.floor(delta);\r\n\r\n            // scroll the scrollbar\r\n            bar.css({ top: delta + 'px' });\r\n          }\r\n\r\n          // calculate actual scroll amount\r\n          percentScroll = parseInt(bar.css('top')) / (me.outerHeight() - bar.outerHeight());\r\n          delta = percentScroll * (me[0].scrollHeight - me.outerHeight());\r\n\r\n          if (isJump)\r\n          {\r\n            delta = y;\r\n            var offsetTop = delta / me[0].scrollHeight * me.outerHeight();\r\n            offsetTop = Math.min(Math.max(offsetTop, 0), maxTop);\r\n            bar.css({ top: offsetTop + 'px' });\r\n          }\r\n\r\n          // scroll content\r\n          me.scrollTop(delta);\r\n\r\n          // fire scrolling event\r\n          me.trigger('slimscrolling', ~~delta);\r\n\r\n          // ensure bar is visible\r\n          showBar();\r\n\r\n          // trigger hide when scroll is stopped\r\n          hideBar();\r\n        }\r\n\r\n        function attachWheel()\r\n        {\r\n          if (window.addEventListener)\r\n          {\r\n            this.addEventListener('DOMMouseScroll', _onWheel, false );\r\n            this.addEventListener('mousewheel', _onWheel, false );\r\n            this.addEventListener('MozMousePixelScroll', _onWheel, false );\r\n          }\r\n          else\r\n          {\r\n            document.attachEvent(\"onmousewheel\", _onWheel)\r\n          }\r\n        }\r\n\r\n        function getBarHeight()\r\n        {\r\n          // calculate scrollbar height and make sure it is not too small\r\n          barHeight = Math.max((me.outerHeight() / me[0].scrollHeight) * me.outerHeight(), minBarHeight);\r\n          bar.css({ height: barHeight + 'px' });\r\n\r\n          // hide scrollbar if content is not long enough\r\n          var display = barHeight == me.outerHeight() ? 'none' : 'block';\r\n          bar.css({ display: display });\r\n        }\r\n\r\n        function showBar()\r\n        {\r\n          // recalculate bar height\r\n          getBarHeight();\r\n          clearTimeout(queueHide);\r\n\r\n          // when bar reached top or bottom\r\n          if (percentScroll == ~~percentScroll)\r\n          {\r\n            //release wheel\r\n            releaseScroll = o.allowPageScroll;\r\n\r\n            // publish approporiate event\r\n            if (lastScroll != percentScroll)\r\n            {\r\n                var msg = (~~percentScroll == 0) ? 'top' : 'bottom';\r\n                me.trigger('slimscroll', msg);\r\n            }\r\n          }\r\n          else\r\n          {\r\n            releaseScroll = false;\r\n          }\r\n          lastScroll = percentScroll;\r\n\r\n          // show only when required\r\n          if(barHeight >= me.outerHeight()) {\r\n            //allow window scroll\r\n            releaseScroll = true;\r\n            return;\r\n          }\r\n          bar.stop(true,true).fadeIn('fast');\r\n          if (o.railVisible) { rail.stop(true,true).fadeIn('fast'); }\r\n        }\r\n\r\n        function hideBar()\r\n        {\r\n          // only hide when options allow it\r\n          if (!o.alwaysVisible)\r\n          {\r\n            queueHide = setTimeout(function(){\r\n              if (!(o.disableFadeOut && isOverPanel) && !isOverBar && !isDragg)\r\n              {\r\n                bar.fadeOut('slow');\r\n                rail.fadeOut('slow');\r\n              }\r\n            }, 1000);\r\n          }\r\n        }\r\n\r\n      });\r\n\r\n      // maintain chainability\r\n      return this;\r\n    }\r\n  });\r\n\r\n  jQuery.fn.extend({\r\n    slimscroll: jQuery.fn.slimScroll\r\n  });\r\n\r\n})(jQuery);\r\n      }).apply(root, arguments);\n    });\n}(this));\n\n","\n/*!\n * pickadate.js v3.4.0, 2014/02/15\n * By Amsul, http://amsul.ca\n * Hosted on http://amsul.github.io/pickadate.js\n * Licensed under MIT\n */\n\n(function ( factory ) {\n\n    // Register as an anonymous module.\n    if ( typeof define === 'function' && define.amd )\n        define( 'picker', ['jquery'], factory )\n\n    // Or using browser globals.\n    else this.Picker = factory( jQuery )\n\n}(function( $ ) {\n\nvar $document = $( document )\n\n\n/**\n * The picker constructor that creates a blank picker.\n */\nfunction PickerConstructor( ELEMENT, NAME, COMPONENT, OPTIONS ) {\n\n    // If theres no element, return the picker constructor.\n    if ( !ELEMENT ) return PickerConstructor\n\n\n    var\n        // The state of the picker.\n        STATE = {\n            id: ELEMENT.id || 'P' + Math.abs( ~~(Math.random() * new Date()) )\n        },\n\n\n        // Merge the defaults and options passed.\n        SETTINGS = COMPONENT ? $.extend( true, {}, COMPONENT.defaults, OPTIONS ) : OPTIONS || {},\n\n\n        // Merge the default classes with the settings classes.\n        CLASSES = $.extend( {}, PickerConstructor.klasses(), SETTINGS.klass ),\n\n\n        // The element node wrapper into a jQuery object.\n        $ELEMENT = $( ELEMENT ),\n\n\n        // Pseudo picker constructor.\n        PickerInstance = function() {\n            return this.start()\n        },\n\n\n        // The picker prototype.\n        P = PickerInstance.prototype = {\n\n            constructor: PickerInstance,\n\n            $node: $ELEMENT,\n\n\n            /**\n             * Initialize everything\n             */\n            start: function() {\n\n                // If its already started, do nothing.\n                if ( STATE && STATE.start ) return P\n\n\n                // Update the picker states.\n                STATE.methods = {}\n                STATE.start = true\n                STATE.open = false\n                STATE.type = ELEMENT.type\n\n\n                // Confirm focus state, convert into text input to remove UA stylings,\n                // and set as readonly to prevent keyboard popup.\n                ELEMENT.autofocus = ELEMENT == document.activeElement\n                ELEMENT.type = 'text'\n                ELEMENT.readOnly = !SETTINGS.editable\n                ELEMENT.id = ELEMENT.id || STATE.id\n\n\n                // Create a new picker component with the settings.\n                P.component = new COMPONENT(P, SETTINGS)\n\n\n                // Create the picker root with a holder and then prepare it.\n                P.$root = $( PickerConstructor._.node('div', createWrappedComponent(), CLASSES.picker, 'id=\"' + ELEMENT.id + '_root\"') )\n                prepareElementRoot()\n\n\n                // If theres a format for the hidden input element, create the element.\n                if ( SETTINGS.formatSubmit ) {\n                    prepareElementHidden()\n                }\n\n\n                // Prepare the input element.\n                prepareElement()\n\n\n                // Insert the root as specified in the settings.\n                if ( SETTINGS.container ) $( SETTINGS.container ).append( P.$root )\n                else $ELEMENT.after( P.$root )\n\n\n                // Bind the default component and settings events.\n                P.on({\n                    start: P.component.onStart,\n                    render: P.component.onRender,\n                    stop: P.component.onStop,\n                    open: P.component.onOpen,\n                    close: P.component.onClose,\n                    set: P.component.onSet\n                }).on({\n                    start: SETTINGS.onStart,\n                    render: SETTINGS.onRender,\n                    stop: SETTINGS.onStop,\n                    open: SETTINGS.onOpen,\n                    close: SETTINGS.onClose,\n                    set: SETTINGS.onSet\n                })\n\n\n                // If the element has autofocus, open the picker.\n                if ( ELEMENT.autofocus ) {\n                    P.open()\n                }\n\n\n                // Trigger queued the start and render events.\n                return P.trigger( 'start' ).trigger( 'render' )\n            }, //start\n\n\n            /**\n             * Render a new picker\n             */\n            render: function( entireComponent ) {\n\n                // Insert a new component holder in the root or box.\n                if ( entireComponent ) P.$root.html( createWrappedComponent() )\n                else P.$root.find( '.' + CLASSES.box ).html( P.component.nodes( STATE.open ) )\n\n                // Trigger the queued render events.\n                return P.trigger( 'render' )\n            }, //render\n\n\n            /**\n             * Destroy everything\n             */\n            stop: function() {\n\n                // If its already stopped, do nothing.\n                if ( !STATE.start ) return P\n\n                // Then close the picker.\n                P.close()\n\n                // Remove the hidden field.\n                if ( P._hidden ) {\n                    P._hidden.parentNode.removeChild( P._hidden )\n                }\n\n                // Remove the root.\n                P.$root.remove()\n\n                // Remove the input class, remove the stored data, and unbind\n                // the events (after a tick for IE - see `P.close`).\n                $ELEMENT.removeClass( CLASSES.input ).removeData( NAME )\n                setTimeout( function() {\n                    $ELEMENT.off( '.' + STATE.id )\n                }, 0)\n\n                // Restore the element state\n                ELEMENT.type = STATE.type\n                ELEMENT.readOnly = false\n\n                // Trigger the queued stop events.\n                P.trigger( 'stop' )\n\n                // Reset the picker states.\n                STATE.methods = {}\n                STATE.start = false\n\n                return P\n            }, //stop\n\n\n            /*\n             * Open up the picker\n             */\n            open: function( dontGiveFocus ) {\n\n                // If its already open, do nothing.\n                if ( STATE.open ) return P\n\n                // Add the active class.\n                $ELEMENT.addClass( CLASSES.active )\n                aria( ELEMENT, 'expanded', true )\n\n                // Add the opened class to the picker root.\n                P.$root.addClass( CLASSES.opened )\n                aria( P.$root[0], 'hidden', false )\n\n                // If we have to give focus, bind the element and doc events.\n                if ( dontGiveFocus !== false ) {\n\n                    // Set it as open.\n                    STATE.open = true\n\n                    // Pass focus to the elements jQuery object.\n                    $ELEMENT.trigger( 'focus' )\n\n                    // Bind the document events.\n                    $document.on( 'click.' + STATE.id + ' focusin.' + STATE.id, function( event ) {\n\n                        var target = event.target\n\n                        // If the target of the event is not the element, close the picker picker.\n                        // * Dont worry about clicks or focusins on the root because those dont bubble up.\n                        //   Also, for Firefox, a click on an `option` element bubbles up directly\n                        //   to the doc. So make sure the target wasn't the doc.\n                        // * In Firefox stopPropagation() doesnt prevent right-click events from bubbling,\n                        //   which causes the picker to unexpectedly close when right-clicking it. So make\n                        //   sure the event wasnt a right-click.\n                        if ( target != ELEMENT && target != document && event.which != 3 ) {\n\n                            // If the target was the holder that covers the screen,\n                            // keep the element focused to maintain tabindex.\n                            P.close( target === P.$root.children()[0] )\n                        }\n\n                    }).on( 'keydown.' + STATE.id, function( event ) {\n\n                        var\n                            // Get the keycode.\n                            keycode = event.keyCode,\n\n                            // Translate that to a selection change.\n                            keycodeToMove = P.component.key[ keycode ],\n\n                            // Grab the target.\n                            target = event.target\n\n\n                        // On escape, close the picker and give focus.\n                        if ( keycode == 27 ) {\n                            P.close( true )\n                        }\n\n\n                        // Check if there is a key movement or enter keypress on the element.\n                        else if ( target == ELEMENT && ( keycodeToMove || keycode == 13 ) ) {\n\n                            // Prevent the default action to stop page movement.\n                            event.preventDefault()\n\n                            // Trigger the key movement action.\n                            if ( keycodeToMove ) {\n                                PickerConstructor._.trigger( P.component.key.go, P, [ PickerConstructor._.trigger( keycodeToMove ) ] )\n                            }\n\n                            // On enter, if the highlighted item isnt disabled, set the value and close.\n                            else if ( !P.$root.find( '.' + CLASSES.highlighted ).hasClass( CLASSES.disabled ) ) {\n                                P.set( 'select', P.component.item.highlight ).close()\n                            }\n                        }\n\n\n                        // If the target is within the root and enter is pressed,\n                        // prevent the default action and trigger a click on the target instead.\n                        else if ( $.contains( P.$root[0], target ) && keycode == 13 ) {\n                            event.preventDefault()\n                            target.click()\n                        }\n                    })\n                }\n\n                // Trigger the queued open events.\n                return P.trigger( 'open' )\n            }, //open\n\n\n            /**\n             * Close the picker\n             */\n            close: function( giveFocus ) {\n\n                // If we need to give focus, do it before changing states.\n                if ( giveFocus ) {\n                    // ....ah yes! It wouldve been incomplete without a crazy workaround for IE :|\n                    // The focus is triggered *after* the close has completed - causing it\n                    // to open again. So unbind and rebind the event at the next tick.\n                    $ELEMENT.off( 'focus.' + STATE.id ).trigger( 'focus' )\n                    setTimeout( function() {\n                        $ELEMENT.on( 'focus.' + STATE.id, focusToOpen )\n                    }, 0 )\n                }\n\n                // Remove the active class.\n                $ELEMENT.removeClass( CLASSES.active )\n                aria( ELEMENT, 'expanded', false )\n\n                // Remove the opened and focused class from the picker root.\n                P.$root.removeClass( CLASSES.opened + ' ' + CLASSES.focused )\n                aria( P.$root[0], 'hidden', true )\n                aria( P.$root[0], 'selected', false )\n\n                // If its already closed, do nothing more.\n                if ( !STATE.open ) return P\n\n                // Set it as closed.\n                STATE.open = false\n\n                // Unbind the document events.\n                $document.off( '.' + STATE.id )\n\n                // Trigger the queued close events.\n                return P.trigger( 'close' )\n            }, //close\n\n\n            /**\n             * Clear the values\n             */\n            clear: function() {\n                return P.set( 'clear' )\n            }, //clear\n\n\n            /**\n             * Set something\n             */\n            set: function( thing, value, options ) {\n\n                var thingItem, thingValue,\n                    thingIsObject = $.isPlainObject( thing ),\n                    thingObject = thingIsObject ? thing : {}\n\n                // Make sure we have usable options.\n                options = thingIsObject && $.isPlainObject( value ) ?value : options || {}\n\n                if ( thing ) {\n\n                    // If the thing isnt an object, make it one.\n                    if ( !thingIsObject ) {\n                        thingObject[ thing ] = value\n                    }\n\n                    // Go through the things of items to set.\n                    for ( thingItem in thingObject ) {\n\n                        // Grab the value of the thing.\n                        thingValue = thingObject[ thingItem ]\n\n                        // First, if the item exists and theres a value, set it.\n                        if ( thingItem in P.component.item ) {\n                            P.component.set( thingItem, thingValue, options )\n                        }\n\n                        // Then, check to update the element value and broadcast a change.\n                        if ( thingItem == 'select' || thingItem == 'clear' ) {\n                            $ELEMENT.val( thingItem == 'clear' ?\n                                '' : P.get( thingItem, SETTINGS.format )\n                            ).trigger( 'change' )\n                        }\n                    }\n\n                    // Render a new picker.\n                    P.render()\n                }\n\n                // When the method isnt muted, trigger queued set events and pass the `thingObject`.\n                return options.muted ? P : P.trigger( 'set', thingObject )\n            }, //set\n\n\n            /**\n             * Get something\n             */\n            get: function( thing, format ) {\n\n                // Make sure theres something to get.\n                thing = thing || 'value'\n\n                // If a picker state exists, return that.\n                if ( STATE[ thing ] != null ) {\n                    return STATE[ thing ]\n                }\n\n                // Return the value, if that.\n                if ( thing == 'value' ) {\n                    return ELEMENT.value\n                }\n\n                // Check if a component item exists, return that.\n                if ( thing in P.component.item ) {\n                    if ( typeof format == 'string' ) {\n                        return PickerConstructor._.trigger(\n                            P.component.formats.toString,\n                            P.component,\n                            [ format, P.component.get( thing ) ]\n                        )\n                    }\n                    return P.component.get( thing )\n                }\n            }, //get\n\n\n\n            /**\n             * Bind events on the things.\n             */\n            on: function( thing, method ) {\n\n                var thingName, thingMethod,\n                    thingIsObject = $.isPlainObject( thing ),\n                    thingObject = thingIsObject ? thing : {}\n\n                if ( thing ) {\n\n                    // If the thing isnt an object, make it one.\n                    if ( !thingIsObject ) {\n                        thingObject[ thing ] = method\n                    }\n\n                    // Go through the things to bind to.\n                    for ( thingName in thingObject ) {\n\n                        // Grab the method of the thing.\n                        thingMethod = thingObject[ thingName ]\n\n                        // Make sure the thing methods collection exists.\n                        STATE.methods[ thingName ] = STATE.methods[ thingName ] || []\n\n                        // Add the method to the relative method collection.\n                        STATE.methods[ thingName ].push( thingMethod )\n                    }\n                }\n\n                return P\n            }, //on\n\n\n\n            /**\n             * Unbind events on the things.\n             */\n            off: function() {\n                var i, thingName,\n                    names = arguments;\n                for ( i = 0, namesCount = names.length; i < namesCount; i += 1 ) {\n                    thingName = names[i]\n                    if ( thingName in STATE.methods ) {\n                        delete STATE.methods[thingName]\n                    }\n                }\n                return P\n            },\n\n\n            /**\n             * Fire off method events.\n             */\n            trigger: function( name, data ) {\n                var methodList = STATE.methods[ name ]\n                if ( methodList ) {\n                    methodList.map( function( method ) {\n                        PickerConstructor._.trigger( method, P, [ data ] )\n                    })\n                }\n                return P\n            } //trigger\n        } //PickerInstance.prototype\n\n\n    /**\n     * Wrap the picker holder components together.\n     */\n    function createWrappedComponent() {\n\n        // Create a picker wrapper holder\n        return PickerConstructor._.node( 'div',\n\n            // Create a picker wrapper node\n            PickerConstructor._.node( 'div',\n\n                // Create a picker frame\n                PickerConstructor._.node( 'div',\n\n                    // Create a picker box node\n                    PickerConstructor._.node( 'div',\n\n                        // Create the components nodes.\n                        P.component.nodes( STATE.open ),\n\n                        // The picker box class\n                        CLASSES.box\n                    ),\n\n                    // Picker wrap class\n                    CLASSES.wrap\n                ),\n\n                // Picker frame class\n                CLASSES.frame\n            ),\n\n            // Picker holder class\n            CLASSES.holder\n        ) //endreturn\n    } //createWrappedComponent\n\n\n\n    /**\n     * Prepare the input element with all bindings.\n     */\n    function prepareElement() {\n\n        $ELEMENT.\n\n            // Store the picker data by component name.\n            data(NAME, P).\n\n            // Add the input class name.\n            addClass(CLASSES.input).\n\n            // If theres a `data-value`, update the value of the element.\n            val( $ELEMENT.data('value') ?\n                P.get('select', SETTINGS.format) :\n                ELEMENT.value\n            ).\n\n            // On focus/click, open the picker and adjust the root focused state.\n            on('focus.' + STATE.id + ' click.' + STATE.id, focusToOpen)\n\n\n        // Only bind keydown events if the element isnt editable.\n        if ( !SETTINGS.editable ) {\n\n            // Handle keyboard event based on the picker being opened or not.\n            $ELEMENT.on('keydown.' + STATE.id, function(event) {\n\n                var keycode = event.keyCode,\n\n                    // Check if one of the delete keys was pressed.\n                    isKeycodeDelete = /^(8|46)$/.test(keycode)\n\n                // For some reason IE clears the input value on escape.\n                if ( keycode == 27 ) {\n                    P.close()\n                    return false\n                }\n\n                // Check if `space` or `delete` was pressed or the picker is closed with a key movement.\n                if ( keycode == 32 || isKeycodeDelete || !STATE.open && P.component.key[keycode] ) {\n\n                    // Prevent it from moving the page and bubbling to doc.\n                    event.preventDefault()\n                    event.stopPropagation()\n\n                    // If `delete` was pressed, clear the values and close the picker.\n                    // Otherwise open the picker.\n                    if ( isKeycodeDelete ) { P.clear().close() }\n                    else { P.open() }\n                }\n            })\n        }\n\n\n        // Update the aria attributes.\n        aria(ELEMENT, {\n            haspopup: true,\n            expanded: false,\n            readonly: false,\n            owns: ELEMENT.id + '_root' + (P._hidden ? ' ' + P._hidden.id : '')\n        })\n    }\n\n\n    /**\n     * Prepare the root picker element with all bindings.\n     */\n    function prepareElementRoot() {\n\n        P.$root.\n\n            on({\n\n                // When something within the root is focused, stop from bubbling\n                // to the doc and remove the focused state from the root.\n                focusin: function( event ) {\n                    P.$root.removeClass( CLASSES.focused )\n                    aria( P.$root[0], 'selected', false )\n                    event.stopPropagation()\n                },\n\n                // When something within the root holder is clicked, stop it\n                // from bubbling to the doc.\n                'mousedown click': function( event ) {\n\n                    var target = event.target\n\n                    // Make sure the target isnt the root holder so it can bubble up.\n                    if ( target != P.$root.children()[ 0 ] ) {\n\n                        event.stopPropagation()\n\n                        // * For mousedown events, cancel the default action in order to\n                        //   prevent cases where focus is shifted onto external elements\n                        //   when using things like jQuery mobile or MagnificPopup (ref: #249 & #120).\n                        //   Also, for Firefox, dont prevent action on the `option` element.\n                        if ( event.type == 'mousedown' && !$( target ).is( ':input' ) && target.nodeName != 'OPTION' ) {\n\n                            event.preventDefault()\n\n                            // Re-focus onto the element so that users can click away\n                            // from elements focused within the picker.\n                            ELEMENT.focus()\n                        }\n                    }\n                }\n            }).\n\n            // If theres a click on an actionable element, carry out the actions.\n            on( 'click', '[data-pick], [data-nav], [data-clear]', function() {\n\n                var $target = $( this ),\n                    targetData = $target.data(),\n                    targetDisabled = $target.hasClass( CLASSES.navDisabled ) || $target.hasClass( CLASSES.disabled ),\n\n                    // * For IE, non-focusable elements can be active elements as well\n                    //   (http://stackoverflow.com/a/2684561).\n                    activeElement = document.activeElement\n                    activeElement = activeElement && ( activeElement.type || activeElement.href ) && activeElement\n\n                // If its disabled or nothing inside is actively focused, re-focus the element.\n                if ( targetDisabled || activeElement && !$.contains( P.$root[0], activeElement ) ) {\n                    ELEMENT.focus()\n                }\n\n                // If something is superficially changed, update the `highlight` based on the `nav`.\n                if ( targetData.nav && !targetDisabled ) {\n                    P.set( 'highlight', P.component.item.highlight, { nav: targetData.nav } )\n                }\n\n                // If something is picked, set `select` then close with focus.\n                else if ( PickerConstructor._.isInteger( targetData.pick ) && !targetDisabled ) {\n                    P.set( 'select', targetData.pick ).close( true )\n                }\n\n                // If a clear button is pressed, empty the values and close with focus.\n                else if ( targetData.clear ) {\n                    P.clear().close( true )\n                }\n            }) //P.$root\n\n        aria( P.$root[0], 'hidden', true )\n    }\n\n\n     /**\n      * Prepare the hidden input element along with all bindings.\n      */\n    function prepareElementHidden() {\n\n        var id = [\n            typeof SETTINGS.hiddenPrefix == 'string' ? SETTINGS.hiddenPrefix : '',\n            typeof SETTINGS.hiddenSuffix == 'string' ? SETTINGS.hiddenSuffix : '_submit'\n        ]\n\n        P._hidden = $(\n            '<input ' +\n            'type=hidden ' +\n\n            // Create the name and ID by using the original\n            // inputs with a prefix and suffix.\n            'name=\"' + id[0] + ELEMENT.name + id[1] + '\"' +\n            'id=\"' + id[0] + ELEMENT.id + id[1] + '\"' +\n\n            // If the element has a value, set the hidden value as well.\n            (\n                $ELEMENT.data('value') || ELEMENT.value ?\n                    ' value=\"' + P.get('select', SETTINGS.formatSubmit) + '\"' :\n                    ''\n            ) +\n            '>'\n        )[0]\n\n        $ELEMENT.\n\n            // If the value changes, update the hidden input with the correct format.\n            on('change.' + STATE.id, function() {\n                P._hidden.value = ELEMENT.value ?\n                    P.get('select', SETTINGS.formatSubmit) :\n                    ''\n            }).\n\n            // Insert the hidden input after the element.\n            after(P._hidden)\n    }\n\n\n    // Separated for IE\n    function focusToOpen( event ) {\n\n        // Stop the event from propagating to the doc.\n        event.stopPropagation()\n\n        // If its a focus event, add the focused class to the root.\n        if ( event.type == 'focus' ) {\n            P.$root.addClass( CLASSES.focused )\n            aria( P.$root[0], 'selected', true )\n        }\n\n        // And then finally open the picker.\n        P.open()\n    }\n\n\n    // Return a new picker instance.\n    return new PickerInstance()\n} //PickerConstructor\n\n\n\n/**\n * The default classes and prefix to use for the HTML classes.\n */\nPickerConstructor.klasses = function( prefix ) {\n    prefix = prefix || 'picker'\n    return {\n\n        picker: prefix,\n        opened: prefix + '--opened',\n        focused: prefix + '--focused',\n\n        input: prefix + '__input',\n        active: prefix + '__input--active',\n\n        holder: prefix + '__holder',\n\n        frame: prefix + '__frame',\n        wrap: prefix + '__wrap',\n\n        box: prefix + '__box'\n    }\n} //PickerConstructor.klasses\n\n\n\n/**\n * PickerConstructor helper methods.\n */\nPickerConstructor._ = {\n\n    /**\n     * Create a group of nodes. Expects:\n     * `\n        {\n            min:    {Integer},\n            max:    {Integer},\n            i:      {Integer},\n            node:   {String},\n            item:   {Function}\n        }\n     * `\n     */\n    group: function( groupObject ) {\n\n        var\n            // Scope for the looped object\n            loopObjectScope,\n\n            // Create the nodes list\n            nodesList = '',\n\n            // The counter starts from the `min`\n            counter = PickerConstructor._.trigger( groupObject.min, groupObject )\n\n\n        // Loop from the `min` to `max`, incrementing by `i`\n        for ( ; counter <= PickerConstructor._.trigger( groupObject.max, groupObject, [ counter ] ); counter += groupObject.i ) {\n\n            // Trigger the `item` function within scope of the object\n            loopObjectScope = PickerConstructor._.trigger( groupObject.item, groupObject, [ counter ] )\n\n            // Splice the subgroup and create nodes out of the sub nodes\n            nodesList += PickerConstructor._.node(\n                groupObject.node,\n                loopObjectScope[ 0 ],   // the node\n                loopObjectScope[ 1 ],   // the classes\n                loopObjectScope[ 2 ]    // the attributes\n            )\n        }\n\n        // Return the list of nodes\n        return nodesList\n    }, //group\n\n\n    /**\n     * Create a dom node string\n     */\n    node: function( wrapper, item, klass, attribute ) {\n\n        // If the item is false-y, just return an empty string\n        if ( !item ) return ''\n\n        // If the item is an array, do a join\n        item = $.isArray( item ) ? item.join( '' ) : item\n\n        // Check for the class\n        klass = klass ? ' class=\"' + klass + '\"' : ''\n\n        // Check for any attributes\n        attribute = attribute ? ' ' + attribute : ''\n\n        // Return the wrapped item\n        return '<' + wrapper + klass + attribute + '>' + item + '</' + wrapper + '>'\n    }, //node\n\n\n    /**\n     * Lead numbers below 10 with a zero.\n     */\n    lead: function( number ) {\n        return ( number < 10 ? '0': '' ) + number\n    },\n\n\n    /**\n     * Trigger a function otherwise return the value.\n     */\n    trigger: function( callback, scope, args ) {\n        return typeof callback == 'function' ? callback.apply( scope, args || [] ) : callback\n    },\n\n\n    /**\n     * If the second character is a digit, length is 2 otherwise 1.\n     */\n    digits: function( string ) {\n        return ( /\\d/ ).test( string[ 1 ] ) ? 2 : 1\n    },\n\n\n    /**\n     * Tell if something is a date object.\n     */\n    isDate: function( value ) {\n        return {}.toString.call( value ).indexOf( 'Date' ) > -1 && this.isInteger( value.getDate() )\n    },\n\n\n    /**\n     * Tell if something is an integer.\n     */\n    isInteger: function( value ) {\n        return {}.toString.call( value ).indexOf( 'Number' ) > -1 && value % 1 === 0\n    },\n\n\n    /**\n     * Create ARIA attribute strings.\n     */\n    ariaAttr: ariaAttr\n} //PickerConstructor._\n\n\n\n/**\n * Extend the picker with a component and defaults.\n */\nPickerConstructor.extend = function( name, Component ) {\n\n    // Extend jQuery.\n    $.fn[ name ] = function( options, action ) {\n\n        // Grab the component data.\n        var componentData = this.data( name )\n\n        // If the picker is requested, return the data object.\n        if ( options == 'picker' ) {\n            return componentData\n        }\n\n        // If the component data exists and `options` is a string, carry out the action.\n        if ( componentData && typeof options == 'string' ) {\n            PickerConstructor._.trigger( componentData[ options ], componentData, [ action ] )\n            return this\n        }\n\n        // Otherwise go through each matched element and if the component\n        // doesnt exist, create a new picker using `this` element\n        // and merging the defaults and options with a deep copy.\n        return this.each( function() {\n            var $this = $( this )\n            if ( !$this.data( name ) ) {\n                new PickerConstructor( this, name, Component, options )\n            }\n        })\n    }\n\n    // Set the defaults.\n    $.fn[ name ].defaults = Component.defaults\n} //PickerConstructor.extend\n\n\n\nfunction aria(element, attribute, value) {\n    if ( $.isPlainObject(attribute) ) {\n        for ( var key in attribute ) {\n            ariaSet(element, key, attribute[key])\n        }\n    }\n    else {\n        ariaSet(element, attribute, value)\n    }\n}\nfunction ariaSet(element, attribute, value) {\n    element.setAttribute(\n        (attribute == 'role' ? '' : 'aria-') +attribute,\n        value\n    )\n}\nfunction ariaAttr(attribute, data) {\n    if ( !$.isPlainObject(attribute) ) {\n        attribute = {attribute: data }\n    }\n    data = ''\n    for ( var key in attribute ) {\n        var attr = (key == 'role' ? '' : 'aria-') +key,\n            attrVal = attribute[key]\n        data += attrVal == null ? '' : attr + '=\"' + attribute[key] + '\"'\n    }\n    return data\n}\n\n\n\n// Expose the picker constructor.\nreturn PickerConstructor\n\n\n}));\n\n\n\n\n","\n/*!\n * Date picker for pickadate.js v3.4.0\n * http://amsul.github.io/pickadate.js/date.htm\n */\n\n(function ( factory ) {\n\n    // Register as an anonymous module.\n    if ( typeof define == 'function' && define.amd )\n        define( 'picker.date',['picker','jquery'], factory )\n\n    // Or using browser globals.\n    else factory( Picker, jQuery )\n\n}(function( Picker, $ ) {\n\n\n/**\n * Globals and constants\n */\nvar DAYS_IN_WEEK = 7,\n    WEEKS_IN_CALENDAR = 6,\n    _ = Picker._\n\n\n\n/**\n * The date picker constructor\n */\nfunction DatePicker( picker, settings ) {\n\n    var calendar = this,\n        elementValue = picker.$node[ 0 ].value,\n        elementDataValue = picker.$node.data( 'value' ),\n        valueString = elementDataValue || elementValue,\n        formatString = elementDataValue ? settings.formatSubmit : settings.format,\n        isRTL = function() {\n            return getComputedStyle( picker.$root[0] ).direction === 'rtl'\n        }\n\n    calendar.settings = settings\n    calendar.$node = picker.$node\n\n    // The queue of methods that will be used to build item objects.\n    calendar.queue = {\n        min: 'measure create',\n        max: 'measure create',\n        now: 'now create',\n        select: 'parse create validate',\n        highlight: 'parse navigate create validate',\n        view: 'parse create validate viewset',\n        disable: 'deactivate',\n        enable: 'activate'\n    }\n\n    // The component's item object.\n    calendar.item = {}\n\n    calendar.item.disable = ( settings.disable || [] ).slice( 0 )\n    calendar.item.enable = -(function( collectionDisabled ) {\n        return collectionDisabled[ 0 ] === true ? collectionDisabled.shift() : -1\n    })( calendar.item.disable )\n\n    calendar.\n        set( 'min', settings.min ).\n        set( 'max', settings.max ).\n        set( 'now' )\n\n    // When theres a value, set the `select`, which in turn\n    // also sets the `highlight` and `view`.\n    if ( valueString ) {\n        calendar.set( 'select', valueString, {\n            format: formatString,\n            fromValue: !!elementValue\n        })\n    }\n\n    // If theres no value, default to highlighting today.\n    else {\n        calendar.\n            set( 'select', null ).\n            set( 'highlight', calendar.item.now )\n    }\n\n\n    // The keycode to movement mapping.\n    calendar.key = {\n        40: 7, // Down\n        38: -7, // Up\n        39: function() { return isRTL() ? -1 : 1 }, // Right\n        37: function() { return isRTL() ? 1 : -1 }, // Left\n        go: function( timeChange ) {\n            var highlightedObject = calendar.item.highlight,\n                targetDate = new Date( highlightedObject.year, highlightedObject.month, highlightedObject.date + timeChange )\n            calendar.set(\n                'highlight',\n                [ targetDate.getFullYear(), targetDate.getMonth(), targetDate.getDate() ],\n                { interval: timeChange }\n            )\n            this.render()\n        }\n    }\n\n\n    // Bind some picker events.\n    picker.\n        on( 'render', function() {\n            picker.$root.find( '.' + settings.klass.selectMonth ).on( 'change', function() {\n                var value = this.value\n                if ( value ) {\n                    picker.set( 'highlight', [ picker.get( 'view' ).year, value, picker.get( 'highlight' ).date ] )\n                    picker.$root.find( '.' + settings.klass.selectMonth ).trigger( 'focus' )\n                }\n            })\n            picker.$root.find( '.' + settings.klass.selectYear ).on( 'change', function() {\n                var value = this.value\n                if ( value ) {\n                    picker.set( 'highlight', [ value, picker.get( 'view' ).month, picker.get( 'highlight' ).date ] )\n                    picker.$root.find( '.' + settings.klass.selectYear ).trigger( 'focus' )\n                }\n            })\n        }).\n        on( 'open', function() {\n            picker.$root.find( 'button, select' ).attr( 'disabled', false )\n        }).\n        on( 'close', function() {\n            picker.$root.find( 'button, select' ).attr( 'disabled', true )\n        })\n\n} //DatePicker\n\n\n/**\n * Set a datepicker item object.\n */\nDatePicker.prototype.set = function( type, value, options ) {\n\n    var calendar = this,\n        calendarItem = calendar.item\n\n    // If the value is `null` just set it immediately.\n    if ( value === null ) {\n        calendarItem[ type ] = value\n        return calendar\n    }\n\n    // Otherwise go through the queue of methods, and invoke the functions.\n    // Update this as the time unit, and set the final value as this item.\n    // * In the case of `enable`, keep the queue but set `disable` instead.\n    //   And in the case of `flip`, keep the queue but set `enable` instead.\n    calendarItem[ ( type == 'enable' ? 'disable' : type == 'flip' ? 'enable' : type ) ] = calendar.queue[ type ].split( ' ' ).map( function( method ) {\n        value = calendar[ method ]( type, value, options )\n        return value\n    }).pop()\n\n    // Check if we need to cascade through more updates.\n    if ( type == 'select' ) {\n        calendar.set( 'highlight', calendarItem.select, options )\n    }\n    else if ( type == 'highlight' ) {\n        calendar.set( 'view', calendarItem.highlight, options )\n    }\n    else if ( type.match( /^(flip|min|max|disable|enable)$/ ) ) {\n        if ( calendarItem.select && calendar.disabled( calendarItem.select ) ) {\n            calendar.set( 'select', calendarItem.select, options )\n        }\n        if ( calendarItem.highlight && calendar.disabled( calendarItem.highlight ) ) {\n            calendar.set( 'highlight', calendarItem.highlight, options )\n        }\n    }\n\n    return calendar\n} //DatePicker.prototype.set\n\n\n/**\n * Get a datepicker item object.\n */\nDatePicker.prototype.get = function( type ) {\n    return this.item[ type ]\n} //DatePicker.prototype.get\n\n\n/**\n * Create a picker date object.\n */\nDatePicker.prototype.create = function( type, value, options ) {\n\n    var isInfiniteValue,\n        calendar = this\n\n    // If theres no value, use the type as the value.\n    value = value === undefined ? type : value\n\n\n    // If its infinity, update the value.\n    if ( value == -Infinity || value == Infinity ) {\n        isInfiniteValue = value\n    }\n\n    // If its an object, use the native date object.\n    else if ( $.isPlainObject( value ) && _.isInteger( value.pick ) ) {\n        value = value.obj\n    }\n\n    // If its an array, convert it into a date and make sure\n    // that its a valid date  otherwise default to today.\n    else if ( $.isArray( value ) ) {\n        value = new Date( value[ 0 ], value[ 1 ], value[ 2 ] )\n        value = _.isDate( value ) ? value : calendar.create().obj\n    }\n\n    // If its a number or date object, make a normalized date.\n    else if ( _.isInteger( value ) || _.isDate( value ) ) {\n        value = calendar.normalize( new Date( value ), options )\n    }\n\n    // If its a literal true or any other case, set it to now.\n    else /*if ( value === true )*/ {\n        value = calendar.now( type, value, options )\n    }\n\n    // Return the compiled object.\n    return {\n        year: isInfiniteValue || value.getFullYear(),\n        month: isInfiniteValue || value.getMonth(),\n        date: isInfiniteValue || value.getDate(),\n        day: isInfiniteValue || value.getDay(),\n        obj: isInfiniteValue || value,\n        pick: isInfiniteValue || value.getTime()\n    }\n} //DatePicker.prototype.create\n\n\n/**\n * Create a range limit object using an array, date object,\n * literal true, or integer relative to another time.\n */\nDatePicker.prototype.createRange = function( from, to ) {\n\n    var calendar = this,\n        createDate = function( date ) {\n            if ( date === true || $.isArray( date ) || _.isDate( date ) ) {\n                return calendar.create( date )\n            }\n            return date\n        }\n\n    // Create objects if possible.\n    if ( !_.isInteger( from ) ) {\n        from = createDate( from )\n    }\n    if ( !_.isInteger( to ) ) {\n        to = createDate( to )\n    }\n\n    // Create relative dates.\n    if ( _.isInteger( from ) && $.isPlainObject( to ) ) {\n        from = [ to.year, to.month, to.date + from ];\n    }\n    else if ( _.isInteger( to ) && $.isPlainObject( from ) ) {\n        to = [ from.year, from.month, from.date + to ];\n    }\n\n    return {\n        from: createDate( from ),\n        to: createDate( to )\n    }\n} //DatePicker.prototype.createRange\n\n\n/**\n * Check if a date unit falls within a date range object.\n */\nDatePicker.prototype.withinRange = function( range, dateUnit ) {\n    range = this.createRange(range.from, range.to)\n    return dateUnit.pick >= range.from.pick && dateUnit.pick <= range.to.pick\n}\n\n\n/**\n * Check if two date range objects overlap.\n */\nDatePicker.prototype.overlapRanges = function( one, two ) {\n\n    var calendar = this\n\n    // Convert the ranges into comparable dates.\n    one = calendar.createRange( one.from, one.to )\n    two = calendar.createRange( two.from, two.to )\n\n    return calendar.withinRange( one, two.from ) ||calendar.withinRange( one, two.to ) ||\n        calendar.withinRange( two, one.from ) || calendar.withinRange( two, one.to )\n}\n\n\n/**\n * Get the date today.\n */\nDatePicker.prototype.now = function( type, value, options ) {\n    value = new Date()\n    if ( options && options.rel ) {\n        value.setDate( value.getDate() + options.rel )\n    }\n    return this.normalize( value, options )\n}\n\n\n/**\n * Navigate to next/prev month.\n */\nDatePicker.prototype.navigate = function( type, value, options ) {\n\n    var targetDateObject,\n        targetYear,\n        targetMonth,\n        targetDate,\n        isTargetArray = $.isArray( value ),\n        isTargetObject = $.isPlainObject( value ),\n        viewsetObject = this.item.view/*,\n        safety = 100*/\n\n\n    if ( isTargetArray || isTargetObject ) {\n\n        if ( isTargetObject ) {\n            targetYear = value.year\n            targetMonth = value.month\n            targetDate = value.date\n        }\n        else {\n            targetYear = +value[0]\n            targetMonth = +value[1]\n            targetDate = +value[2]\n        }\n\n        // If were navigating months but the view is in a different\n        // month, navigate to the views year and month.\n        if ( options && options.nav && viewsetObject && viewsetObject.month !== targetMonth ) {\n            targetYear = viewsetObject.year\n            targetMonth = viewsetObject.month\n        }\n\n        // Figure out the expected target year and month.\n        targetDateObject = new Date( targetYear, targetMonth + ( options && options.nav ? options.nav : 0 ), 1 )\n        targetYear = targetDateObject.getFullYear()\n        targetMonth = targetDateObject.getMonth()\n\n        // If the month were going to doesnt have enough days,\n        // keep decreasing the date until we reach the months last date.\n        while ( /*safety &&*/ new Date( targetYear, targetMonth, targetDate ).getMonth() !== targetMonth ) {\n            targetDate -= 1\n            /*safety -= 1\n            if ( !safety ) {\n                throw 'Fell into an infinite loop while navigating to ' + new Date( targetYear, targetMonth, targetDate ) + '.'\n            }*/\n        }\n\n        value = [ targetYear, targetMonth, targetDate ]\n    }\n\n    return value\n} //DatePicker.prototype.navigate\n\n\n/**\n * Normalize a date by setting the hours to midnight.\n */\nDatePicker.prototype.normalize = function( value/*, options*/ ) {\n    value.setHours( 0, 0, 0, 0 )\n    return value\n}\n\n\n/**\n * Measure the range of dates.\n */\nDatePicker.prototype.measure = function( type, value/*, options*/ ) {\n\n    var calendar = this\n\n    // If it's anything false-y, remove the limits.\n    if ( !value ) {\n        value = type == 'min' ? -Infinity : Infinity\n    }\n\n    // If it's an integer, get a date relative to today.\n    else if ( _.isInteger( value ) ) {\n        value = calendar.now( type, value, { rel: value } )\n    }\n\n    return value\n} ///DatePicker.prototype.measure\n\n\n/**\n * Create a viewset object based on navigation.\n */\nDatePicker.prototype.viewset = function( type, dateObject/*, options*/ ) {\n    return this.create([ dateObject.year, dateObject.month, 1 ])\n}\n\n\n/**\n * Validate a date as enabled and shift if needed.\n */\nDatePicker.prototype.validate = function( type, dateObject, options ) {\n\n    var calendar = this,\n\n        // Keep a reference to the original date.\n        originalDateObject = dateObject,\n\n        // Make sure we have an interval.\n        interval = options && options.interval ? options.interval : 1,\n\n        // Check if the calendar enabled dates are inverted.\n        isFlippedBase = calendar.item.enable === -1,\n\n        // Check if we have any enabled dates after/before now.\n        hasEnabledBeforeTarget, hasEnabledAfterTarget,\n\n        // The min & max limits.\n        minLimitObject = calendar.item.min,\n        maxLimitObject = calendar.item.max,\n\n        // Check if weve reached the limit during shifting.\n        reachedMin, reachedMax,\n\n        // Check if the calendar is inverted and at least one weekday is enabled.\n        hasEnabledWeekdays = isFlippedBase && calendar.item.disable.filter( function( value ) {\n\n            // If theres a date, check where it is relative to the target.\n            if ( $.isArray( value ) ) {\n                var dateTime = calendar.create( value ).pick\n                if ( dateTime < dateObject.pick ) hasEnabledBeforeTarget = true\n                else if ( dateTime > dateObject.pick ) hasEnabledAfterTarget = true\n            }\n\n            // Return only integers for enabled weekdays.\n            return _.isInteger( value )\n        }).length/*,\n\n        safety = 100*/\n\n\n\n    // Cases to validate for:\n    // [1] Not inverted and date disabled.\n    // [2] Inverted and some dates enabled.\n    // [3] Not inverted and out of range.\n    //\n    // Cases to **not** validate for:\n    //  Navigating months.\n    //  Not inverted and date enabled.\n    //  Inverted and all dates disabled.\n    //  ..and anything else.\n    if ( !options || !options.nav ) if (\n        /* 1 */ ( !isFlippedBase && calendar.disabled( dateObject ) ) ||\n        /* 2 */ ( isFlippedBase && calendar.disabled( dateObject ) && ( hasEnabledWeekdays || hasEnabledBeforeTarget || hasEnabledAfterTarget ) ) ||\n        /* 3 */ ( !isFlippedBase && (dateObject.pick <= minLimitObject.pick || dateObject.pick >= maxLimitObject.pick) )\n    ) {\n\n\n        // When inverted, flip the direction if there arent any enabled weekdays\n        // and there are no enabled dates in the direction of the interval.\n        if ( isFlippedBase && !hasEnabledWeekdays && ( ( !hasEnabledAfterTarget && interval > 0 ) || ( !hasEnabledBeforeTarget && interval < 0 ) ) ) {\n            interval *= -1\n        }\n\n\n        // Keep looping until we reach an enabled date.\n        while ( /*safety &&*/ calendar.disabled( dateObject ) ) {\n\n            /*safety -= 1\n            if ( !safety ) {\n                throw 'Fell into an infinite loop while validating ' + dateObject.obj + '.'\n            }*/\n\n\n            // If weve looped into the next/prev month with a large interval, return to the original date and flatten the interval.\n            if ( Math.abs( interval ) > 1 && ( dateObject.month < originalDateObject.month || dateObject.month > originalDateObject.month ) ) {\n                dateObject = originalDateObject\n                interval = interval > 0 ? 1 : -1\n            }\n\n\n            // If weve reached the min/max limit, reverse the direction, flatten the interval and set it to the limit.\n            if ( dateObject.pick <= minLimitObject.pick ) {\n                reachedMin = true\n                interval = 1\n                dateObject = calendar.create([ minLimitObject.year, minLimitObject.month, minLimitObject.date - 1 ])\n            }\n            else if ( dateObject.pick >= maxLimitObject.pick ) {\n                reachedMax = true\n                interval = -1\n                dateObject = calendar.create([ maxLimitObject.year, maxLimitObject.month, maxLimitObject.date + 1 ])\n            }\n\n\n            // If weve reached both limits, just break out of the loop.\n            if ( reachedMin && reachedMax ) {\n                break\n            }\n\n\n            // Finally, create the shifted date using the interval and keep looping.\n            dateObject = calendar.create([ dateObject.year, dateObject.month, dateObject.date + interval ])\n        }\n\n    } //endif\n\n\n    // Return the date object settled on.\n    return dateObject\n} //DatePicker.prototype.validate\n\n\n/**\n * Check if a date is disabled.\n */\nDatePicker.prototype.disabled = function( dateToVerify ) {\n\n    var\n        calendar = this,\n\n        // Filter through the disabled dates to check if this is one.\n        isDisabledMatch = calendar.item.disable.filter( function( dateToDisable ) {\n\n            // If the date is a number, match the weekday with 0index and `firstDay` check.\n            if ( _.isInteger( dateToDisable ) ) {\n                return dateToVerify.day === ( calendar.settings.firstDay ? dateToDisable : dateToDisable - 1 ) % 7\n            }\n\n            // If its an array or a native JS date, create and match the exact date.\n            if ( $.isArray( dateToDisable ) || _.isDate( dateToDisable ) ) {\n                return dateToVerify.pick === calendar.create( dateToDisable ).pick\n            }\n\n            // If its an object, match a date within the from and to range.\n            if ( $.isPlainObject( dateToDisable ) ) {\n                return calendar.withinRange( dateToDisable, dateToVerify )\n            }\n        })\n\n    // If this date matches a disabled date, confirm its not inverted.\n    isDisabledMatch = isDisabledMatch.length && !isDisabledMatch.filter(function( dateToDisable ) {\n        return $.isArray( dateToDisable ) && dateToDisable[3] == 'inverted' ||\n            $.isPlainObject( dateToDisable ) && dateToDisable.inverted\n    }).length\n\n    // Check the calendar enabled flag and respectively flip the\n    // disabled state. Then also check if its beyond the min/max limits.\n    return calendar.item.enable === -1 ? !isDisabledMatch : isDisabledMatch ||\n        dateToVerify.pick < calendar.item.min.pick ||\n        dateToVerify.pick > calendar.item.max.pick\n\n} //DatePicker.prototype.disabled\n\n\n/**\n * Parse a string into a usable type.\n */\nDatePicker.prototype.parse = function( type, value, options ) {\n\n    var calendar = this,\n        parsingObject = {},\n        monthIndex\n\n    if ( !value || _.isInteger( value ) || $.isArray( value ) || _.isDate( value ) || $.isPlainObject( value ) && _.isInteger( value.pick ) ) {\n        return value\n    }\n\n    // We need a `.format` to parse the value with.\n    if ( !( options && options.format ) ) {\n        options = options || {}\n        options.format = calendar.settings.format\n    }\n\n    // Calculate the month index to adjust with.\n    monthIndex = typeof value == 'string' && !options.fromValue ?1 : 0\n\n    // Convert the format into an array and then map through it.\n    calendar.formats.toArray( options.format ).map( function( label ) {\n\n        var\n            // Grab the formatting label.\n            formattingLabel = calendar.formats[ label ],\n\n            // The format length is from the formatting label function or the\n            // label length without the escaping exclamation (!) mark.\n            formatLength = formattingLabel ? _.trigger( formattingLabel, calendar, [ value, parsingObject ] ) : label.replace( /^!/, '' ).length\n\n        // If there's a format label, split the value up to the format length.\n        // Then add it to the parsing object with appropriate label.\n        if ( formattingLabel ) {\n            parsingObject[ label ] = value.substr( 0, formatLength )\n        }\n\n        // Update the value as the substring from format length to end.\n        value = value.substr( formatLength )\n    })\n\n    // If its parsing a user provided month value, compensate for month 0index.\n    return [\n        parsingObject.yyyy || parsingObject.yy,\n        +( parsingObject.mm || parsingObject.m ) - monthIndex,\n        parsingObject.dd || parsingObject.d\n    ]\n} //DatePicker.prototype.parse\n\n\n/**\n * Various formats to display the object in.\n */\nDatePicker.prototype.formats = (function() {\n\n    // Return the length of the first word in a collection.\n    function getWordLengthFromCollection( string, collection, dateObject ) {\n\n        // Grab the first word from the string.\n        var word = string.match( /\\w+/ )[ 0 ]\n\n        // If there's no month index, add it to the date object\n        if ( !dateObject.mm && !dateObject.m ) {\n            dateObject.m = collection.indexOf( word )\n        }\n\n        // Return the length of the word.\n        return word.length\n    }\n\n    // Get the length of the first word in a string.\n    function getFirstWordLength( string ) {\n        return string.match( /\\w+/ )[ 0 ].length\n    }\n\n    return {\n\n        d: function( string, dateObject ) {\n\n            // If there's string, then get the digits length.\n            // Otherwise return the selected date.\n            return string ? _.digits( string ) : dateObject.date\n        },\n        dd: function( string, dateObject ) {\n\n            // If there's a string, then the length is always 2.\n            // Otherwise return the selected date with a leading zero.\n            return string ? 2 : _.lead( dateObject.date )\n        },\n        ddd: function( string, dateObject ) {\n\n            // If there's a string, then get the length of the first word.\n            // Otherwise return the short selected weekday.\n            return string ? getFirstWordLength( string ) : this.settings.weekdaysShort[ dateObject.day ]\n        },\n        dddd: function( string, dateObject ) {\n\n            // If there's a string, then get the length of the first word.\n            // Otherwise return the full selected weekday.\n            return string ? getFirstWordLength( string ) : this.settings.weekdaysFull[ dateObject.day ]\n        },\n        m: function( string, dateObject ) {\n\n            // If there's a string, then get the length of the digits\n            // Otherwise return the selected month with 0index compensation.\n            return string ? _.digits( string ) : dateObject.month + 1\n        },\n        mm: function( string, dateObject ) {\n\n            // If there's a string, then the length is always 2.\n            // Otherwise return the selected month with 0index and leading zero.\n            return string ? 2 : _.lead( dateObject.month + 1 )\n        },\n        mmm: function( string, dateObject ) {\n\n            var collection = this.settings.monthsShort\n\n            // If there's a string, get length of the relevant month from the short\n            // months collection. Otherwise return the selected month from that collection.\n            return string ? getWordLengthFromCollection( string, collection, dateObject ) : collection[ dateObject.month ]\n        },\n        mmmm: function( string, dateObject ) {\n\n            var collection = this.settings.monthsFull\n\n            // If there's a string, get length of the relevant month from the full\n            // months collection. Otherwise return the selected month from that collection.\n            return string ? getWordLengthFromCollection( string, collection, dateObject ) : collection[ dateObject.month ]\n        },\n        yy: function( string, dateObject ) {\n\n            // If there's a string, then the length is always 2.\n            // Otherwise return the selected year by slicing out the first 2 digits.\n            return string ? 2 : ( '' + dateObject.year ).slice( 2 )\n        },\n        yyyy: function( string, dateObject ) {\n\n            // If there's a string, then the length is always 4.\n            // Otherwise return the selected year.\n            return string ? 4 : dateObject.year\n        },\n\n        // Create an array by splitting the formatting string passed.\n        toArray: function( formatString ) { return formatString.split( /(d{1,4}|m{1,4}|y{4}|yy|!.)/g ) },\n\n        // Format an object into a string using the formatting options.\n        toString: function ( formatString, itemObject ) {\n            var calendar = this\n            return calendar.formats.toArray( formatString ).map( function( label ) {\n                return _.trigger( calendar.formats[ label ], calendar, [ 0, itemObject ] ) || label.replace( /^!/, '' )\n            }).join( '' )\n        }\n    }\n})() //DatePicker.prototype.formats\n\n\n\n\n/**\n * Check if two date units are the exact.\n */\nDatePicker.prototype.isDateExact = function( one, two ) {\n\n    var calendar = this\n\n    // When were working with weekdays, do a direct comparison.\n    if (\n        ( _.isInteger( one ) && _.isInteger( two ) ) ||\n        ( typeof one == 'boolean' && typeof two == 'boolean' )\n     ) {\n        return one === two\n    }\n\n    // When were working with date representations, compare the pick value.\n    if (\n        ( _.isDate( one ) || $.isArray( one ) ) &&\n        ( _.isDate( two ) || $.isArray( two ) )\n    ) {\n        return calendar.create( one ).pick === calendar.create( two ).pick\n    }\n\n    // When were working with range objects, compare the from and to.\n    if ( $.isPlainObject( one ) && $.isPlainObject( two ) ) {\n        return calendar.isDateExact( one.from, two.from ) && calendar.isDateExact( one.to, two.to )\n    }\n\n    return false\n}\n\n\n/**\n * Check if two date units overlap.\n */\nDatePicker.prototype.isDateOverlap = function( one, two ) {\n\n    var calendar = this\n\n    // When were working with a weekday index, compare the days.\n    if ( _.isInteger( one ) && ( _.isDate( two ) || $.isArray( two ) ) ) {\n        return one === calendar.create( two ).day + 1\n    }\n    if ( _.isInteger( two ) && ( _.isDate( one ) || $.isArray( one ) ) ) {\n        return two === calendar.create( one ).day + 1\n    }\n\n    // When were working with range objects, check if the ranges overlap.\n    if ( $.isPlainObject( one ) && $.isPlainObject( two ) ) {\n        return calendar.overlapRanges( one, two )\n    }\n\n    return false\n}\n\n\n/**\n * Flip the enabled state.\n */\nDatePicker.prototype.flipEnable = function(val) {\n    var itemObject = this.item\n    itemObject.enable = val || (itemObject.enable == -1 ? 1 : -1)\n}\n\n\n/**\n * Mark a collection of dates as disabled.\n */\nDatePicker.prototype.deactivate = function( type, datesToDisable ) {\n\n    var calendar = this,\n        disabledItems = calendar.item.disable.slice(0)\n\n\n    // If were flipping, thats all we need to do.\n    if ( datesToDisable == 'flip' ) {\n        calendar.flipEnable()\n    }\n\n    else if ( datesToDisable === false ) {\n        calendar.flipEnable(1)\n        disabledItems = []\n    }\n\n    else if ( datesToDisable === true ) {\n        calendar.flipEnable(-1)\n        disabledItems = []\n    }\n\n    // Otherwise go through the dates to disable.\n    else {\n\n        datesToDisable.map(function( unitToDisable ) {\n\n            var matchFound\n\n            // When we have disabled items, check for matches.\n            // If something is matched, immediately break out.\n            for ( var index = 0; index < disabledItems.length; index += 1 ) {\n                if ( calendar.isDateExact( unitToDisable, disabledItems[index] ) ) {\n                    matchFound = true\n                    break\n                }\n            }\n\n            // If nothing was found, add the validated unit to the collection.\n            if ( !matchFound ) {\n                if (\n                    _.isInteger( unitToDisable ) ||\n                    _.isDate( unitToDisable ) ||\n                    $.isArray( unitToDisable ) ||\n                    ( $.isPlainObject( unitToDisable ) && unitToDisable.from && unitToDisable.to )\n                ) {\n                    disabledItems.push( unitToDisable )\n                }\n            }\n        })\n    }\n\n    // Return the updated collection.\n    return disabledItems\n} //DatePicker.prototype.deactivate\n\n\n/**\n * Mark a collection of dates as enabled.\n */\nDatePicker.prototype.activate = function( type, datesToEnable ) {\n\n    var calendar = this,\n        disabledItems = calendar.item.disable,\n        disabledItemsCount = disabledItems.length\n\n    // If were flipping, thats all we need to do.\n    if ( datesToEnable == 'flip' ) {\n        calendar.flipEnable()\n    }\n\n    else if ( datesToEnable === true ) {\n        calendar.flipEnable(1)\n        disabledItems = []\n    }\n\n    else if ( datesToEnable === false ) {\n        calendar.flipEnable(-1)\n        disabledItems = []\n    }\n\n    // Otherwise go through the disabled dates.\n    else {\n\n        datesToEnable.map(function( unitToEnable ) {\n\n            var matchFound,\n                disabledUnit,\n                index,\n                isExactRange\n\n            // Go through the disabled items and try to find a match.\n            for ( index = 0; index < disabledItemsCount; index += 1 ) {\n\n                disabledUnit = disabledItems[index]\n\n                // When an exact match is found, remove it from the collection.\n                if ( calendar.isDateExact( disabledUnit, unitToEnable ) ) {\n                    matchFound = disabledItems[index] = null\n                    isExactRange = true\n                    break\n                }\n\n                // When an overlapped match is found, add the inverted state to it.\n                else if ( calendar.isDateOverlap( disabledUnit, unitToEnable ) ) {\n                    if ( $.isPlainObject( unitToEnable ) ) {\n                        unitToEnable.inverted = true\n                        matchFound = unitToEnable\n                    }\n                    else if ( $.isArray( unitToEnable ) ) {\n                        matchFound = unitToEnable\n                        if ( !matchFound[3] ) matchFound.push( 'inverted' )\n                    }\n                    else if ( _.isDate( unitToEnable ) ) {\n                        matchFound = [ unitToEnable.getFullYear(), unitToEnable.getMonth(), unitToEnable.getDate(), 'inverted' ]\n                    }\n                    break\n                }\n            }\n\n            // If a match was found, remove a previous duplicate entry.\n            if ( matchFound ) for ( index = 0; index < disabledItemsCount; index += 1 ) {\n                if ( calendar.isDateExact( disabledItems[index], unitToEnable ) ) {\n                    disabledItems[index] = null\n                    break\n                }\n            }\n\n            // In the event that were dealing with an exact range of dates,\n            // make sure there are no inverted dates because of it.\n            if ( isExactRange ) for ( index = 0; index < disabledItemsCount; index += 1 ) {\n                if ( calendar.isDateOverlap( disabledItems[index], unitToEnable ) ) {\n                    disabledItems[index] = null\n                    break\n                }\n            }\n\n            // If something is still matched, add it into the collection.\n            if ( matchFound ) {\n                disabledItems.push( matchFound )\n            }\n        })\n    }\n\n    // Return the updated collection.\n    return disabledItems.filter(function( val ) { return val != null })\n} //DatePicker.prototype.activate\n\n\n/**\n * Create a string for the nodes in the picker.\n */\nDatePicker.prototype.nodes = function( isOpen ) {\n\n    var\n        calendar = this,\n        settings = calendar.settings,\n        calendarItem = calendar.item,\n        nowObject = calendarItem.now,\n        selectedObject = calendarItem.select,\n        highlightedObject = calendarItem.highlight,\n        viewsetObject = calendarItem.view,\n        disabledCollection = calendarItem.disable,\n        minLimitObject = calendarItem.min,\n        maxLimitObject = calendarItem.max,\n\n\n        // Create the calendar table head using a copy of weekday labels collection.\n        // * We do a copy so we don't mutate the original array.\n        tableHead = (function( collection ) {\n\n            // If the first day should be Monday, move Sunday to the end.\n            if ( settings.firstDay ) {\n                collection.push( collection.shift() )\n            }\n\n            // Create and return the table head group.\n            return _.node(\n                'thead',\n                _.node(\n                    'tr',\n                    _.group({\n                        min: 0,\n                        max: DAYS_IN_WEEK - 1,\n                        i: 1,\n                        node: 'th',\n                        item: function( counter ) {\n                            return [\n                                collection[ counter ],\n                                settings.klass.weekdays\n                            ]\n                        }\n                    })\n                )\n            ) //endreturn\n        })( ( settings.showWeekdaysFull ? settings.weekdaysFull : settings.weekdaysShort ).slice( 0 ) ), //tableHead\n\n\n        // Create the nav for next/prev month.\n        createMonthNav = function( next ) {\n\n            // Otherwise, return the created month tag.\n            return _.node(\n                'div',\n                ' ',\n                settings.klass[ 'nav' + ( next ? 'Next' : 'Prev' ) ] + (\n\n                    // If the focused month is outside the range, disabled the button.\n                    ( next && viewsetObject.year >= maxLimitObject.year && viewsetObject.month >= maxLimitObject.month ) ||\n                    ( !next && viewsetObject.year <= minLimitObject.year && viewsetObject.month <= minLimitObject.month ) ?\n                    ' ' + settings.klass.navDisabled : ''\n                ),\n                'data-nav=' + ( next || -1 )\n            ) //endreturn\n        }, //createMonthNav\n\n\n        // Create the month label.\n        createMonthLabel = function( monthsCollection ) {\n\n            // If there are months to select, add a dropdown menu.\n            if ( settings.selectMonths ) {\n\n                return _.node( 'select', _.group({\n                    min: 0,\n                    max: 11,\n                    i: 1,\n                    node: 'option',\n                    item: function( loopedMonth ) {\n\n                        return [\n\n                            // The looped month and no classes.\n                            monthsCollection[ loopedMonth ], 0,\n\n                            // Set the value and selected index.\n                            'value=' + loopedMonth +\n                            ( viewsetObject.month == loopedMonth ? ' selected' : '' ) +\n                            (\n                                (\n                                    ( viewsetObject.year == minLimitObject.year && loopedMonth < minLimitObject.month ) ||\n                                    ( viewsetObject.year == maxLimitObject.year && loopedMonth > maxLimitObject.month )\n                                ) ?\n                                ' disabled' : ''\n                            )\n                        ]\n                    }\n                }), settings.klass.selectMonth, isOpen ? '' : 'disabled' )\n            }\n\n            // If there's a need for a month selector\n            return _.node( 'div', monthsCollection[ viewsetObject.month ], settings.klass.month )\n        }, //createMonthLabel\n\n\n        // Create the year label.\n        createYearLabel = function() {\n\n            var focusedYear = viewsetObject.year,\n\n            // If years selector is set to a literal \"true\", set it to 5. Otherwise\n            // divide in half to get half before and half after focused year.\n            numberYears = settings.selectYears === true ? 5 : ~~( settings.selectYears / 2 )\n\n            // If there are years to select, add a dropdown menu.\n            if ( numberYears ) {\n\n                var\n                    minYear = minLimitObject.year,\n                    maxYear = maxLimitObject.year,\n                    lowestYear = focusedYear - numberYears,\n                    highestYear = focusedYear + numberYears\n\n                // If the min year is greater than the lowest year, increase the highest year\n                // by the difference and set the lowest year to the min year.\n                if ( minYear > lowestYear ) {\n                    highestYear += minYear - lowestYear\n                    lowestYear = minYear\n                }\n\n                // If the max year is less than the highest year, decrease the lowest year\n                // by the lower of the two: available and needed years. Then set the\n                // highest year to the max year.\n                if ( maxYear < highestYear ) {\n\n                    var availableYears = lowestYear - minYear,\n                        neededYears = highestYear - maxYear\n\n                    lowestYear -= availableYears > neededYears ? neededYears : availableYears\n                    highestYear = maxYear\n                }\n\n                return _.node( 'select', _.group({\n                    min: lowestYear,\n                    max: highestYear,\n                    i: 1,\n                    node: 'option',\n                    item: function( loopedYear ) {\n                        return [\n\n                            // The looped year and no classes.\n                            loopedYear, 0,\n\n                            // Set the value and selected index.\n                            'value=' + loopedYear + ( focusedYear == loopedYear ? ' selected' : '' )\n                        ]\n                    }\n                }), settings.klass.selectYear, isOpen ? '' : 'disabled' )\n            }\n\n            // Otherwise just return the year focused\n            return _.node( 'div', focusedYear, settings.klass.year )\n        } //createYearLabel\n\n\n    // Create and return the entire calendar.\n    return _.node(\n        'div',\n        createMonthNav() + createMonthNav( 1 ) +\n        createMonthLabel( settings.showMonthsShort ? settings.monthsShort : settings.monthsFull ) +\n        createYearLabel(),\n        settings.klass.header\n    ) + _.node(\n        'table',\n        tableHead +\n        _.node(\n            'tbody',\n            _.group({\n                min: 0,\n                max: WEEKS_IN_CALENDAR - 1,\n                i: 1,\n                node: 'tr',\n                item: function( rowCounter ) {\n\n                    // If Monday is the first day and the month starts on Sunday, shift the date back a week.\n                    var shiftDateBy = settings.firstDay && calendar.create([ viewsetObject.year, viewsetObject.month, 1 ]).day === 0 ? -7 : 0\n\n                    return [\n                        _.group({\n                            min: DAYS_IN_WEEK * rowCounter - viewsetObject.day + shiftDateBy + 1, // Add 1 for weekday 0index\n                            max: function() {\n                                return this.min + DAYS_IN_WEEK - 1\n                            },\n                            i: 1,\n                            node: 'td',\n                            item: function( targetDate ) {\n\n                                // Convert the time date from a relative date to a target date.\n                                targetDate = calendar.create([ viewsetObject.year, viewsetObject.month, targetDate + ( settings.firstDay ? 1 : 0 ) ])\n\n                                var isSelected = selectedObject && selectedObject.pick == targetDate.pick,\n                                    isHighlighted = highlightedObject && highlightedObject.pick == targetDate.pick,\n                                    isDisabled = disabledCollection && calendar.disabled( targetDate ) || targetDate.pick < minLimitObject.pick || targetDate.pick > maxLimitObject.pick\n\n                                return [\n                                    _.node(\n                                        'div',\n                                        targetDate.date,\n                                        (function( klasses ) {\n\n                                            // Add the `infocus` or `outfocus` classes based on month in view.\n                                            klasses.push( viewsetObject.month == targetDate.month ? settings.klass.infocus : settings.klass.outfocus )\n\n                                            // Add the `today` class if needed.\n                                            if ( nowObject.pick == targetDate.pick ) {\n                                                klasses.push( settings.klass.now )\n                                            }\n\n                                            // Add the `selected` class if something's selected and the time matches.\n                                            if ( isSelected ) {\n                                                klasses.push( settings.klass.selected )\n                                            }\n\n                                            // Add the `highlighted` class if something's highlighted and the time matches.\n                                            if ( isHighlighted ) {\n                                                klasses.push( settings.klass.highlighted )\n                                            }\n\n                                            // Add the `disabled` class if something's disabled and the object matches.\n                                            if ( isDisabled ) {\n                                                klasses.push( settings.klass.disabled )\n                                            }\n\n                                            return klasses.join( ' ' )\n                                        })([ settings.klass.day ]),\n                                        'data-pick=' + targetDate.pick + ' ' + _.ariaAttr({\n                                            role: 'button',\n                                            controls: calendar.$node[0].id,\n                                            checked: isSelected && calendar.$node.val() === _.trigger(\n                                                    calendar.formats.toString,\n                                                    calendar,\n                                                    [ settings.format, targetDate ]\n                                                ) ? true : null,\n                                            activedescendant: isHighlighted ? true : null,\n                                            disabled: isDisabled ? true : null\n                                        })\n                                    )\n                                ] //endreturn\n                            }\n                        })\n                    ] //endreturn\n                }\n            })\n        ),\n        settings.klass.table\n    ) +\n\n    // * For Firefox forms to submit, make sure to set the buttons `type` attributes as button.\n    _.node(\n        'div',\n        _.node( 'button', settings.today, settings.klass.buttonToday, 'type=button data-pick=' + nowObject.pick + ( isOpen ? '' : ' disabled' ) ) +\n        _.node( 'button', settings.clear, settings.klass.buttonClear, 'type=button data-clear=1' + ( isOpen ? '' : ' disabled' ) ),\n        settings.klass.footer\n    ) //endreturn\n} //DatePicker.prototype.nodes\n\n\n\n\n/**\n * The date picker defaults.\n */\nDatePicker.defaults = (function( prefix ) {\n\n    return {\n\n        // Months and weekdays\n        monthsFull: [ 'January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ],\n        monthsShort: [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ],\n        weekdaysFull: [ 'Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday' ],\n        weekdaysShort: [ 'Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat' ],\n\n        // Today and clear\n        today: 'Today',\n        clear: 'Clear',\n\n        // The format to show on the `input` element\n        format: 'd mmmm, yyyy',\n\n        // Classes\n        klass: {\n\n            table: prefix + 'table',\n\n            header: prefix + 'header',\n\n            navPrev: prefix + 'nav--prev',\n            navNext: prefix + 'nav--next',\n            navDisabled: prefix + 'nav--disabled',\n\n            month: prefix + 'month',\n            year: prefix + 'year',\n\n            selectMonth: prefix + 'select--month',\n            selectYear: prefix + 'select--year',\n\n            weekdays: prefix + 'weekday',\n\n            day: prefix + 'day',\n            disabled: prefix + 'day--disabled',\n            selected: prefix + 'day--selected',\n            highlighted: prefix + 'day--highlighted',\n            now: prefix + 'day--today',\n            infocus: prefix + 'day--infocus',\n            outfocus: prefix + 'day--outfocus',\n\n            footer: prefix + 'footer',\n\n            buttonClear: prefix + 'button--clear',\n            buttonToday: prefix + 'button--today'\n        }\n    }\n})( Picker.klasses().picker + '__' )\n\n\n\n\n\n/**\n * Extend the picker to add the date picker.\n */\nPicker.extend( 'pickadate', DatePicker )\n\n\n}));\n\n\n\n\n","define('bindings/all-bindings',['require','exports','module','jquery','knockout','moment','helpers/modal-helper','helpers/file-helper','jquery.slimscroll','bootstrap/modal','bootstrap/dropdown','picker.date'],function (require, exports, module) {\n/** @module bindings/all-bindings */\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar ko = require('knockout');\r\nvar appMoment = require('moment');\r\nvar bootstrapModal = require('helpers/modal-helper');\r\nvar fileHelper = require('helpers/file-helper');\r\n\r\nrequire('jquery.slimscroll');\r\nrequire('bootstrap/modal');\r\nrequire('bootstrap/dropdown');\r\nrequire('picker.date');\r\n\r\nko.bindingHandlers.hidden = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tko.bindingHandlers.visible.update(element, function () {\r\n\t\t\treturn !ko.unwrap(valueAccessor());\r\n\t\t});\r\n\t}\r\n};\r\n\r\n/** Hide or show elements with slide animation */\r\nko.bindingHandlers.slideVisible = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar value = ko.unwrap(valueAccessor());\r\n\r\n\t\tvar $element = $(element);\r\n\r\n\t\tif (value) {\r\n\t\t\t$element.show();\r\n\t\t} else {\r\n\t\t\t$element.hide();\r\n\t\t}\r\n\t},\r\n\tupdate : function (element, valueAccessor, allBindingsAccessor) {\r\n\t\tvar value = ko.unwrap(valueAccessor());\r\n\r\n\t\tvar $element = $(element);\r\n\r\n\t\tvar allBindings = allBindingsAccessor();\r\n\r\n\t\t// Grab data from binding property\r\n\t\tvar duration = allBindings.duration || 500;\r\n\t\tvar isCurrentlyVisible = element.style.display !== 'none';\r\n\r\n\t\tif (value && !isCurrentlyVisible) {\r\n\t\t\t$element.show(duration);\r\n\t\t} else if ((!value) && isCurrentlyVisible) {\r\n\t\t\t$element.hide(duration);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** Hide element with slide animation */\r\nko.bindingHandlers.slideHidden = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tko.bindingHandlers.slideVisible.init(element, function () {\r\n\t\t\treturn !ko.unwrap(valueAccessor());\r\n\t\t});\r\n\t},\r\n\tupdate : function (element, valueAccessor, allBindingsAccessor) {\r\n\t\tko.bindingHandlers.slideVisible.update(element, function () {\r\n\t\t\treturn !ko.unwrap(valueAccessor());\r\n\t\t}, allBindingsAccessor);\r\n\t}\r\n};\r\n\r\n// Controls whether or not the text in a textbox is selected based on a model property\r\nko.bindingHandlers.selected = {\r\n\tinit : function (elem, valueAccessor) {\r\n\t\t$(elem).blur(function () {\r\n\t\t\tvar boundProperty = valueAccessor();\r\n\t\t\tif (ko.isWriteableObservable(boundProperty)) {\r\n\t\t\t\tboundProperty(false);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\tupdate : function (elem, valueAccessor) {\r\n\t\tvar shouldBeSelected = ko.utils.unwrapObservable(valueAccessor());\r\n\t\tif (shouldBeSelected) {\r\n\t\t\t$(elem).select();\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.placeholder = {\r\n\tinit : function (elem, valueAccessor) {\r\n\t\tvar placeholderText = ko.utils.unwrapObservable(valueAccessor()),\r\n\t\tinput = $(elem);\r\n\r\n\t\tinput.attr('placeholder', placeholderText);\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.date = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tif (ko.unwrap(valueAccessor())) {\r\n\t\t\telement.innerHTML = appMoment(new Date(ko.unwrap(valueAccessor()))).format('YYYY-MM-DD');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.unix = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tif (ko.unwrap(valueAccessor())) {\r\n\t\t\telement.innerHTML = appMoment(ko.unwrap(valueAccessor()) * 1000).format('YYYY-MM-DD');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.unixTime = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tif (ko.unwrap(valueAccessor())) {\r\n\t\t\telement.innerHTML = appMoment(ko.unwrap(valueAccessor()) * 1000).format('YYYY-MM-DD HH:mm:ss');\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.prec = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar accessor = valueAccessor();\r\n\r\n\t\tvar p = ko.unwrap(accessor.value);\r\n\r\n\t\tif ($.isNumeric(p) === false) {\r\n\t\t\telement.innerHTML = '';\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tmpCoef = ko.unwrap(accessor.coef);\r\n\t\tif (tmpCoef) {\r\n\t\t\tp = p * tmpCoef;\r\n\t\t}\r\n\r\n\t\tif (p === 0) {\r\n\t\t\telement.innerHTML = 0;\r\n\t\t} else if (p < 1) {\r\n\t\t\tvar i = 0;\r\n\t\t\twhile (p < 1) {\r\n\t\t\t\ti -= 1;\r\n\t\t\t\tp *= 10;\r\n\t\t\t}\r\n\r\n\t\t\telement.innerHTML = String(Math.round(p * 100) / 100) + 'x10<sup>' + i + '</sup>';\r\n\t\t} else {\r\n\t\t\telement.innerHTML = String(Math.round(p * 100) / 100);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.scroller = {\r\n\tinit : function (element) {\r\n\t\t$(element).slimScroll({\r\n\t\t\trailVisible : true,\r\n\t\t\talwaysVisible : true,\r\n\t\t\tcolor : '#fcfcfc',\r\n\t\t\t//distance: '0',\r\n\t\t\tposition : 'right',\r\n\t\t\t////width: 210,\r\n\t\t\t// move page scroll with this scroll\r\n\t\t\tallowPageScroll : true\r\n\t\t});\r\n\r\n\t\tvar jqrWindow = $(window);\r\n\r\n\t\tfunction redrawBlock() {\r\n\t\t\tvar curHeight = jqrWindow.height(),\r\n\t\t\tcurWidth = jqrWindow.width();\r\n\r\n\t\t\tif ($.isNumeric(curHeight)) {\r\n\t\t\t\t// Convert to numbers (if not)\r\n\t\t\t\tcurHeight = +curHeight;\r\n\t\t\t\tcurWidth = +curWidth;\r\n\r\n\t\t\t\t// 992px - small size in bootstrap - min width for div with scroll\r\n\t\t\t\tvar minWidth = 992,\r\n\t\t\t\ttopMargin = 32,\r\n\t\t\t\tbottomMargin = 50,\r\n\t\t\t\tdefaultMenuWidth = 210;\r\n\r\n\t\t\t\tvar needHeight,\r\n\t\t\t\tneedWidth;\r\n\t\t\t\tif (curWidth >= minWidth) {\r\n\t\t\t\t\tneedHeight = curHeight - topMargin - bottomMargin;\r\n\t\t\t\t\tneedWidth = defaultMenuWidth;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tneedHeight = 'auto'; // by content\r\n\t\t\t\t\tneedWidth = curWidth; // full width\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(element).parent().height(needHeight);\r\n\t\t\t\t$(element).height(needHeight);\r\n\r\n\t\t\t\t$(element).parent().width(needWidth);\r\n\t\t\t\t$(element).width(needWidth);\r\n\t\t\t}\r\n\r\n\t\t\t////$(element).slimScroll({\r\n\t\t\t////    railVisible: true,\r\n\t\t\t////    alwaysVisible: true\r\n\t\t\t////});\r\n\t\t}\r\n\r\n\t\tjqrWindow.resize(redrawBlock);\r\n\r\n\t\tredrawBlock();\r\n\t}\r\n};\r\n\r\n/**\r\n * Datepicker from unixtime (in seconds from Unix epoch)\r\n */\r\nko.bindingHandlers.datepicker = {\r\n\tinit : function (element, valueAccessor, allBindings) {\r\n\t\t// Initialize datepicker with some optional options\r\n\t\tvar curValue = valueAccessor();\r\n\r\n\t\tif (ko.isObservable(curValue)) {\r\n\t\t\tvar options = allBindings.get('datepickerOptions') || {};\r\n\r\n\t\t\tvar $input = $(element).pickadate(options);\r\n\t\t\tvar picker = $input.pickadate('picker');\r\n\r\n\t\t\tvar initialValue = ko.unwrap(curValue);\r\n\r\n\t\t\tif (initialValue) {\r\n\t\t\t\t// convert to ms\r\n\t\t\t\tinitialValue = initialValue * 1000;\r\n\t\t\t\t// convert to local time to show in input\r\n\t\t\t\tvar startUtcOffset = new Date(initialValue).getTimezoneOffset() * 60 * 1000;\r\n\t\t\t\tinitialValue -= startUtcOffset;\r\n\t\t\t\t////console.log('set as a start value in input: with utc', new Date(initialValue).toISOString());\r\n\t\t\t\tpicker.set('select', initialValue);\r\n\t\t\t}\r\n\r\n\t\t\tpicker.on({\r\n\t\t\t\tset : function (event) {\r\n\t\t\t\t\t////console.log('on Set call with event: ', event);\r\n\r\n\t\t\t\t\t////var selectedObj = picker.get('select');\r\n\t\t\t\t\t////console.log('slcObj', selectedObj);\r\n\t\t\t\t\t// select - UTC unix time\r\n\t\t\t\t\t////console.log(event);\r\n\t\t\t\t\tif (event.hasOwnProperty('select')) {\r\n\t\t\t\t\t\tvar unixTimeMs = event.select;\r\n\t\t\t\t\t\tif (unixTimeMs) {\r\n\t\t\t\t\t\t\t// offset in seconds\r\n\t\t\t\t\t\t\tvar utcOffset = new Date(unixTimeMs).getTimezoneOffset() * 60;\r\n\t\t\t\t\t\t\t////console.log('withoututc', unixTimeMs / 1000 - utcOffset);\r\n\t\t\t\t\t\t\t// Save as UTC unix time (seconds)\r\n\t\t\t\t\t\t\tcurValue(unixTimeMs / 1000 - utcOffset);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (event.hasOwnProperty('clear')) {\r\n\t\t\t\t\t\t////console.log('clear setting');\r\n\t\t\t\t\t\t// Set to null by clear event\r\n\t\t\t\t\t\t// Do not set to null because of pickadate set undefined when choose year or month from select\r\n\t\t\t\t\t\tcurValue(null);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tclose : function () {\r\n\t\t\t\t\t// https://github.com/amsul/pickadate.js/issues/160\r\n\t\t\t\t\t$input.blur();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\t////options.onSet = function (event) {\r\n\r\n\t\t\t////};\r\n\r\n\t\t\t////options.max = new Date();\r\n\r\n\t\t\t////$(element).pickadate(options);\r\n\t\t}\r\n\t},\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar curValue = valueAccessor();\r\n\r\n\t\tif (ko.isObservable(curValue)) {\r\n\t\t\tvar initialValue = ko.unwrap(curValue);\r\n\t\t\t//var setArchFunction = picker.on();\r\n\t\t\t////console.log('pickerOn', picker);\r\n\r\n\t\t\tif (!initialValue) {\r\n\t\t\t\tvar picker = $(element).pickadate('picker');\r\n\t\t\t\t// then set any value\r\n\t\t\t\t// then turn on previous onSet\r\n\t\t\t\tpicker.set('clear');\r\n\t\t\t}\r\n\t\t}\r\n\t\t////    var picker = $(element).pickadate('picker');\r\n\r\n\t\t////    var curVal = ko.unwrap(valueAccessor());\r\n\r\n\t\t////    ////if (curVal) {\r\n\t\t////    ////    // Convert to unit time miliseconds\r\n\t\t////    ////    curVal = curVal * 1000;\r\n\t\t////    ////    console.log('curval', new Date(curVal).toISOString());\r\n\t\t////    ////    // Get utc offset\r\n\r\n\t\t////    ////    //var utcOffset = new Date(curVal).getTimezoneOffset() * 60;\r\n\t\t////    ////    // Diff UTC\r\n\t\t////    ////    //curVal = curVal - utcOffset;\r\n\r\n\t\t////    ////    picker.set('select', curVal);\r\n\t\t////    ////}\r\n\t}\r\n};\r\n\r\n// for bootstrap dropdown (wich not loaded correctly by data-toggle in external page)\r\nko.bindingHandlers.drpdwn = {\r\n\tinit : function (element) {\r\n\t\t$(element).dropdown();\r\n\t}\r\n};\r\n\r\n/** Figures in draw block */\r\nfunction initLogLasDraw(drawCnvs, logCntx, imgFigures, koCheckedLogTool, logLasImg) {\r\n\tvar startX = 0,\r\n\tstartY = 0,\r\n\tlastX = 0,\r\n\tlastY = 0,\r\n\tisPainting = false,\r\n\t// Defines on MouseDown event\r\n\tisArrowXorLine;\r\n\r\n\tvar drawCntx = drawCnvs.getContext('2d');\r\n\tdrawCntx.strokeStyle = '#000';\r\n\tdrawCntx.lineWidth = 0.5;\r\n\r\n\t$(drawCnvs).on('mousedown', function (e) {\r\n\t\tstartX = e.pageX - $(this).offset().left;\r\n\t\tstartY = e.pageY - $(this).offset().top;\r\n\t\t// Defines only one time: when user click on the field and start draw (line or arrow)\r\n\t\t// When user draw - user can't change Arrow to Line\r\n\t\tisArrowXorLine = ko.unwrap(koCheckedLogTool) === 'tool-arrow';\r\n\t\tisPainting = true;\r\n\t}).on('mouseup', function (e) {\r\n\t\tif (isPainting === true) {\r\n\t\t\tlastX = e.pageX - $(this).offset().left;\r\n\t\t\tlastY = e.pageY - $(this).offset().top;\r\n\r\n\t\t\tdrawCntx.clearRect(0, 0, drawCnvs.width, drawCnvs.height);\r\n\t\t\tisPainting = false;\r\n\r\n\t\t\trequire(['models/svg-elem', 'constants/svg-elem-type-constants'], function (SvgElem, svgElemTypeConstants) {\r\n\t\t\t\t// Create line or arrow object\r\n\t\t\t\tvar logLasImgTopPos = Math.abs($(logLasImg).position().top);\r\n\t\t\t\tconsole.log(logLasImgTopPos);\r\n\t\t\t\tvar createdImgFigure = new SvgElem({\r\n\t\t\t\t\t\tColor : '#000',\r\n\t\t\t\t\t\tTpe : svgElemTypeConstants.line.id,\r\n\t\t\t\t\t\tOpts : JSON.stringify({\r\n\t\t\t\t\t\t\tStartX : startX,\r\n\t\t\t\t\t\t\tStartY : startY + logLasImgTopPos,\r\n\t\t\t\t\t\t\tLastX : lastX,\r\n\t\t\t\t\t\t\tLastY : lastY + logLasImgTopPos,\r\n\t\t\t\t\t\t\tIsArrow : isArrowXorLine\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t// Add to the log element img figures\r\n\t\t\t\timgFigures.push(createdImgFigure);\r\n\r\n\t\t\t\tconsole.log(imgFigures);\r\n\r\n\t\t\t\t// Draw\r\n\t\t\t\trequire(['helpers/log-helper'], function (logHelper) {\r\n\t\t\t\t\tlogHelper.drawLineCntx(logCntx, startX, startY, lastX, lastY, isArrowXorLine);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\t}).on('mouseleave', function () {\r\n\t\t// cancel painting\r\n\t\tif (isPainting === true) {\r\n\t\t\tdrawCntx.clearRect(0, 0, drawCnvs.width, drawCnvs.height);\r\n\t\t\tisPainting = false;\r\n\t\t}\r\n\t}).on('mousemove', function (e) {\r\n\t\tif (isPainting === true) {\r\n\t\t\tlastX = e.pageX - $(this).offset().left;\r\n\t\t\tlastY = e.pageY - $(this).offset().top;\r\n\t\t\tdrawCntx.clearRect(0, 0, drawCnvs.width, drawCnvs.height);\r\n\t\t\trequire(['helpers/log-helper'], function (logHelper) {\r\n\t\t\t\tlogHelper.drawLineCntx(drawCntx, startX, startY, lastX, lastY, isArrowXorLine);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction initLogLasText(logLasText, logCntx, koSvgElems, logLasImg) {\r\n\t$(logLasText).off('click').on('click', function (event) {\r\n\t\t////drawTextBlock.style.filter = 'alpha(opacity=50)';\r\n\t\t// coord accordingly drawTextBlock\r\n\t\tvar posX = parseFloat(event.pageX - $(logLasText).offset().left);\r\n\t\tvar posY = parseFloat(event.pageY - $(logLasText).offset().top);\r\n\r\n\t\t// Create new imgFigure: text\r\n\t\t// Add to the history list: set isNew = true\r\n\t\t// When save - add only where isNew = true (change isNew to false)\r\n\t\t// When click 'return' - remove last element from list where isNew = true (old elements can't be removed)\r\n\r\n\t\trequire(['helpers/log-helper'], function (logHelper) {\r\n\t\t\tvar podl = document.createElement('span');\r\n\t\t\t$(podl).addClass('log-las-text-creator log-las-podl').css({\r\n\t\t\t\t'top' : (posY - 9),\r\n\t\t\t\t'left' : posX\r\n\t\t\t}).html('enter text...');\r\n\r\n\t\t\tvar pTag = document.createElement('span');\r\n\t\t\t$(pTag).prop({\r\n\t\t\t\t'contenteditable' : true\r\n\t\t\t}).addClass('log-las-text-creator').css({\r\n\t\t\t\t'top' : (posY - 9),\r\n\t\t\t\t'left' : posX\r\n\t\t\t}).on('keypress', function (e) {\r\n\t\t\t\tvar code = (e.keyCode || e.which);\r\n\t\t\t\t// Enter keycode\r\n\t\t\t\tif (code === 13) {\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\tvar s = $(pTag).html();\r\n\t\t\t\t\t$(podl).remove();\r\n\t\t\t\t\t$(pTag).remove();\r\n\r\n\t\t\t\t\trequire(['models/svg-elem', 'constants/svg-elem-type-constants'], function (SvgElem, svgElemTypeConstants) {\r\n\r\n\t\t\t\t\t\tvar logLasImgTopPos = Math.abs($(logLasImg).position().top);\r\n\r\n\t\t\t\t\t\t////    ////        StartY:\r\n\t\t\t\t\t\t// Create line or arrow object\r\n\t\t\t\t\t\tvar createdImgFigure = new SvgElem({\r\n\t\t\t\t\t\t\t\tColor : '#000',\r\n\t\t\t\t\t\t\t\tTpe : svgElemTypeConstants.text.id,\r\n\t\t\t\t\t\t\t\tOpts : JSON.stringify({\r\n\t\t\t\t\t\t\t\t\tStartX : posX,\r\n\t\t\t\t\t\t\t\t\tStartY : posY + logLasImgTopPos,\r\n\t\t\t\t\t\t\t\t\tTextContent : s\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tconsole.log(createdImgFigure);\r\n\r\n\t\t\t\t\t\t// Add to the log element img figures\r\n\t\t\t\t\t\tkoSvgElems.push(createdImgFigure);\r\n\r\n\t\t\t\t\t\t// Draw\r\n\t\t\t\t\t\tlogHelper.drawTextCntx(logCntx, s, posX, posY);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}).on('keyup', function (e) {\r\n\t\t\t\tvar s = $(pTag).html();\r\n\r\n\t\t\t\tif (s.length === 0) {\r\n\t\t\t\t\t$(podl).show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$(podl).hide();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar code = (e.keyCode || e.which);\r\n\t\t\t\tif (code === 27) {\r\n\t\t\t\t\t$(podl).remove();\r\n\t\t\t\t\t$(pTag).remove();\r\n\t\t\t\t}\r\n\t\t\t}).on('focusout', function () {\r\n\t\t\t\t$(podl).remove();\r\n\t\t\t\t$(pTag).remove();\r\n\t\t\t});\r\n\r\n\t\t\t$(logLasText).append(podl, pTag);\r\n\t\t\t$(pTag).focus();\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/** Redraw elements */\r\nfunction drawLogElements(logCntx, svgElements, jqrLogLasImg) {\r\n\tvar logLasImgTopPos = Math.abs(jqrLogLasImg.position().top);\r\n\trequire(['helpers/log-helper'], function (logHelper) {\r\n\t\tsvgElements.forEach(function (elem) {\r\n\t\t\tvar opts = ko.unwrap(elem.opts);\r\n\r\n\t\t\tswitch (elem.tpe) {\r\n\t\t\tcase 'line':\r\n\t\t\t\tlogHelper.drawLineCntx(logCntx, opts.StartX, opts.StartY - logLasImgTopPos, opts.LastX, opts.LastY - logLasImgTopPos, opts.IsArrow);\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'text':\r\n\t\t\t\tlogHelper.drawTextCntx(logCntx, opts.TextContent, opts.StartX, opts.StartY - logLasImgTopPos);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('NoSuchTypeForLogFigure');\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n}\r\n\r\n/** All log blocks */\r\nko.bindingHandlers.logLas = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\t// Draw a line - create Line (Array) Object\r\n\t\t// Get coords of this line\r\n\t\t// Add to the log\r\n\t\t// Send coords to the server\r\n\t\t// - build image on the server side for downloading\r\n\r\n\t\tvar logLasDraw = element.getElementsByClassName('log-las-draw')[0];\r\n\t\tif (!logLasDraw) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasBase = element.getElementsByClassName('log-las-base')[0];\r\n\t\tif (!logLasBase) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasText = element.getElementsByClassName('log-las-text')[0];\r\n\t\tif (!logLasText) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasImg = element.getElementsByClassName('log-las-img')[0];\r\n\t\tif (!logLasImg) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar accessor = valueAccessor();\r\n\t\tlogLasImg.onload = function () {\r\n\t\t\tvar logCntx = logLasBase.getContext('2d');\r\n\t\t\tlogCntx.clearRect(0, 0, logLasBase.width, logLasBase.height);\r\n\r\n\t\t\tvar maxCanvasHeight = 480;\r\n\r\n\t\t\tvar jqrLogLasImg = $(logLasImg);\r\n\t\t\t// Add scroll event for image\r\n\t\t\tjqrLogLasImg.parent().off('scroll').on('scroll', function () {\r\n\t\t\t\tlogCntx.clearRect(0, 0, logLasBase.width, logLasBase.height);\r\n\t\t\t\tdrawLogElements(logCntx, ko.unwrap(accessor.imgFigures), jqrLogLasImg);\r\n\t\t\t});\r\n\r\n\t\t\tvar tmpImgClientHeight = logLasImg.clientHeight;\r\n\r\n\t\t\tif (tmpImgClientHeight > maxCanvasHeight) {\r\n\t\t\t\ttmpImgClientHeight = maxCanvasHeight;\r\n\t\t\t}\r\n\r\n\t\t\t// Set height to all elements\r\n\t\t\tlogLasBase.height = tmpImgClientHeight;\r\n\t\t\tlogLasDraw.height = tmpImgClientHeight;\r\n\t\t\t$(logLasText).css({\r\n\t\t\t\t'height' : tmpImgClientHeight\r\n\t\t\t});\r\n\r\n\t\t\t// Width - const = 624\r\n\t\t\t////cnvs.width = logImg.clientWidth;\r\n\t\t\t////drawCnvsLog.width = logImg.clientWidth;\r\n\t\t\t////$(textCnvsLog).css({ 'width': logImg.clientWidth });\r\n\r\n\t\t\t// Draw all image figures on logCntx\r\n\t\t\tdrawLogElements(logCntx, ko.unwrap(accessor.imgFigures), jqrLogLasImg);\r\n\r\n\t\t\tinitLogLasDraw(logLasDraw, logCntx, accessor.imgFigures, accessor.checkedLogTool, logLasImg);\r\n\r\n\t\t\tinitLogLasText(logLasText, logCntx, accessor.imgFigures, logLasImg);\r\n\t\t};\r\n\r\n\t\t// Load img and all handlers\r\n\t\tlogLasImg.src = accessor.imgSrc;\r\n\t},\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar logLasDraw = element.getElementsByClassName('log-las-draw')[0];\r\n\t\tif (!logLasDraw) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasBase = element.getElementsByClassName('log-las-base')[0];\r\n\t\tif (!logLasBase) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasText = element.getElementsByClassName('log-las-text')[0];\r\n\t\tif (!logLasText) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar logLasImg = element.getElementsByClassName('log-las-img')[0];\r\n\t\tif (!logLasImg) {\r\n\t\t\tthrow new Error('no element');\r\n\t\t}\r\n\r\n\t\tvar accessor = valueAccessor();\r\n\t\tvar checkedLogTool = ko.unwrap(accessor.checkedLogTool);\r\n\r\n\t\t// Hide all blocks by default\r\n\t\t$(logLasDraw).hide();\r\n\t\t$(logLasText).hide();\r\n\r\n\t\t// Get coords from main canvas layer\r\n\t\tvar cnvsTop = $(logLasBase).css('top');\r\n\r\n\t\tswitch (checkedLogTool) {\r\n\t\tcase 'tool-line':\r\n\t\t\t$(logLasDraw).css({\r\n\t\t\t\t'top' : cnvsTop\r\n\t\t\t}).show();\r\n\t\t\tbreak;\r\n\t\tcase 'tool-arrow':\r\n\t\t\t$(logLasDraw).css({\r\n\t\t\t\t'top' : cnvsTop\r\n\t\t\t}).show();\r\n\t\t\tbreak;\r\n\t\tcase 'tool-text':\r\n\t\t\t$(logLasText).css({\r\n\t\t\t\t'top' : cnvsTop\r\n\t\t\t}).show();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.panzoomImg = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar imgSrc = ko.unwrap(valueAccessor().src);\r\n\t\t$(element).on('click', function (e) {\r\n\t\t\te.preventDefault();\r\n\t\t\tbootstrapModal.openModalPanzoomWindow(imgSrc);\r\n\t\t});\r\n\t}\r\n};\r\n\r\nko.bindingHandlers.filoader = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar tmpFiloader = valueAccessor();\r\n\t\tfileHelper.initRegExpFileUpload($(element), tmpFiloader.url, tmpFiloader.addCallback);\r\n\t}\r\n};\r\n\r\n/** A modal window, used like a file manager modal */\r\nko.bindingHandlers.modalWindow = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar tmpValue = valueAccessor();\r\n\r\n\t\t$(element).on('hidden.bs.modal', function () {\r\n\t\t\ttmpValue.fileMgrHiddenCallback();\r\n\t\t});\r\n\t},\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar tmpValue = valueAccessor();\r\n\r\n\t\tif (ko.unwrap(tmpValue.isOpenFileMgr)) {\r\n\t\t\t$(element).modal('show');\r\n\t\t} else {\r\n\t\t\t$(element).modal('hide');\r\n\t\t}\r\n\t}\r\n};\r\n\r\n// No out, apply to KO\r\n\n});\n","/**\r\n * @module\r\n * @returns {!Object} Scope of methods to help working with maps\r\n */\r\ndefine('helpers/map-helper',['d3'], function (d3) {\r\n\t'use strict';\r\n\r\n\t/** Drag and drop for circles */\r\n\tfunction getDragSvgCircle(markerRadius, dragEndCallback) {\r\n\t\tvar imgBounds = {};\r\n\r\n\t\tvar dragSvgCircle = d3.behavior.drag()\r\n\t\t\t////.origin()\r\n\t\t\t.on('dragstart', function () {\r\n\t\t\t\t// silence other listeners\r\n\t\t\t\td3.event.sourceEvent.stopPropagation();\r\n\r\n\t\t\t\tvar d3BoundImage = d3.select(this).select(function () {\r\n\t\t\t\t\t\treturn this.parentNode;\r\n\t\t\t\t\t}).select('image');\r\n\r\n\t\t\t\tvar boundCoords = {\r\n\t\t\t\t\tleft : +d3BoundImage.attr('x'),\r\n\t\t\t\t\tright : +d3BoundImage.attr('x') + (+d3BoundImage.attr('width')),\r\n\t\t\t\t\ttop : +d3BoundImage.attr('y'),\r\n\t\t\t\t\tbottom : +d3BoundImage.attr('y') + (+d3BoundImage.attr('height'))\r\n\t\t\t\t};\r\n\r\n\t\t\t\timgBounds = boundCoords;\r\n\t\t\t})\r\n\t\t\t.on('drag', function () {\r\n\t\t\t\t// Change circle coords\r\n\t\t\t\t////console.log('event', d3.event.x, d3.event.y);\r\n\t\t\t\t////console.log('mouse', d3.mouse(this));\r\n\t\t\t\tvar xNew = Math.max(Math.min(d3.event.x, imgBounds.right - markerRadius), imgBounds.left + markerRadius),\r\n\t\t\t\tyNew = Math.max(Math.min(d3.event.y, imgBounds.bottom - markerRadius), imgBounds.top + markerRadius);\r\n\r\n\t\t\t\td3.select(this)\r\n\t\t\t\t.attr('cx', xNew)\r\n\t\t\t\t.attr('cy', yNew);\r\n\t\t\t})\r\n\t\t\t.on('dragend', function () {\r\n\t\t\t\tvar tmpElem = d3.select(this);\r\n\t\t\t\tdragEndCallback((+tmpElem.attr('cx') - imgBounds.left),\r\n\t\t\t\t\t(+tmpElem.attr('cy') - imgBounds.top));\r\n\t\t\t});\r\n\r\n\t\treturn dragSvgCircle;\r\n\t}\r\n\r\n\tvar exports = {};\r\n\r\n\t/** Draw a marker on the map */\r\n\texports.drawWellMarker = function (coordX,\r\n\t\tcoordY,\r\n\t\tmarkerClass,\r\n\t\td3Elem,\r\n\t\twellMarkerRadius,\r\n\t\tdragEndCallback) {\r\n\r\n\t\t/** In svg units (abbr: vg) */\r\n\t\t////var wellMarkerCoordsInVg = convertCoordsPxToVg(wellMarkerCoordsInPx, realImgSize, ..);\r\n\t\t//// F.E.: convert([300px, 300px], {width: 500px, height: 700px}, {width: 1200vg, height: 600vg, ratio: 2})\r\n\t\t////addWellMarker\r\n\r\n\t\td3Elem.append('circle')\r\n\t\t.attr('cx', coordX)\r\n\t\t.attr('cy', coordY)\r\n\t\t.attr('r', wellMarkerRadius)\r\n\t\t.attr('class', markerClass)\r\n\t\t.on('click', function () {\r\n\t\t\t// Show info about well in this point\r\n\t\t\tif (d3.event.defaultPrevented) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t//console.log('circle hoora', cx, cy);\r\n\t\t})\r\n\t\t.call(getDragSvgCircle(wellMarkerRadius, dragEndCallback));\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('helpers/app-helper',['require','exports','module'],function (require, exports, module) {\n/** @module helpers/app-helper */\r\n'use strict';\r\n\r\n/**\r\n * Convert to int\r\n */\r\nexports.toInt = function (val) {\r\n\t// May be some additional checking\r\n\treturn parseInt(val);\r\n};\r\n\r\n/**\r\n * Convert to float\r\n * @param (number} value 123.\r\n * @param {number} countAfterPeriod .524\r\n */\r\nexports.toFloatDec = function (value, countAfterPeriod) {\r\n\treturn exports.toInt(value * Math.pow(10, countAfterPeriod)) / Math.pow(10, countAfterPeriod);\r\n};\r\n\r\n/**\r\n * Whether is value numeric\r\n *    https://api.jquery.com/jQuery.isNumeric/\r\n * @returns {boolean}\r\n */\r\nexports.isNumeric = function (obj) {\r\n\t// From jquery\r\n\t// // May be additional check\r\n\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\r\n\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\r\n\t// subtraction forces infinities to NaN\r\n\treturn obj - parseFloat(obj) >= 0;\r\n\t// return $.isNumeric(value);\r\n};\r\n\r\n/**\r\n * Whether the value is function\r\n * @returns {boolean}\r\n */\r\nexports.isFunction = function (possibleFunc) {\r\n\t// http://stackoverflow.com/questions/5999998/how-can-i-check-if-a-javascript-variable-is-function-type\r\n\treturn (typeof(possibleFunc) === 'function');\r\n\t//return $.isFunction(possibleFunc);\r\n};\r\n\r\n// result example: 12,32 43,12 43,54\r\nexports.twoDimArrayToString = function (twoDimArray) {\r\n\tfor (var i = 0, iMax = twoDimArray.length; i < iMax; i += 1) {\r\n\t\tif (twoDimArray[i]instanceof Array) {\r\n\t\t\ttwoDimArray[i] = twoDimArray[i].join(',');\r\n\t\t}\r\n\t}\r\n\r\n\treturn twoDimArray.join(' ');\r\n};\r\n\r\n// result example [[12,32] [42,12] [43,54]]\r\nexports.stringToTwoDimArray = function (stringArray) {\r\n\tvar oneDimArray = stringArray.split(' ');\r\n\t// result = [\"12.3,324\", \"1234,53.45\"]\r\n\r\n\tfunction getNumberArray(stringArr) {\r\n\t\treturn stringArr.map(function (elemValue) {\r\n\t\t\treturn +elemValue;\r\n\t\t});\r\n\t}\r\n\r\n\tvar twoDimArray = [];\r\n\tfor (var i = 0, iLimit = oneDimArray.length; i < iLimit; i += 1) {\r\n\t\t// Split result = [\"1234\", \"234.3\"]\r\n\t\ttwoDimArray.push(getNumberArray(oneDimArray[i].split(',')));\r\n\t}\r\n\r\n\treturn twoDimArray;\r\n};\r\n\r\n// Get area in square units\r\nexports.getArea = function (arr) {\r\n\tvar arrLength = arr.length;\r\n\tif (arrLength < 3) {\r\n\t\treturn 0;\r\n\t}\r\n\t// set overlast element\r\n\tarr.push([arr[0][0], arr[0][1]]);\r\n\r\n\tvar area = 0;\r\n\tfor (var i = 0; i < arrLength; i += 1) {\r\n\t\tarea = area + (arr[i][0] * arr[i + 1][1] - arr[i][1] * arr[i + 1][0]);\r\n\t}\r\n\r\n\treturn Math.abs(area / 2);\r\n};\r\n\r\n/**\r\n * Get list of years\r\n * @returns {Array}\r\n */\r\nexports.getYearList = function (startYear, endYear) {\r\n\tvar tempArr = [];\r\n\r\n\tfor (var i = startYear; i <= endYear; i += 1) {\r\n\t\ttempArr.unshift(i);\r\n\t}\r\n\r\n\treturn tempArr;\r\n};\r\n\r\n/**\r\n * Get element from list by property value: element with property [propName] equals [propValue]\r\n */\r\nexports.getElementByPropertyValue = function (elemList, propName, propValue) {\r\n\tvar needElemValue = null;\r\n\r\n\tif (propName) {\r\n\t\telemList.forEach(function (elemValue) {\r\n\t\t\tif (elemValue[propName] === propValue) {\r\n\t\t\t\tneedElemValue = elemValue;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn needElemValue;\r\n};\r\n\r\n/**\r\n * Inherit the prototype methods from one constructor into another.\r\n * @example\r\n * Usage:\r\n * <pre>\r\n * function ParentClass(a, b) { }\r\n * ParentClass.prototype.foo = function(a) { }\r\n *\r\n * function ChildClass(a, b, c) {\r\n *   goog.base(this, a, b);\r\n * }\r\n * goog.inherits(ChildClass, ParentClass);\r\n *\r\n * var child = new ChildClass('a', 'b', 'see');\r\n * child.foo(); // This works.\r\n * </pre>\r\n *\r\n * In addition, a superclass' implementation of a method can be invoked as\r\n * follows:\r\n *\r\n * <pre>\r\n * ChildClass.prototype.foo = function(a) {\r\n *   ChildClass.superClass_.foo.call(this, a);\r\n *   // Other code here.\r\n * };\r\n * </pre>\r\n *\r\n * @param {Function} childCtor Child class.\r\n * @param {Function} parentCtor Parent class.\r\n */\r\nexports.inherits = function (childCtor, parentCtor) {\r\n\tfunction TempCtor() {}\r\n\tTempCtor.prototype = parentCtor.prototype;\r\n\tchildCtor.superClass_ = parentCtor.prototype;\r\n\tchildCtor.prototype = new TempCtor();\r\n\t/** @override */\r\n\tchildCtor.prototype.constructor = childCtor;\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('helpers/svg-pie-helper',['require','exports','module','d3'],function (require, exports, module) {\n/** @module helpers/svg-pie */\r\n\r\n'use strict';\r\n\r\nvar d3 = require('d3');\r\n\r\n/**\r\n * Svg pie generator\r\n * @param {Array.<string>} colors - Ordered colors for data\r\n */\r\nexports.drawPie = function (parentElem, data) {\r\n\tvar width = 120,\r\n\theight = 120;\r\n\tvar radius = Math.min(width, height) / 2;\r\n\r\n\tvar colors = data.map(function (item) {\r\n\t\t\treturn item.color;\r\n\t\t});\r\n\r\n\tvar color = d3.scale.ordinal()\r\n\t\t.range(colors);\r\n\r\n\tvar arc = d3.svg.arc()\r\n\t\t.outerRadius(radius - 10)\r\n\t\t.innerRadius(0);\r\n\r\n\tvar pie = d3.layout.pie()\r\n\t\t.sort(null)\r\n\t\t.value(function (d) {\r\n\t\t\treturn d.val;\r\n\t\t});\r\n\r\n\tvar svg = d3.select(parentElem).append(\"svg\")\r\n\t\t//.attr(\"width\", \"100%\")\r\n\t\t// .attr(\"height\", height)\r\n\t\t.attr(\"viewBox\", \"0, 0, \" + width + \", \" + height)\r\n\t\t.append(\"g\")\r\n\t\t.attr(\"transform\", \"translate(\" + width / 2 + \",\" + height / 2 + \")\");\r\n\r\n\tdata.forEach(function (d) {\r\n\t\td.val = +d.val;\r\n\t});\r\n\r\n\tvar g = svg.selectAll(\".arc\")\r\n\t\t.data(pie(data))\r\n\t\t.enter().append(\"g\")\r\n\t\t.attr(\"class\", \"arc\");\r\n\r\n\tg.append(\"path\")\r\n\t.attr(\"d\", arc)\r\n\t.style(\"fill\", function (d) {\r\n\t\treturn color(d.data.lbl);\r\n\t});\r\n\r\n\tg.append(\"text\")\r\n\t.attr(\"transform\", function (d) {\r\n\t\treturn \"translate(\" + arc.centroid(d) + \")\";\r\n\t})\r\n\t.attr(\"dy\", \".35em\")\r\n\t.style(\"text-anchor\", \"middle\")\r\n\t.attr('class', 'pie-text')\r\n\t.text(function (d) {\r\n\t\treturn d.data.lbl;\r\n\t});\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('bindings/svg-bindings',['require','exports','module','jquery','knockout','d3','helpers/map-helper','helpers/app-helper','helpers/svg-pie-helper'],function (require, exports, module) {\n/** @module bindings/svg-bindings */\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar ko = require('knockout');\r\nvar d3 = require('d3');\r\nvar mapHelper = require('helpers/map-helper');\r\nvar appHelper = require('helpers/app-helper');\r\nvar svgPieHelper = require('helpers/svg-pie-helper');\r\n\r\n/**\r\n * Graph axis\r\n */\r\nko.bindingHandlers.graphAxis = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar tmpAxis = ko.unwrap(valueAccessor());\r\n\t\tif (tmpAxis) {\r\n\t\t\td3.select(element).call(tmpAxis);\r\n\t\t\t// alternative: tmpAxis($(element));\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction graphPathsItem(pathsWrap, prmItem) {\r\n\tpathsWrap.append('path')\r\n\t.attr('class', 'svg-graph-path')\r\n\t.attr('stroke', prmItem.prmStroke)\r\n\t.attr('d', prmItem.prmPath)\r\n\t.attr('visible', prmItem.prmVisible)\r\n\t// The attribute 'visible' doesn't work always (with monitoring curves)\r\n\t.style('visibility', prmItem.prmVisible ? 'visible' : 'hidden');\r\n}\r\n\r\n/**\r\n * Update paths for perfomance graph\r\n */\r\nko.bindingHandlers.graphPaths = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\t// Array of graph parameters\r\n\t\tvar prmArr = ko.unwrap(valueAccessor());\r\n\r\n\t\tif (!prmArr) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Group for putting paths\r\n\t\tvar pathsWrap = d3.select(element);\r\n\r\n\t\t// Clear\r\n\t\tpathsWrap.text('');\r\n\r\n\t\t// Add new paths\r\n\t\tprmArr.forEach(graphPathsItem.bind(null, pathsWrap));\r\n\t}\r\n};\r\n\r\n/**\r\n * Update behavior for element when data are changed\r\n */\r\nko.bindingHandlers.svgZoomBehavior = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tconsole.log('svgZoomBehavior bindind has executed');\r\n\t\t// zoom behavior\r\n\t\tvar tmpZoomBehavior = ko.unwrap(valueAccessor());\r\n\t\tif (tmpZoomBehavior) {\r\n\t\t\td3.select(element).call(tmpZoomBehavior);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** Svg map */\r\nko.bindingHandlers.mapBinding = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar accessor = valueAccessor();\r\n\r\n\t\t// Only non-observable objects or initial states of objects\r\n\t\t// Image url and size doesn't change\r\n\r\n\t\t// Append image with map (only once on init event)\r\n\t\td3.select(element).append('image')\r\n\t\t.attr('xlink:href', accessor.imgUrl)\r\n\t\t.attr('width', accessor.imgWidthVg)\r\n\t\t.attr('height', accessor.imgHeightVg);\r\n\t},\r\n\tupdate : function (element, valueAccessor) {\r\n\t\t// Working with observables values\r\n\t\tvar accessor = valueAccessor();\r\n\t\tvar idOfSlcMapTool = ko.unwrap(accessor.idOfSlcMapTool);\r\n\t\tvar vwmWellMarkerToAdd = accessor.vwmWellMarkerToAdd;\r\n\r\n\t\t// Image size, in pixels\r\n\t\tvar imgWidthPx = accessor.imgWidthPx;\r\n\t\tvar imgHeightPx = accessor.imgHeightPx;\r\n\r\n\t\tvar imgWidthVg = accessor.imgWidthVg;\r\n\t\tvar imgHeightVg = accessor.imgHeightVg;\r\n\r\n\t\tvar widthCoefVgToPx = accessor.widthCoefVgToPx;\r\n\t\tvar heightCoefVgToPx = accessor.heightCoefVgToPx;\r\n\r\n\t\tvar listOfVwmWellMarker = ko.unwrap(accessor.listOfVwmWellMarker);\r\n\t\tvar wellMarkerRadius = ko.unwrap(accessor.wellMarkerRadius);\r\n\t\t// Draw well markers\r\n\t\tvar d3GroupWrap = d3.select(element);\r\n\r\n\t\tvar d3Image = d3GroupWrap.select('image');\r\n\r\n\t\td3Image.on('click', function () {\r\n\t\t\tconsole.log(idOfSlcMapTool);\r\n\t\t\tif (idOfSlcMapTool !== 'marker') {\r\n\t\t\t\tconsole.log('no marker');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// this = d3Image\r\n\t\t\tvar coords = d3.mouse(this);\r\n\r\n\t\t\t// Add marker and show adding dialog right of the map\r\n\r\n\t\t\t// Calculate coords on map image in pixels\r\n\t\t\t// realX / svgX = realWidth / svgWidth\r\n\t\t\tvar realMarkerPos = {\r\n\t\t\t\tx : (coords[0]) * (imgWidthPx / imgWidthVg), // - imgStartPos.x\r\n\t\t\t\ty : (coords[1]) * (imgHeightPx / imgHeightVg) //  - imgStartPos.y\r\n\t\t\t};\r\n\r\n\t\t\t// Send to the server in PUT method (change well marker data)\r\n\t\t\tconsole.log('realMarkerPos', realMarkerPos);\r\n\t\t\tvwmWellMarkerToAdd.coords([appHelper.toFloatDec(realMarkerPos.x, 1), appHelper.toFloatDec(realMarkerPos.y, 1)]);\r\n\t\t});\r\n\r\n\t\t// Redraw all well markers: user can remove/add/change coords or any actions with markers outside of svg block\r\n\t\t// Clear all values\r\n\t\td3GroupWrap.selectAll('circle').remove();\r\n\r\n\t\t// Add fresh values\r\n\t\tlistOfVwmWellMarker.forEach(function (elem) {\r\n\t\t\tvar tmpCoords = ko.unwrap(elem.mdlWellMarker.coords);\r\n\t\t\tmapHelper.drawWellMarker(\r\n\t\t\t\ttmpCoords[0] * widthCoefVgToPx,\r\n\t\t\t\ttmpCoords[1] * heightCoefVgToPx,\r\n\t\t\t\tko.unwrap(elem.isSlc) ? 'well-marker_selected' : ko.unwrap(elem.mdlWellMarker.markerStyle),\r\n\t\t\t\td3GroupWrap,\r\n\t\t\t\twellMarkerRadius,\r\n\t\t\t\tfunction (endCoordX, endCoordY) {\r\n\t\t\t\telem.mdlWellMarker.coords([\r\n\t\t\t\t\t\tappHelper.toFloatDec(endCoordX / widthCoefVgToPx, 1),\r\n\t\t\t\t\t\tappHelper.toFloatDec(endCoordY / heightCoefVgToPx, 1)]);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\tif (ko.unwrap(vwmWellMarkerToAdd.coords)) {\r\n\t\t\tconsole.log('wellmarkertoadd', vwmWellMarkerToAdd);\r\n\t\t\tvar tmpCoords = ko.unwrap(vwmWellMarkerToAdd.coords);\r\n\r\n\t\t\tmapHelper.drawWellMarker(\r\n\t\t\t\ttmpCoords[0] * widthCoefVgToPx,\r\n\t\t\t\ttmpCoords[1] * heightCoefVgToPx,\r\n\t\t\t\tvwmWellMarkerToAdd.markerStyle,\r\n\t\t\t\td3GroupWrap,\r\n\t\t\t\twellMarkerRadius,\r\n\t\t\t\tfunction (endCoordX, endCoordY) {\r\n\t\t\t\tvwmWellMarkerToAdd.coords([\r\n\t\t\t\t\t\tappHelper.toFloatDec(endCoordX / widthCoefVgToPx, 1),\r\n\t\t\t\t\t\tappHelper.toFloatDec(endCoordY / heightCoefVgToPx, 1)]);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nfunction updateWidth(accessor, element) {\r\n\taccessor.koSvgWidth($(element).parent().width());\r\n}\r\n\r\n/** svg (like perfomance graph or field map) */\r\nko.bindingHandlers.svgResponsive = {\r\n\tinit : function (element, valueAccessor) {\r\n\t\tvar accessor = valueAccessor();\r\n\r\n\t\t// When change window size - update svg size\r\n\t\t$(window).resize(updateWidth.bind(null, accessor, element));\r\n\r\n\t\t// When toggle left menu - update svg size\r\n\t\taccessor.tmpIsVisibleMenu.subscribe(updateWidth.bind(null, accessor, element));\r\n\r\n\t\t// Update initial\r\n\t\tupdateWidth(accessor, element);\r\n\t\t// svg viewbox size need to init before creating of this element\r\n\t}\r\n};\r\n\r\n/** Svg pie, like Well Activity Statistics */\r\nko.bindingHandlers.svgPie = {\r\n\tupdate : function (element, valueAccessor) {\r\n\t\tvar accessor = valueAccessor();\r\n\r\n\t\tvar pieData = ko.unwrap(accessor.pieData);\r\n\r\n\t\tvar tmpDiv = document.createElement('div');\r\n\r\n\t\tsvgPieHelper.drawPie(tmpDiv, pieData);\r\n\r\n\t\telement.appendChild(tmpDiv);\r\n\r\n\t\tvar resultWidth = $(tmpDiv).width();\r\n\r\n\t\t//console.log('resultSvg', resultWidth);\r\n    \r\n    // Resize like width\r\n    $(tmpDiv).height(resultWidth);\r\n\t}\r\n};\r\n\r\n// No output, apply to KO object\r\n\n});\n","define('helpers/knockout-lazy',['knockout'], function (ko) {\n\t// http://www.knockmeout.net/2011/06/lazy-loading-observable-in-knockoutjs.html\n    // https://gist.github.com/chadly/3711299\n\n\tko.lazyObservable = function (callback, context) {\n\t\tvar value = ko.observable();\n\t\treturn lazyComputed(callback, value, context);\n\t};\n\n\tko.lazyObservableArray = function (callback, context) {\n\t\tvar value = ko.observableArray();\n\n\t\tvar result = lazyComputed(callback, value, context);\n\n\t\t//add underlying array methods onto computed observable\n\t\tko.utils.arrayForEach([\"remove\", \"removeAll\", \"destroy\", \"destroyAll\", \"indexOf\", \"replace\", \"pop\", \"push\", \"reverse\", \"shift\", \"sort\", \"splice\", \"unshift\", \"slice\"], function (methodName) {\n\t\t\tresult[methodName] = function () {\n\t\t\t\tvalue[methodName].apply(value, arguments);\n\t\t\t};\n\t\t});\n\n\t\treturn result;\n\t};\n\n\tfunction lazyComputed(callback, value, context) {\n\t\tvar result = ko.computed({\n\t\t\tread: function () {\n\t\t\t\t//if it has not been loaded, execute the supplied function\n\t\t\t\tif (!result.loaded()) {\n\t\t\t\t\tcallback.call(context);\n\t\t\t\t}\n\t\t\t\t//always return the current value\n\t\t\t\treturn value();\n\t\t\t},\n\t\t\twrite: function (newValue) {\n\t\t\t\t//indicate that the value is now loaded and set it\n\t\t\t\tresult.loaded(true);\n\t\t\t\tvalue(newValue);\n\t\t\t},\n\t\t\tdeferEvaluation: true  //do not evaluate immediately when created\n\t\t});\n\n\t\t//expose the current state, which can be bound against\n\t\tresult.loaded = ko.observable();\n\n\t\t//load it again\n\t\tresult.refresh = function () {\n\t\t\tresult.loaded(false);\n\t\t};\n\n\t\treturn result;\n\t}\n});\n","define('helpers/lang-helper',[], function () {\r\n    'use strict';\r\n\r\n    var langDict = {\r\n        // \r\n        'wfm': 'WFM',\r\n        // \r\n        'wellfilemanager': 'well file manager',\r\n        // \r\n        'name': 'name',\r\n        // \r\n        'description': 'description',\r\n        // \r\n        'email': 'email',\r\n        // \r\n        'password': 'password',\r\n        // \r\n        'passwordconfirmation': 'password confirmation',\r\n        // \r\n        'passwordconfirmationandpasswordarenotequal': 'password confirmation and password are not equal',\r\n        // \r\n        'steps': 'steps',\r\n        // \r\n        'required': 'required',\r\n        // \r\n        'cancel': 'cancel',\r\n        // \r\n        'tocancel': 'cancel',\r\n        // \r\n        'saved': 'saved',\r\n        // \r\n        'saving': 'saving',\r\n        // \r\n        'tosave': 'save',\r\n        // \r\n        'toadd': 'add',\r\n        // \r\n        'adding': 'add',\r\n        // \r\n        'viewing': 'view',\r\n        // \r\n        'toview': 'view',\r\n        // \r\n        'editing': 'edit',\r\n        // \r\n        'toedit': 'edit',\r\n        // \r\n        'deletion': 'deletion',\r\n        // \r\n        'todelete': 'delete',\r\n        // \r\n        'selection': 'selection',\r\n        // \r\n        'toselect': 'select',\r\n        // \r\n        'using': 'use',\r\n        // \r\n        'touse': 'use',\r\n        // \r\n        'registration': 'registration',\r\n        // \r\n        'toregister': 'register',\r\n        // \r\n        'loading': 'loading',\r\n        // \r\n        'toload': 'load',\r\n        // \r\n        'rememberme': 'remember me',\r\n        // \r\n        'remembermeinthisbrowser': 'remember me in this browser',\r\n        // \r\n        'error': 'error',\r\n        // \r\n        'unknownerror': 'unknown error',\r\n        // \r\n        'wrongcredentials': 'incorrect email or password',\r\n        // \r\n        'emailisnotconfirmed': 'email is not confirmed',\r\n        // \r\n        'confirmationtoken': 'confirmation token',\r\n        // \r\n        'emailconfirmation': 'email confirmation',\r\n        // \r\n        'emailisalreadytaken': 'email is already taken',\r\n        // \r\n        'emailconfirmationfailedtosend': 'confirmation email failed to send. Please try register again later.',\r\n        // \r\n        'validationerrors': 'validation errors',\r\n        // \r\n        'wrongemailformat': 'wrong email format',\r\n        // \r\n        'emailconfirmationisunsuccessful': 'email confirmation is unsuccessful',\r\n        // \r\n        'checktoconfirmationtoken': 'registration step 2: please check your email to get confirmation code.',\r\n        // \r\n        'confirmregistrationsuccessful': 'email confirmation is successful. Please login to enter to your cabinet.',\r\n        // \r\n        'success': 'success',\r\n        // \r\n        'signin': 'sign in',\r\n        // \r\n        'logout': 'log out',\r\n        // \r\n        'companylist': 'companies',\r\n        // \r\n        'companyname': 'company name',\r\n        // \r\n        'companydescription': 'company description',\r\n        // \r\n        'companyinfo': 'company info',\r\n        // \r\n        'companyusers': 'company users',\r\n        // \r\n        'toregisteracompany': 'register a company',\r\n        // \r\n        'logo': 'logo',\r\n        // \r\n        'minlength': 'min length',\r\n        // \r\n        'maxlength': 'max length',\r\n        // \r\n        'admin': 'admin',\r\n        // \r\n        'or': 'or',\r\n        // \r\n        'test': 'test',\r\n        // \r\n        'demo': 'demo',\r\n        // \r\n        'demowfmcaution': 'please don&#x27;t load secret or important data. All loaded data can be removed at any time.',\r\n        // \r\n        'termsandconditions': 'terms and conditions',\r\n        // \r\n        'usercannotregisterfewcompanies': 'user can not register few companies',\r\n        // \r\n        'pagenotfound': 'page not found',\r\n        // \r\n        'aboutwfm': 'about',\r\n        // \r\n        'contacts': 'contacts',\r\n        // \r\n        'pricing': 'pricing',\r\n        // \r\n        'home': 'home',\r\n        // \r\n        'workspace': 'workspace',\r\n        // \r\n        'processing': 'processing',\r\n        // \r\n        'toaddwidget': 'add widget',\r\n        // \r\n        'productionhistory': 'production history',\r\n        // \r\n        'summary': 'summary',\r\n        // \r\n        'sketch': 'sketch',\r\n        // \r\n        'settings': 'settings',\r\n        // \r\n        'layout': 'layout',\r\n        // \r\n        'todeletelayout': 'delete layout',\r\n        // \r\n        'tocreatelayout': 'create new layout',\r\n        // \r\n        'confirmtodelete': 'are you sure you want to delete',\r\n        // \r\n        'development': 'development',\r\n        // \r\n        'documentation': 'documentation',\r\n        // \r\n        'attachfile': 'attach a file',\r\n        // \r\n        'cropimage': 'crop an image',\r\n        // \r\n        'tocreaterecord': 'create new record',\r\n        // \r\n        'filterbydate': 'filter by date',\r\n        // \r\n        'filterbyjobtype': 'filter by job type',\r\n        // \r\n        'sortbydate': 'sort by date',\r\n        // \r\n        'nowellhistorylist': 'no well history',\r\n        // \r\n        'jobtype': 'job type',\r\n        // \r\n        'timeperiod': 'period',\r\n        // \r\n        'toaddjobtypetolist': 'add job type to list',\r\n        // \r\n        'underconstruction': 'under construction',\r\n        // \r\n        'todeletewell': 'delete well',\r\n        // \r\n        'todeleteregion': 'delete region',\r\n        // \r\n        'todeletefield': 'delete field',\r\n        // \r\n        'todeletegroup': 'delete group',\r\n        // \r\n        'todeletecompany': 'delete company',\r\n        // \r\n        'well': 'well',\r\n        // \r\n        'dashboard': 'dashboard',\r\n        // \r\n        'group': 'group',\r\n        // \r\n        'region': 'region',\r\n        // \r\n        'field': 'field',\r\n        // \r\n        'filemanager': 'file manager',\r\n        // \r\n        'volume': 'volume',\r\n        // \r\n        'date': 'date',\r\n        // \r\n        'hour': 'hour',\r\n        // \r\n        'hours': 'hours',\r\n        // \r\n        'minute': 'minute',\r\n        // \r\n        'minutes': 'minutes',\r\n        // \r\n        'second': 'second',\r\n        // \r\n        'seconds': 'seconds',\r\n        // \r\n        'tocreatetest': 'create new test',\r\n        // \r\n        'approve': 'approve',\r\n        // \r\n        'decline': 'decline',\r\n        // \r\n        'valid': 'valid',\r\n        // \r\n        'invalid': 'invalid',\r\n        // \r\n        'comment': 'comment',\r\n        // \r\n        'toaddhour': 'add hour',\r\n        // \r\n        'total': 'total',\r\n        // \r\n        'volumeofwellalreadyexists': 'Volume with this file is already exists',\r\n        // \r\n        'filespecofhistoryofwellalreadyexists': 'This file is already attached to this well history',\r\n        // \r\n        'nodalanalysisofwellalreadyexists': 'Nodal analysis with this file is already exists',\r\n        // \r\n        'integrityofwellalreadyexists': 'Integrity with this file is already exists',\r\n        // \r\n        'toselectmapofwield': 'select map',\r\n        // \r\n        'createmapofwieldfromfile': 'add map',\r\n        // \r\n        'noselectedmapofwield': 'no maps',\r\n        // \r\n        'isvisnameofmapofwield': 'name',\r\n        // \r\n        'isvisimgofmapofwield': 'map',\r\n        // \r\n        'maptoolruler': 'ruler',\r\n        // \r\n        'maptoolmarker': 'marker',\r\n        // \r\n        'maptoolarea': 'area',\r\n        // \r\n        'maptoolscale': 'scale',\r\n        // \r\n        'maptoolwellmarker': 'well marker',\r\n        // \r\n        'isviswellactivity': 'well activity',\r\n        // \r\n    };\r\n\r\n    ////var signArr = /,!/g; [',', '!', '.', ':', '?', '(', ')', '[', ']', '{', '}', '\\'', ';'];\r\n    ////var signRegExp = /[\\.,-\\/#!$%\\^&\\*;:{}=\\-_`~()]/g;\r\n\r\n    var langHelper = {};\r\n\r\n    // Translate without punktuation signs\r\n    langHelper.translate = function (str) {\r\n        str = str.toLowerCase();\r\n        var startSignIndex = str.search(/[\\w]/g);\r\n        var endSignIndex = str.search(/[^\\w]+$/g);\r\n        if (startSignIndex === -1) {\r\n            startSignIndex = 0;\r\n        }\r\n        if (endSignIndex === -1) {\r\n            endSignIndex = str.length;\r\n        }\r\n        var cleanStr = str.substring(startSignIndex, endSignIndex);\r\n        var transStr = langDict[cleanStr];\r\n        if (transStr) {\r\n            return str.replace(cleanStr, transStr);\r\n        }\r\n        else {\r\n            return str;\r\n        }\r\n    };\r\n\r\n    // From: unknownParam: Email, Pass\r\n    // To: unknown parameters: email, password\r\n    // Only for ASCII strRow (no Unicode)\r\n    langHelper.translateRow = function (strRow) {\r\n        // TODO: translate entire row by space, colon etc.\r\n        ////var rowArr = strRow.split(/[ ;:]/g);\r\n        // Divide by whitespace\r\n        var rowArr = strRow.split(' ');\r\n        var destArr = [];\r\n        // Translate every word without punktuation signs\r\n        // If no translation then put origin word\r\n        for (var i = 0; i < rowArr.length; i += 1) {\r\n            destArr.push(langHelper.translate(rowArr[i]) || rowArr[i]);\r\n        }\r\n\r\n        // Join by space\r\n        return destArr.join(' ');\r\n    };\r\n\r\n    return langHelper;\r\n\r\n    ////var langHelper = {};\r\n\r\n    ////// Get language id from cookie or url\r\n    ////var langId = 'en';\r\n    ////var dict;\r\n\r\n    ////langHelper.translate = function (strId) {\r\n    ////    if (dict) {\r\n    ////        console.log('no dict');\r\n    ////        return dict[strId] || strId;\r\n    ////    }\r\n    ////    else {\r\n    ////        $.get('/data/lang/' + langId + '/lang.json', function (langDict) {\r\n    ////            console.log('myData', langDict);\r\n    ////            console.log('myDataStrId', langDict[strId]);\r\n    ////            dict = langDict;\r\n    ////            console.log(dict)\r\n    ////            console.log('this is a dict');\r\n    ////            return langDict[strId] || strId;\r\n    ////        });\r\n    ////    }\r\n    ////};\r\n});\n","define('helpers/loader-helper',['require','exports','module','jquery'],function (require, exports, module) {\n/** @module helpers/loader-helper */\r\n\r\nvar $ = require('jquery');\r\n\r\nvar queueArr = [];\r\n\r\nvar cbkShowLoader = function (jqrLoaderMain) {\r\n\tif (queueArr.length > 0) {\r\n\t\tjqrLoaderMain.show();\r\n\t}\r\n};\r\n\r\n/**\r\n * Turn on/off the main loader\r\n *    If request time is less then 1 second - don't show the loader\r\n *    If few requests in one moment - show the loader only once\r\n *    Queue of requests: add time mark (instead random) to the queue for every request\r\n *    Remove this time mark when needed\r\n *    Show loader if this array is not empty\r\n * @param {number} marker - time marker, id of the request\r\n */\r\nexports.toggleLoadingState = function (isOn, marker) {\r\n\tvar jqrLoaderMain = $('#loader-main');\r\n\tif (isOn) {\r\n\t\t// Only if this is the first request per queue\r\n\t\tif (queueArr.length === 0) {\r\n\t\t\tif (jqrLoaderMain.is(':visible') === false) {\r\n\t\t\t\t// Add timer: if after some period queueArr is not empty then run\r\n\t\t\t\twindow.setTimeout(cbkShowLoader.bind(null, jqrLoaderMain), 500);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tqueueArr.push(marker);\r\n\t} else {\r\n\t\tvar index = queueArr.indexOf(marker);\r\n\t\tif (index > -1) {\r\n\t\t\tqueueArr.splice(index, 1);\r\n\t\t}\r\n\r\n\t\tif (queueArr.length === 0) {\r\n\t\t\tif (jqrLoaderMain.is(':visible') === true) {\r\n\t\t\t\tjqrLoaderMain.hide();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('helpers/ajax-request',['require','exports','module','jquery','helpers/lang-helper','helpers/loader-helper'],function (require, exports, module) {\n/** @module helpers/ajax-request */\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar langHelper = require('helpers/lang-helper');\r\nvar loaderHelper = require('helpers/loader-helper');\r\n\r\nvar cbkAlways = function (marker) {\r\n\tloaderHelper.toggleLoadingState(false, marker);\r\n};\r\n\r\nvar cbkFail = function (jqXHR, textStatus, errorThrown) {\r\n\t// TODO: include notification system: https://github.com/Nijikokun/bootstrap-notify\r\n\tswitch (jqXHR.status) {\r\n\tcase 401:\r\n\t\t////alert('Access is denied. Please re-login with right credentials.');\r\n\r\n\t\t////var currentHash = window.location.hash;\r\n\t\t////if (currentHash) {\r\n\t\t////    logonUrl += '?rurl=' + encodeURIComponent(currentHash.substring(1));\r\n\t\t////}\r\n\t\t////console.log('logurl', logonUrl);\r\n\r\n\t\t////window.location.href = logonUrl;\r\n\t\tbreak;\r\n\t\t////throw new Error('Access is denied');\r\n\tcase 404:\r\n\t\talert('Data is not found');\r\n\t\tbreak;\r\n\tcase 422:\r\n\t\t// Business-logic errors\r\n\t\t// TODO: handle all 400 errors\r\n\t\tbreak;\r\n\tcase 400:\r\n\t\tvar resJson = jqXHR.responseJSON;\r\n\t\tconsole.log(resJson);\r\n\t\tif (resJson.errId === 'validationErrors') {\r\n\t\t\t// Show window - but modal window can be active already\r\n\t\t\t// TODO: make realization for all cases, or show in alert\r\n\r\n\r\n\t\t\tvar errMsg = 'Validation errors:';\r\n\t\t\t$.each(resJson.modelState, function (stateKey, stateValue) {\r\n\t\t\t\terrMsg += '\\n' + (langHelper.translate(stateKey) || stateKey) + ': ';\r\n\r\n\t\t\t\t$.each(stateValue, function (errIndex, errValue) {\r\n\t\t\t\t\terrMsg += langHelper.translateRow(errValue) + '; ';\r\n\t\t\t\t});\r\n\t\t\t});\r\n\r\n\t\t\talert(errMsg);\r\n\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\tconsole.log(resJson);\r\n\t\t\talert(textStatus + \": \" + jqXHR.responseText + ' (' + errorThrown + ')');\r\n\t\t}\r\n\r\n\t\tbreak;\r\n\tdefault:\r\n\t\talert(textStatus + \": \" + jqXHR.responseText + ' (' + errorThrown + ')');\r\n\t\tconsole.log(jqXHR);\r\n\t}\r\n};\r\n\r\nexports = function (type, url, data) {\r\n\tvar options = {\r\n\t\t////dataType: \"json\",\r\n\t\tcache : false,\r\n\t\ttype : type,\r\n\t\txhrFields : {\r\n\t\t\t// For CORS request to send cookies\r\n\t\t\twithCredentials : true\r\n\t\t}\r\n\t};\r\n\r\n\tif (data) {\r\n\t\t// For CORS JSON request generate OPTION request\r\n\t\t// Default content-type = url-encoded string\r\n\t\toptions.contentType = 'application/json; charset=utf-8';\r\n\r\n\t\t// all knockout models need contain toPlainJson function,\r\n\t\t// which converts knockout object to plain object (observables to plain objects etc.)\r\n\t\tif ($.isFunction(data.toPlainJson)) {\r\n\t\t\t////if (true) {\r\n\t\t\t////    try {\r\n\t\t\t////        options.data = $.param(data.toPlainJson());\r\n\t\t\t////    }\r\n\t\t\t////    catch (err) {\r\n\t\t\t////        console.log(err);\r\n\t\t\t////    }\r\n\t\t\t////}\r\n\t\t\t////else {\r\n\t\t\toptions.data = JSON.stringify(data.toPlainJson());\r\n\t\t\t////}\r\n\t\t} else if ($.isArray(data)) {\r\n\t\t\t// each array element convert to plain json (it is not an appropriate way: would be better to convert each element to plain json before sending to ajaxRequest)\r\n\t\t\t// for other libraries (not knockout models - for plain JSON objects)\r\n\t\t\toptions.data = JSON.stringify(data);\r\n\t\t} else {\r\n\t\t\tconsole.log('not ko object and not array');\r\n\t\t\tconsole.log(data);\r\n\t\t\tconsole.log(JSON.stringify(data));\r\n\t\t\t// for other libraries (not knockout models - for plain JSON objects)\r\n\t\t\toptions.data = JSON.stringify(data);\r\n\t\t}\r\n\r\n\t\t// remove knockout dependency from this module\r\n\t\t////data: JSON.stringify(ko.toJS(data))\r\n\t\t////ko.toJSON(data)\r\n\t}\r\n\r\n\t// Generate time marker\r\n\tvar marker = new Date().getTime();\r\n\tloaderHelper.toggleLoadingState(true, marker);\r\n\r\n\treturn $.ajax(url, options)\r\n\t.fail(cbkFail)\r\n\t.always(cbkAlways.bind(null, marker));\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('services/auth',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\t\r\n\tfunction accountInfoUrl() {\r\n\t\treturn '//wfm-report.herokuapp.com/api/account/info';\r\n\t}\r\n  \r\n  function accountLogOffUrl() {\r\n\t\treturn '//wfm-report.herokuapp.com/api/account/logoff';\r\n\t}\r\n\r\n\t/** Auth service */\r\n\tvar exports = {};\r\n\r\n\t/** Get account info */\r\n\texports.getUserProfile = function () {\r\n\t\treturn ajaxRequest('GET', accountInfoUrl());\r\n\t};\r\n  \r\n  /** End the session */\r\n  exports.accountLogOff = function() {\r\n    return ajaxRequest('GET', accountLogOffUrl());\r\n  };\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/company-user',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    function companyUserUrl() {\r\n        return '//wfm-report.herokuapp.com/api/companyuser';\r\n    }\r\n\r\n    /**\r\n    * Company user service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        getCompanyUserList: function () {\r\n            return ajaxRequest('GET', companyUserUrl());\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","define('services/datacontext',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    function wellUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/well/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n\r\n    function wellHistoryUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/wellhistory/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n\r\n    function wellFieldMapAreaUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/wellfieldmaparea/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n    \r\n    function userProfileUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/userprofile/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n    function productionDataUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/productiondata/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n    \r\n    function forecastEvolutionUrl(uqp) {\r\n        return '//wfm-report.herokuapp.com/api/forecastevolution/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    }\r\n    function companyJobTypeUrl(companyId, jobTypeId) {\r\n        return '//wfm-report.herokuapp.com/api/companies/' + companyId + '/job-types' + (jobTypeId ? ('/' + jobTypeId) : '');\r\n    }\r\n\r\n    function postWell(item) {\r\n        return ajaxRequest('POST', wellUrl(), item);\r\n    }\r\n\r\n    function deleteWell(item) {\r\n        return ajaxRequest('DELETE', wellUrl({ id: item.Id }));\r\n    }\r\n\r\n    // 6. Production data\r\n    function getProductionData(urlQueryParams) {\r\n        return ajaxRequest('GET', productionDataUrl(urlQueryParams));\r\n    }\r\n\r\n    function deleteWellProductionData(wellId) {\r\n        return ajaxRequest('DELETE', productionDataUrl({ 'well_id': wellId }));\r\n    }\r\n\r\n    function getColumnAttributesLocal() {\r\n        // scf - standart cubic feet\r\n        // Mcf - Mega cubic feet\r\n        // gph (US) - gallon per hour\r\n        // gpd (UK) - gallon per day (imperial gallon - imp gal)\r\n        // 1 gal (UK) = 4,54609 L\r\n        // 1 gal (US) = 3,785411784 L = 231 in3\r\n        // bbl - Oil barrel\r\n        var volumeArr = ['bbl', 'Mbbl', 'MMbbl', 'scf', 'Mcf', 'MMcf', 'in3', 'm3', 'L', 'galUS', 'galUK'];\r\n        var timeArr = ['d', 'hr', 'min', 'sec'];\r\n\r\n        var arr = [\r\n            { Id: 0, Name: 'WaterCut', Format: '%', Group: 'watercut', IsVisible: true, IsCalc: false, AssId: null, NumeratorList: ['%'], CurveColor: [121, 160, 193] },\r\n            { Id: 1, Name: 'OilRate', Format: 'bbl/d', Group: 'rate', IsVisible: true, IsCalc: false, AssId: null, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [255, 204, 0] },\r\n            { Id: 2, Name: 'WaterRate', Format: 'bbl/d', Group: 'rate', IsVisible: true, IsCalc: false, AssId: 10, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [20, 67, 106] },\r\n            { Id: 3, Name: 'GasRate', Format: 'scf/d', Group: 'rate', IsVisible: true, IsCalc: false, AssId: null, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [131, 43, 51] },\r\n            { Id: 4, Name: 'LiquidRate', Format: 'bbl/d', Group: 'rate', IsVisible: true, IsCalc: false, AssId: 11, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [3, 146, 0] },\r\n            { Id: 5, Name: 'OilCum', Format: 'bbl', Group: 'cumulative', IsVisible: true, IsCalc: false, AssId: 13, NumeratorList: volumeArr, CurveColor: [255, 136, 0] },\r\n            { Id: 6, Name: 'GasCum', Format: 'scf', Group: 'cumulative', IsVisible: true, IsCalc: false, AssId: 15, NumeratorList: volumeArr, CurveColor: [220, 20, 60] },\r\n            { Id: 7, Name: 'WaterCum', Format: 'bbl', Group: 'cumulative', IsVisible: true, IsCalc: false, AssId: 14, NumeratorList: volumeArr, CurveColor: [64, 108, 145] },\r\n            { Id: 8, Name: 'GOR', Format: 'scf/bbl', Group: 'gor', IsVisible: true, IsCalc: false, AssId: 12, NumeratorList: volumeArr, DenominatorList: volumeArr, CurveColor: [146, 0, 10] },\r\n            { Id: 9, Name: 'LiquidCum', Format: 'bbl', Group: 'cumulative', IsVisible: true, IsCalc: false, AssId: 16, NumeratorList: volumeArr, CurveColor: [36, 101, 35] },\r\n\r\n            { Id: 10, Name: 'CalcWaterRate', Format: 'bbl/d', Title: '= LiquidRate * WaterCut(%)', Group: 'rate', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [20, 67, 106] },\r\n            { Id: 11, Name: 'CalcLiquidRate', Format: 'bbl/d', Title: '= WaterRate + OilRate', Group: 'rate', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, DenominatorList: timeArr, CurveColor: [3, 146, 0] },\r\n            { Id: 12, Name: 'CalcGOR', Format: 'scf/bbl', Title: '= (GasRate * 1000) / OilRate', Group: 'gor', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, DenominatorList: volumeArr, CurveColor: [146, 0, 10] },\r\n            { Id: 13, Name: 'CalcOilCum', Format: 'bbl', Title: '= OilRate * ProdDays + PREVIOUS(CalcOilCum)', Group: 'cumulative', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, CurveColor: [255, 136, 0] },\r\n            { Id: 14, Name: 'CalcWaterCum', Format: 'bbl', Title: '= WaterRate * ProdDays + PREVIOUS(CalcWaterCum)', Group: 'cumulative', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, CurveColor: [64, 108, 145] },\r\n            { Id: 15, Name: 'CalcGasCum', Format: 'scf', Title: '= GasRate * ProdDays + PREVIOUS(CalcGasCum)', Group: 'cumulative', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, CurveColor: [220, 20, 60] },\r\n            { Id: 16, Name: 'CalcLiquidCum', Format: 'bbl', Title: '= CalcLiquidRate * ProdDays + PREVIOUS(CalcLiquidRate)', Group: 'cumulative', IsVisible: false, IsCalc: true, NumeratorList: volumeArr, CurveColor: [36, 101, 35] }\r\n        ];\r\n\r\n        return arr;\r\n    }\r\n\r\n    // 8. WellHistory\r\n    function getWellHistoryList(urlQueryParams) {\r\n        return ajaxRequest('GET', wellHistoryUrl(urlQueryParams));\r\n    }\r\n\r\n    function postWellHistory(item) {\r\n        return ajaxRequest('POST', wellHistoryUrl(), item);\r\n    }\r\n\r\n    function putWellHistory(wellHistoryData) {\r\n        return ajaxRequest('PUT', wellHistoryUrl({ id: wellHistoryData.id }), wellHistoryData);\r\n    }\r\n\r\n    function deleteWellHistory(wellHistoryId) {\r\n        return ajaxRequest('DELETE', wellHistoryUrl({ id: wellHistoryId }));\r\n    }\r\n\r\n    // 11. WellFieldMapArea\r\n    function getWellFieldMapAreas(urlQueryParams) {\r\n        return ajaxRequest('GET', wellFieldMapAreaUrl(urlQueryParams));\r\n    }\r\n\r\n    function saveNewWellFieldMapArea(item) {\r\n        return ajaxRequest('POST', wellFieldMapAreaUrl(), item);\r\n    }\r\n\r\n    function saveChangedWellFieldMapArea(item) {\r\n        return ajaxRequest('PUT', wellFieldMapAreaUrl({ 'id': item.Id }), item);\r\n    }\r\n\r\n    function deleteWellFieldMapArea(item) {\r\n        return ajaxRequest('DELETE', wellFieldMapAreaUrl({ 'id': item.Id }));\r\n    }\r\n\r\n    // user profile\r\n    function createUserProfile(data) {\r\n        return new datacontext.userProfile(data); // from cabinet.model.js\r\n    }\r\n\r\n    function getUserProfile() {\r\n        return ajaxRequest('GET', userProfileUrl());\r\n    }\r\n\r\n    function putUserProfile(data) {\r\n        return ajaxRequest('PUT', userProfileUrl({ 'id': data.userId }), data);\r\n    }\r\n\r\n    // ================== forecast evolution\r\n    function getForecastEvolution(wellId) {\r\n        return ajaxRequest('GET', forecastEvolutionUrl({ well_id: wellId }));\r\n    }\r\n\r\n    function postForecastEvolution(forecastEvolution) {\r\n        return ajaxRequest('POST', forecastEvolutionUrl(), forecastEvolution);\r\n    }\r\n\r\n    var datacontext = {\r\n        // save objects in db\r\n        postWell: postWell,\r\n        // delete objects from db\r\n        deleteWell: deleteWell,\r\n        // ProductionData\r\n        getProductionData: getProductionData,\r\n        deleteWellProductionData: deleteWellProductionData,\r\n        // ColumnAttribute\r\n        getColumnAttributesLocal: getColumnAttributesLocal,\r\n        // WellHistory\r\n        getWellHistoryList: getWellHistoryList,\r\n        postWellHistory: postWellHistory,\r\n        putWellHistory: putWellHistory,\r\n        deleteWellHistory: deleteWellHistory,\r\n        // WellFieldMapArea\r\n        getWellFieldMapAreas: getWellFieldMapAreas,\r\n        saveNewWellFieldMapArea: saveNewWellFieldMapArea,\r\n        saveChangedWellFieldMapArea: saveChangedWellFieldMapArea,\r\n        deleteWellFieldMapArea: deleteWellFieldMapArea,\r\n        // user profile\r\n        createUserProfile: createUserProfile,\r\n        getUserProfile: getUserProfile,\r\n        putUserProfile: putUserProfile,\r\n        // ... todo:\r\n        getForecastEvolution: getForecastEvolution,\r\n        postForecastEvolution: postForecastEvolution\r\n    };\r\n\r\n    datacontext.getJobTypeList = function (companyId) {\r\n        return ajaxRequest('GET', companyJobTypeUrl(companyId));\r\n    };\r\n\r\n    datacontext.postCompanyJobType = function (companyId, jobTypeData) {\r\n        return ajaxRequest('POST', companyJobTypeUrl(companyId), jobTypeData);\r\n    };\r\n\r\n    return datacontext;\r\n});\n","/** @module */\r\ndefine('services/section-pattern',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t */\r\n\tvar url = function () {\r\n\t\treturn '//wfm-report.herokuapp.com/api/section-patterns';\r\n\t};\r\n\r\n\t/**\r\n\t * Data service: section patterns\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function () {\r\n\t\t\treturn ajaxRequest('GET', url());\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\n","define('constants/stage-constants',['require','exports','module'],function (require, exports, module) {\n/** @module constants/stage-constants */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Enum for stages\r\n *    id == key to use without strings, only by keys, like: stageConstants[stageKey]\r\n *    Please use this class in wfm-node and wfm-client\r\n * @readonly\r\n * @enum {Object.<string, string>}\r\n */\r\nexports = {\r\n\t/** User profile */\r\n\tupro : {\r\n\t\tid : 'upro',\r\n\t\tsingle : 'user-profile',\r\n\t\tplural : 'user-profiles',\r\n\t\tptrn : {}\r\n\t},\r\n\t/** Company */\r\n\tcompany : {\r\n\t\tid : 'company',\r\n\t\tsingle : 'company',\r\n\t\tplural : 'companies',\r\n\t\tptrn : {\r\n\t\t\tsummary : 'company-summary'\r\n\t\t}\r\n\t},\r\n\t/** Well region */\r\n\twegion : {\r\n\t\tid : 'wegion',\r\n\t\tsingle : 'well-region',\r\n\t\tplural : 'well-regions',\r\n\t\tptrn : {\r\n\t\t\tsummary : 'wegion-summary'\r\n\t\t}\r\n\t},\r\n\t/** Well field */\r\n\twield : {\r\n\t\tid : 'wield',\r\n\t\tsingle : 'well-field',\r\n\t\tplural : 'well-fields',\r\n\t\tptrn : {\r\n\t\t\tsummary : 'wield-summary',\r\n\t\t\tmap : 'wield-map',\r\n\t\t\tstat : 'wield-stat'\r\n\t\t}\r\n\t},\r\n\t/** Well group (platform) */\r\n\twroup : {\r\n\t\tid : 'wroup',\r\n\t\tsingle : 'well-group',\r\n\t\tplural : 'well-groups',\r\n\t\tptrn : {\r\n\t\t\tsummary : 'wroup-summary'\r\n\t\t}\r\n\t},\r\n\t/** Well */\r\n\twell : {\r\n\t\tid : 'well',\r\n\t\tsingle : 'well',\r\n\t\tplural : 'wells',\r\n\t\tptrn : {\r\n\t\t\tsummary : 'well-summary',\r\n\t\t\tmap : 'well-map',\r\n\t\t\tperfomance : 'well-perfomance',\r\n\t\t\tsketch : 'well-sketch',\r\n\t\t\tvolume : 'well-volume',\r\n\t\t\thistory : 'well-history',\r\n\t\t\tmonitoring : 'well-monitoring',\r\n\t\t\tintegrity : 'well-integrity',\r\n\t\t\tlog : 'well-log',\r\n\t\t\ttest : 'well-test',\r\n\t\t\tnodalAnalysis : 'well-nodalanalysis'\r\n\t\t}\r\n\t}\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('services/widgout',['helpers/ajax-request', 'constants/stage-constants'], function (ajaxRequest, stageConstants) {\r\n    'use strict';\r\n\r\n    var widgoutTemplates = [{\r\n        name: '1 (one column)',\r\n        widgockDtoList: [{\r\n            orderNumber: 1,\r\n            columnCount: 12\r\n        }]\r\n    },\r\n    {\r\n        name: '1-1 (two columns)',\r\n        widgockDtoList: [{\r\n            orderNumber: 1,\r\n            columnCount: 6\r\n        },\r\n        {\r\n            orderNumber: 2,\r\n            columnCount: 6\r\n        }]\r\n    },\r\n    {\r\n        name: '1-1-1 (three columns)',\r\n        widgockDtoList: [{\r\n            orderNumber: 1,\r\n            columnCount: 4\r\n        },\r\n        {\r\n            orderNumber: 2,\r\n            columnCount: 4\r\n        },\r\n        {\r\n            orderNumber: 3,\r\n            columnCount: 4\r\n        }]\r\n    },\r\n   {\r\n       name: '1-2 (two columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 4\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 8\r\n       }]\r\n   },\r\n   {\r\n       name: '2-1 (two columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 8\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 4\r\n       }]\r\n   },\r\n   {\r\n       name: '1-1-1-1 (four columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 3,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 4,\r\n           columnCount: 3\r\n       }]\r\n   },\r\n   {\r\n       name: '1-1-2 (three columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 3,\r\n           columnCount: 6\r\n       }]\r\n   },\r\n   {\r\n       name: '1-2-1 (three columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 6\r\n       },\r\n       {\r\n           orderNumber: 3,\r\n           columnCount: 3\r\n       }]\r\n   },\r\n   {\r\n       name: '2-1-1 (three columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 6\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 3,\r\n           columnCount: 3\r\n       }]\r\n   },\r\n   {\r\n       name: '3-1 (two columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 9\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 3\r\n       }]\r\n   },\r\n   {\r\n       name: '1-3 (two columns)',\r\n       widgockDtoList: [{\r\n           orderNumber: 1,\r\n           columnCount: 3\r\n       },\r\n       {\r\n           orderNumber: 2,\r\n           columnCount: 9\r\n       }]\r\n   }];\r\n\r\n    /** Generate url for widget layout service */\r\n    var url = function (stageKey, stageId, widgoutId) {\r\n        if (!stageConstants[stageKey]) { throw new ReferenceError('No such key for stage constants: ' + stageKey); }\r\n        return '//wfm-report.herokuapp.com/api/' + stageConstants[stageKey].plural + '/' + stageId + '/widget-layouts' + (widgoutId ? ('/' + widgoutId) : '');\r\n    };\r\n\r\n    /**\r\n    * Widget layout service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (stageKey, stageId, widgoutId) {\r\n            return ajaxRequest('GET', url(stageKey, stageId, widgoutId));\r\n        },\r\n        post: function (stageKey, stageId, widgoutData) {\r\n            return ajaxRequest('POST', url(stageKey, stageId), widgoutData);\r\n        },\r\n        put: function (stageKey, stageId, widgoutId, widgoutData) {\r\n            return ajaxRequest('PUT', url(stageKey, stageId, widgoutId), widgoutData);\r\n        },\r\n        remove: function (stageKey, stageId, widgoutId) {\r\n            return ajaxRequest('DELETE', url(stageKey, stageId, widgoutId));\r\n        },\r\n        /** May be changed to server realization */\r\n        getWidgoutTemplates: function () {\r\n            return widgoutTemplates;\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('helpers/string-helper',[], function () {\r\n\t'use strict';\r\n\r\n\tvar exports = {};\r\n\r\n\texports.endsWith = function (str, suffix) {\r\n\t\treturn str.indexOf(suffix, str.length - suffix.length) !== -1;\r\n\t};\r\n\r\n\texports.startsWith = function (str, suffix) {\r\n\t\treturn str.indexOf(suffix) === 0;\r\n\t};\r\n\r\n\texports.trimLeft = function (str) {\r\n\t\treturn str.replace(/^\\s+/, '');\r\n\t};\r\n\r\n\texports.trimRight = function (str) {\r\n\t\treturn str.replace(/\\s+$/, '');\r\n\t};\r\n\r\n\texports.capitalizeFirst = function (str) {\r\n\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\r\n\t};\r\n\r\n\texports.isGuidValid = function (guidValue) {\r\n\t\treturn (/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/).test(guidValue);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('helpers/history-helper',['helpers/string-helper',\r\n\t\t'constants/stage-constants'], function (stringHelper,\r\n\t\tstageConstants) {\r\n\t'use strict';\r\n\r\n\tvar historyHelper = {\r\n\t\t/**\r\n\t\t * Get array for navigation url: builded from childstage and sections\r\n\t\t * @param {object} childStage - Child stage: well, wroup...\r\n\t\t */\r\n\t\tgetNavigationArr : function (childStage) {\r\n\t\t\tvar navigationArr;\r\n\t\t\tswitch (childStage.stageKey) {\r\n\t\t\tcase stageConstants.upro.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural];\r\n\t\t\t\tbreak;\r\n\t\t\tcase stageConstants.company.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural, childStage.getIdOfCompany()];\r\n\t\t\t\tbreak;\r\n\t\t\tcase stageConstants.wegion.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural, childStage.getIdOfCompany(),\r\n\t\t\t\t\tstageConstants.wegion.plural, childStage.id];\r\n\t\t\t\tbreak;\r\n\t\t\tcase stageConstants.wield.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural, childStage.getIdOfCompany(),\r\n\t\t\t\t\tstageConstants.wegion.plural, childStage.getWellRegion().id,\r\n\t\t\t\t\tstageConstants.wield.plural, childStage.id];\r\n\t\t\t\tbreak;\r\n\t\t\tcase stageConstants.wroup.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural, childStage.getIdOfCompany(),\r\n\t\t\t\t\tstageConstants.wegion.plural, childStage.getWellField().getWellRegion().id,\r\n\t\t\t\t\tstageConstants.wield.plural, childStage.getWellField().id,\r\n\t\t\t\t\tstageConstants.wroup.plural, childStage.id];\r\n\t\t\t\tbreak;\r\n\t\t\tcase stageConstants.well.id:\r\n\t\t\t\tnavigationArr = [stageConstants.company.plural, childStage.getIdOfCompany(),\r\n\t\t\t\t\tstageConstants.wegion.plural, childStage.getWellGroup().getWellField().getWellRegion().id,\r\n\t\t\t\t\tstageConstants.wield.plural, childStage.getWellGroup().getWellField().id,\r\n\t\t\t\t\tstageConstants.wroup.plural, childStage.getWellGroup().id,\r\n\t\t\t\t\tstageConstants.well.plural, childStage.id];\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow new Error('No child stage');\r\n\t\t\t}\r\n\r\n\t\t\treturn navigationArr;\r\n\t\t}\r\n\t};\r\n\r\n\tvar routes = [{\r\n\t\t\turl : '/companies'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/sections/{companySectionId}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/sections/{wegionSectionId}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}/sections/{wieldSectionId}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}/well-groups/{wroupId:int}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}/well-groups/{wroupId:int}/sections/{wroupSectionId}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}/well-groups/{wroupId:int}/wells/{wellId:int}'\r\n\t\t}, {\r\n\t\t\turl : '/companies/{companyId:guid}/well-regions/{wegionId:int}/well-fields/{wieldId:int}/well-groups/{wroupId:int}/wells/{wellId:int}/sections/{wellSectionId}'\r\n\t\t}, {\r\n\t\t\turl : '/account/logon'\r\n\t\t}, // may be with some query params, like redirectUrl\r\n\t\t{\r\n\t\t\turl : '/account/register'\r\n\t\t}\r\n\t];\r\n\r\n\t/**\r\n\t * Returns initial data from hash: companyId, wellId, etc.\r\n\t * @param {string} str - Hash string: companies/123/well-regions/2334/well-fields\r\n\t * @returns {object} - Initial data\r\n\t */\r\n\thistoryHelper.getInitialData = function (str) {\r\n\t\tvar initialData = {};\r\n\r\n\t\tvar currentUrlArr = str.split('/');\r\n\t\t// Remove empty parts\r\n\t\tcurrentUrlArr = currentUrlArr.filter(function (elem) {\r\n\t\t\t\treturn elem.length > 0;\r\n\t\t\t});\r\n\r\n\t\tvar needRoute;\r\n\r\n\t\t// https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Array/every\r\n\t\troutes.every(function (route) {\r\n\t\t\t// Foreached route params\r\n\t\t\tvar routeUrlArr = route.url.split('/');\r\n\t\t\trouteUrlArr = routeUrlArr.filter(function (elem) {\r\n\t\t\t\t\treturn elem.length > 0;\r\n\t\t\t\t});\r\n\r\n\t\t\t// Match length of routes\r\n\t\t\t// If equals then check by parts\r\n\t\t\t// Else - next route\r\n\t\t\tif (routeUrlArr.length !== currentUrlArr.length) {\r\n\t\t\t\t// exit and continue with next route\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\t// Be default - are equals\r\n\t\t\tvar isMatch = true;\r\n\r\n\t\t\tfor (var i = 0; i < routeUrlArr.length; i += 1) {\r\n\t\t\t\t// If not a parameter then\r\n\t\t\t\t// match current url part with route url part\r\n\t\t\t\t// If equals then next part (current route)\r\n\t\t\t\t// If not equal then break (match with next route)\r\n\t\t\t\tif (routeUrlArr[i][0] !== '{') {\r\n\t\t\t\t\tif (routeUrlArr[i] !== currentUrlArr[i]) {\r\n\t\t\t\t\t\tisMatch = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (isMatch) {\r\n\t\t\t\tneedRoute = route;\r\n\t\t\t\t// Exit and break from cycle\r\n\t\t\t\treturn false;\r\n\t\t\t} else {\r\n\t\t\t\t// Exit and continue cycle with next route (check next route)\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// If route is not found\r\n\t\tif (!needRoute) {\r\n\t\t\t// No data - leave on the main page\r\n\t\t\treturn initialData;\r\n\t\t}\r\n\r\n\t\t////// Add current route with params\r\n\t\t////initialData.route = needRoute;\r\n\r\n\t\t// Need route url arr of parts\r\n\t\tvar needRouteUrlArr = needRoute.url.split('/').filter(function (elem) {\r\n\t\t\t\treturn elem.length > 0;\r\n\t\t\t});\r\n\r\n\t\tneedRouteUrlArr.forEach(function (elem, elemIndex) {\r\n\t\t\t// If parameter\r\n\t\t\t// Then add to initial data\r\n\t\t\tif (elem[0] === '{') {\r\n\t\t\t\tvar paramPartArr = elem.replace(/[{}]/g, '').split(':');\r\n\t\t\t\tvar paramKey = paramPartArr[0];\r\n\t\t\t\tvar paramType = paramPartArr[1];\r\n\t\t\t\tvar isTypeSuccess = true;\r\n\t\t\t\tif (paramType) {\r\n\t\t\t\t\tswitch (paramType) {\r\n\t\t\t\t\tcase 'guid':\r\n\t\t\t\t\t\tisTypeSuccess = stringHelper.isGuidValid(currentUrlArr[elemIndex]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'int':\r\n\t\t\t\t\t\tisTypeSuccess = currentUrlArr[elemIndex] % 1 === 0;\r\n\t\t\t\t\t\tif (isTypeSuccess) {\r\n\t\t\t\t\t\t\t// Convert to integer type\r\n\t\t\t\t\t\t\tcurrentUrlArr[elemIndex] = parseInt(currentUrlArr[elemIndex]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t// If no type then error\r\n\t\t\t\t\t\tisTypeSuccess = false;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (isTypeSuccess) {\r\n\t\t\t\t\tinitialData[paramKey] = currentUrlArr[elemIndex];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tconsole.log('url data for selection: ', initialData);\r\n\t\treturn initialData;\r\n\t};\r\n\r\n\thistoryHelper.pushState = function (url) {\r\n\t\tif (history.pushState) {\r\n\t\t\thistory.pushState({}, '', '#' + url);\r\n\t\t}\r\n\t};\r\n\r\n\treturn historyHelper;\r\n});\r\n\n","define('helpers/cookie-helper',['helpers/string-helper'], function (stringHelper) {\r\n\t'use strict';\r\n\r\n\tvar cookieHelper = {};\r\n\r\n\tcookieHelper.getCookies = function () {\r\n\t\tvar c = document.cookie,\r\n\t\tv = 0,\r\n\t\tcookies = {};\r\n\t\tif (document.cookie.match(/^\\s*\\$Version=(?:\"1\"|1);\\s*(.*)/)) {\r\n\t\t\tc = RegExp.$1;\r\n\t\t\tv = 1;\r\n\t\t}\r\n\t\tif (v === 0) {\r\n\t\t\tc.split(/[,;]/).map(function (cookie) {\r\n\t\t\t\tvar parts = cookie.split(/=/, 2),\r\n\t\t\t\tname = decodeURIComponent(stringHelper.trimLeft(parts[0])),\r\n\t\t\t\tvalue = parts.length > 1 ? decodeURIComponent(stringHelper.trimRight(parts[1])) : null;\r\n\t\t\t\tcookies[name] = value;\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tc.match(/(?:^|\\s+)([!#$%&'*+\\-.0-9A-Z^`a-z|~]+)=([!#$%&'*+\\-.0-9A-Z^`a-z|~]*|\"(?:[\\x20-\\x7E\\x80\\xFF]|\\\\[\\x00-\\x7F])*\")(?=\\s*[,;]|$)/g).map(function ($0, $1) {\r\n\t\t\t\tvar name = $0,\r\n\t\t\t\tvalue = $1.charAt(0) === '\"' ? $1.substr(1, -1).replace(/\\\\(.)/g, \"$1\") : $1;\r\n\t\t\t\tcookies[name] = value;\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn cookies;\r\n\t};\r\n\r\n\tcookieHelper.getCookie = function (cookieName) {\r\n\t\treturn cookieHelper.getCookies()[cookieName];\r\n\t};\r\n\r\n\tcookieHelper.createCookie = function (name, value, days) {\r\n\t\tvar expires = '';\r\n\t\tif (days) {\r\n\t\t\tvar date = new Date();\r\n\t\t\tdate.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\r\n\t\t\texpires = '; expires=' + date.toGMTString();\r\n\t\t}\r\n\r\n\t\tdocument.cookie = name + '=' + value + expires + '; path=/';\r\n\t};\r\n\r\n\tcookieHelper.removeCookie = function (name) {\r\n\t\tdocument.cookie = name + '=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/';\r\n\t};\r\n\r\n\treturn cookieHelper;\r\n});\r\n\n","/**\r\n * @module\r\n */\r\ndefine('viewmodels/file-spec',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * File specification viewmodel\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlFileSpec, koFileFilterName) {\r\n\t\t/**\r\n\t\t * A model of the file spec\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.mdlFileSpec = mdlFileSpec;\r\n\r\n\t\t/**\r\n\t\t * A filter for a file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.fileFilterName = koFileFilterName;\r\n\r\n\t\t/**\r\n\t\t * Whether the file is visible (filtered)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisible = ko.computed({\r\n\t\t\t\tread : this.calcIsVisible,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether the file in edit mode\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isEditView = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Whether the input has a focus\r\n\t\t * @todo #34! doesn't work for file spec records\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.hasInputFocus = ko.observable(false);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate, whether the file is visible\r\n\t * @returns {boolean}\r\n\t */\r\n\texports.prototype.calcIsVisible = function () {\r\n\t\tvar tmpFileFilterName = ko.unwrap(this.fileFilterName);\r\n\t\t// If no filter string, then the file is visible\r\n\t\tif (!tmpFileFilterName) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\tvar tmpFileSpecName = ko.unwrap(this.mdlFileSpec.namePlusExtension).toLowerCase();\r\n\t\treturn tmpFileSpecName.indexOf(tmpFileFilterName.toLowerCase()) >= 0;\r\n\t};\r\n\r\n\t/** Download file */\r\n\texports.prototype.download = function () {\r\n\t\tthis.mdlFileSpec.download();\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/section-of-stage',['knockout',\r\n\t\t'viewmodels/file-spec'],\r\n\tfunction (ko,\r\n\t\tVwmFileSpec) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * View model of section of stage (company-sections --- well sections)\r\n\t * @constructor\r\n\t * @param {module:models/section-of-stage} mdlSection - Section model with data\r\n\t * @param {object} vwmStage - Stage view, which may have sections (company ... well)\r\n\t */\r\n\tvar exports = function (mdlSection, vwmStage) {\r\n\t\t/**\r\n\t\t * Section data model\r\n\t\t * @type {module:models/section-of-stage}\r\n\t\t */\r\n\t\tthis.mdlSection = mdlSection;\r\n\r\n\t\t/** Section identificator: to calculate selected (by default) section */\r\n\t\tthis.unz = mdlSection.sectionPatternId;\r\n\r\n\t\t/**\r\n\t\t * A list of viewmodels of file specifications\r\n\t\t * @type {Array.<module:viewmodels/file-spec>}\r\n\t\t */\r\n\t\tthis.listOfVwmFileSpec = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * A sorting order, be default is DESC\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.fileSortOrder = ko.observable(-1);\r\n\r\n\t\t/**\r\n\t\t * A sorting property\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.fileSortProp = ko.observable('createdUnixTime');\r\n\r\n\t\t/**\r\n\t\t * A part of a name of the file to filter\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.fileFilterName = ko.observable('');\r\n\r\n\t\t/**\r\n\t\t * A list of sorted and filtered files\r\n\t\t * @type {Array.<module:viewmodels/file-spec>}\r\n\t\t */\r\n\t\tthis.sortedListOfVwmFileSpec = ko.computed({\r\n\t\t\t\tread : this.buildSortedListOfVwmFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Only one selected file (is more than one - null)\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.oneVisibleSlcVwmFileSpec = ko.computed({\r\n\t\t\t\tread : this.calcOneVisibleSlcVwmFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether any file is selected: to activate delete button or smth else\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisibleSlcAnyFile = ko.computed({\r\n\t\t\t\tread : this.calcIsVisibleSlcAnyFile,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether section is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlcVwmSectionWrk = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn (ko.unwrap(vwmStage.slcVwmSectionWrk) === this);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether this file section is selected (the same section, only for file manager)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlcVwmSectionFmg = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn (ko.unwrap(vwmStage.slcVwmSectionFmg) === this);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Name of the edited file\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.nameForEdit = ko.observable('');\r\n\t};\r\n\r\n\t/**\r\n\t * Build a list of viewmodels of file specifications\r\n\t * @returns {Array.<module:viewmodels/file-spec>}\r\n\t */\r\n\texports.prototype.buildListOfVwmFileSpec = function () {\r\n\t\tvar tmpList = ko.unwrap(this.mdlSection.listOfFileSpec);\r\n\t\treturn tmpList.map(function (mdlFileSpec) {\r\n\t\t\treturn new VwmFileSpec(mdlFileSpec, this.fileFilterName);\r\n\t\t}, this);\r\n\t};\r\n\r\n\texports.prototype.buildSortedListOfVwmFileSpec = function () {\r\n\t\tvar tmpSortProp = ko.unwrap(this.fileSortProp);\r\n\t\tif (tmpSortProp) {\r\n\t\t\tvar tmpSortOrder = ko.unwrap(this.fileSortOrder);\r\n\r\n\t\t\tvar tmpListOfVwmFileSpec = ko.unwrap(this.listOfVwmFileSpec);\r\n\r\n\t\t\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\r\n\t\t\tvar tmpListForSorting = tmpListOfVwmFileSpec.map(function (vwmItem, i) {\r\n\t\t\t\t\tvar tmpValue = ko.unwrap(vwmItem.mdlFileSpec[tmpSortProp]);\r\n\r\n\t\t\t\t\tif (tmpSortProp === 'name') {\r\n\t\t\t\t\t\ttmpValue = tmpValue.toLowerCase();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tindex : i,\r\n\t\t\t\t\t\tvalue : tmpValue\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\r\n\t\t\tvar sortedList = tmpListForSorting.sort(function (a, b) {\r\n\t\t\t\t\tif (a.value > b.value) {\r\n\t\t\t\t\t\treturn tmpSortOrder;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn -tmpSortOrder;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t// A ready list\r\n\t\t\treturn sortedList.map(function (sortedItem) {\r\n\t\t\t\treturn tmpListOfVwmFileSpec[sortedItem.index];\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\texports.prototype.sortByName = function () {\r\n\t\tthis.fileSortProp('name');\r\n\t\tthis.fileSortOrder(1);\r\n\t};\r\n\r\n\texports.prototype.sortBySize = function () {\r\n\t\tthis.fileSortProp('length');\r\n\t\tthis.fileSortOrder(1);\r\n\t};\r\n\r\n\texports.prototype.sortByCreated = function () {\r\n\t\tthis.fileSortProp('createdUnixTime');\r\n\t\tthis.fileSortOrder(-1);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate only one selected file\r\n\t * @returns {module:models/file-spec}\r\n\t */\r\n\texports.prototype.calcOneVisibleSlcVwmFileSpec = function () {\r\n\t\tvar tmpList = ko.unwrap(this.listOfVwmFileSpec);\r\n\r\n\t\tvar tmpVisibleSlcList = tmpList.filter(function (vwmItem) {\r\n\t\t\t\treturn (ko.unwrap(vwmItem.isVisible) && ko.unwrap(vwmItem.mdlFileSpec.isSelected));\r\n\t\t\t});\r\n\r\n\t\tif (tmpVisibleSlcList.length === 1) {\r\n\t\t\treturn tmpVisibleSlcList[0];\r\n\t\t}\r\n\t\t// else - null, need only one file to download or edit or smth else\r\n\t};\r\n\r\n\t/** Calculate whether any file is selected */\r\n\texports.prototype.calcIsVisibleSlcAnyFile = function () {\r\n\t\tvar tmpList = ko.unwrap(this.listOfVwmFileSpec);\r\n\r\n\t\tvar tmpVisibleSlcList = tmpList.filter(function (vwmItem) {\r\n\t\t\t\treturn (ko.unwrap(vwmItem.isVisible) && ko.unwrap(vwmItem.mdlFileSpec.isSelected));\r\n\t\t\t});\r\n\r\n\t\treturn tmpVisibleSlcList.length > 0;\r\n\t};\r\n\r\n\t/**\r\n\t * Remove selected and visible files\r\n\t */\r\n\texports.prototype.removeSlcVwmFileSpecs = function () {\r\n\t\tvar tmpList = ko.unwrap(this.listOfVwmFileSpec);\r\n\r\n\t\tvar tmpVisibleSlcList = tmpList.filter(function (vwmItem) {\r\n\t\t\t\treturn (ko.unwrap(vwmItem.isVisible) && ko.unwrap(vwmItem.mdlFileSpec.isSelected));\r\n\t\t\t});\r\n\r\n\t\tvar mdlList = tmpVisibleSlcList.map(function (vwmItem) {\r\n\t\t\t\treturn vwmItem.mdlFileSpec;\r\n\t\t\t});\r\n\r\n\t\t// Send to the model\r\n\t\tthis.mdlSection.removeSlcFileSpecs(mdlList);\r\n\t};\r\n\r\n\t/** Edit a file */\r\n\texports.prototype.editVwmFileSpec = function () {\r\n\t\tvar oneFile = ko.unwrap(this.oneVisibleSlcVwmFileSpec);\r\n\t\tif (!oneFile) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.nameForEdit(ko.unwrap(oneFile.mdlFileSpec.name));\r\n\t\toneFile.isEditView(true);\r\n    oneFile.hasInputFocus(true);\r\n\t};\r\n\r\n\t/** Save a name of the file spec */\r\n\texports.prototype.saveVwmFileSpec = function (vwmFileSpecToSave, e) {\r\n\t\t// Escape\r\n\t\tif (((e.type === 'keydown') && (e.keyCode === 27)) || (e.type === 'blur')) {\r\n\t\t\tvwmFileSpecToSave.isEditView(false);\r\n      return false;\r\n\t\t}\r\n\r\n    // Tab or Enter\r\n\t\tif ((e.type === 'keydown') && (e.keyCode === 13 || e.keyCode === 9)) {\r\n      var newName = e.currentTarget.value;\r\n    \r\n      console.log('newName', newName);\r\n\r\n\t\t\tif (newName) {\r\n\t\t\t\tvar tmpMdlFileSpec = vwmFileSpecToSave.mdlFileSpec;\r\n\r\n\t\t\t\t// If file name is unchanged - don't save\r\n\t\t\t\tif (newName !== ko.unwrap(tmpMdlFileSpec.name)) {\r\n          console.log('saved file spec');\r\n\t\t\t\t\t// Change a name of the model\r\n\t\t\t\t\ttmpMdlFileSpec.name(newName);\r\n\r\n\t\t\t\t\t// Save through the model\r\n\t\t\t\t\tthis.mdlSection.saveFileSpec(tmpMdlFileSpec);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Turn off editing\r\n      vwmFileSpecToSave.isEditView(false);\r\n      \r\n      return false;\r\n\t\t}\r\n    \r\n    return true;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('base-viewmodels/widget-base',['knockout',\r\n\t\t'constants/stage-constants'], function (ko,\r\n\t\tstageCnst) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: a base viewmodel for widgets\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\t/**\r\n\t\t * Model: widget\r\n\t\t * @type {module:base-models/widget-base}\r\n\t\t */\r\n\t\tthis.mdlWidget = mdlWidget;\r\n\r\n\t\t/**\r\n\t\t * Whether the setting panel is visible\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisSettingPanel = ko.observable(false);\r\n\t};\r\n\r\n\t/** Save model through viewmodel */\r\n\texports.prototype.saveVwmWidget = function () {\r\n\t\tthis.mdlWidget.putWidget(this.hideVisSettingPanel.bind(this));\r\n\t};\r\n\r\n\t/** Hide a setting panel */\r\n\texports.prototype.hideVisSettingPanel = function () {\r\n\t\tthis.isVisSettingPanel(false);\r\n\t};\r\n\r\n\t/** Show setting panel */\r\n\texports.prototype.showVisSettingPanel = function () {\r\n\t\tthis.isVisSettingPanel(true);\r\n\t};\r\n\r\n\t/**\r\n\t * Callback for rendering widgets\r\n\t */\r\n\texports.prototype.afterRenderWidget = function () {\r\n\t\tvar tmpMdlStage = this.mdlWidget.mdlStageContext;\r\n\r\n\t\tswitch (this.mdlWidget.idOfSectionPattern) {\r\n\t\tcase stageCnst.wield.ptrn.map:\r\n\t\t\ttmpMdlStage.loadMapsOfWield();\r\n\t\t\tbreak;\r\n\t\tcase stageCnst.well.ptrn.map:\r\n\t\t\ttmpMdlStage.getWellGroup().getWellField().loadMapsOfWield();\r\n\t\t\tbreak;\r\n\t\tcase stageCnst.well.ptrn.sketch:\r\n\t\t\ttmpMdlStage.sketchOfWell.load();\r\n\t\t\tbreak;\r\n\t\tcase stageCnst.well.ptrn.perfomance:\r\n\t\t\ttmpMdlStage.getWellGroup().loadListOfWfmParameterOfWroup();\r\n\t\t\ttmpMdlStage.perfomanceOfWell.forecastEvolution.getDict();\r\n\t\t\ttmpMdlStage.perfomanceOfWell.getHstProductionDataSet();\r\n\t\t\tbreak;\r\n\t\tcase stageCnst.well.ptrn.monitoring:\r\n\t\t\ttmpMdlStage.getWellGroup().loadListOfWfmParameterOfWroup(this.widgetVwmMonitoringOfWell.loadFilteredListOfMonitoringRecord.bind(this.widgetVwmMonitoringOfWell));\r\n\t\t\t//tmpMdlStage.getWellGroup().loadProcentBordersForAllWells();\r\n\t\t\t//this.widgetVwmMonitoringOfWell.loadFilteredListOfMonitoringRecord();\r\n\t\t\tbreak;\r\n\t\tcase stageCnst.well.ptrn.history:\r\n\t\t\ttmpMdlStage.loadWellHistoryList();\r\n\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\t// // this.getWellGroup().loadListOfWfmParameterOfWroup();\r\n\t\t// // this.perfomanceOfWell.forecastEvolution.getDict();\r\n\t\t// // this.perfomanceOfWell.getHstProductionDataSet();\r\n\r\n\t\t// Destroy temp object\r\n\t\ttmpMdlStage = null;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-default-summary',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Widget for summary info: for all stages\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/column-attribute',['jquery', 'knockout'], function ($, ko) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Model: column attribute\r\n    * @constructor\r\n    * @param {object} data - Attribute data\r\n    */\r\n    var exports = function (data) {\r\n        var self = this;\r\n        data = data || {};\r\n\r\n        self.Id = data.Id;\r\n        self.Name = data.Name;\r\n        self.Format = ko.observable(data.Format);\r\n\r\n        self.numeratorList = data.NumeratorList;\r\n        \r\n        /*\r\n        * Copy of num list\r\n        * @todo: fix remove links from perfomace-of-well and delete #MM!\r\n        */\r\n        self.NumeratorList = data.NumeratorList;\r\n        \r\n        self.denominatorList = data.DenominatorList;\r\n        \r\n        /*\r\n        * Copy of denom list\r\n        * @todo: fix remove links from perfomace-of-well and delete #MM!\r\n        */\r\n        self.DenominatorList = data.DenominatorList;\r\n        // properties\r\n        self.Title = data.Title || '';\r\n\r\n        self.Group = data.Group || null;\r\n\r\n        self.IsVisible = ko.observable(data.IsVisible || false);\r\n\r\n        self.IsCalc = ko.observable(data.IsCalc || false);\r\n\r\n        self.AssId = data.AssId;\r\n\r\n        self.curveColor = data.CurveColor;\r\n\r\n        self.GraphCurveId = ko.observable();\r\n\r\n        var trackIsVisible = function () {\r\n            if (self.IsVisible() === true) {\r\n                $('.class' + self.Name).removeClass('hidden');\r\n            }\r\n            else {\r\n                $('.class' + self.Name).addClass('hidden');\r\n            }\r\n        };\r\n\r\n        self.IsVisible.subscribe(trackIsVisible);\r\n\r\n        self.turnCheck = function () {\r\n            self.IsVisible(!self.IsVisible());\r\n        };\r\n\r\n        self.convertUom = function (uomName) {\r\n            self.Format(uomName);\r\n        };\r\n\r\n        self.toPlainJson = function () {\r\n            return ko.toJS(self);\r\n        };\r\n    };\r\n\r\n    return exports;\r\n});\n","define('constants/graph-constants',['require','exports','module'],function (require, exports, module) {\n/** @module constants/graph-constants */\r\n'use strict';\r\n\r\n/**\r\n * Enum for graph\r\n *    size in svg units (viewbox)\r\n * @readonly\r\n */\r\nexports = {\r\n\twidth : 1200,\r\n\tratio : 1 / 3,\r\n\tmargin : {\r\n\t\ttop : 10,\r\n\t\tright : 30,\r\n\t\tbottom : 20,\r\n\t\tleft : 60\r\n\t}\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('viewmodels/svg-block',['require','exports','module','knockout','d3','helpers/app-helper'],function (require, exports, module) {\n/** @module viewmodels/svg-block */\r\n\r\n'use strict';\r\n\r\nvar ko = require('knockout');\r\nvar d3 = require('d3');\r\nvar appHelper = require('helpers/app-helper');\r\n\r\n/**\r\n * A coefficient for zooming\r\n * @type {number}\r\n * @const\r\n */\r\nvar scaleCoef = 1.2;\r\n\r\n/**\r\n * Svg block: parent of the svgMap and svgGraph objects\r\n * @constructor\r\n * @param {number} tmpRatio - A block ratio\r\n */\r\nexports = function (tmpRatio, tmpVboxWidth, koTransform) {\r\n\r\n\t/**\r\n\t * A standard ratio for the block\r\n\t * @type {number}\r\n\t */\r\n\tthis.ratio = tmpRatio;\r\n\r\n\t/**\r\n\t * Real size of the block, in pixels\r\n\t * @type {object}\r\n\t */\r\n\tthis.sizePx = {\r\n\t\twidth : ko.observable(),\r\n\t\theight : ko.computed({\r\n\t\t\tread : this.calcSizePxHeight,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t})\r\n\t};\r\n\r\n\t/**\r\n\t * Viewbox size, with all margins, equals to the viewbox attribute of the svg element\r\n\t * @type {object}\r\n\t */\r\n\tthis.vboxOutSize = {\r\n\t\twidth : tmpVboxWidth,\r\n\t\theight : tmpVboxWidth * this.ratio\r\n\t};\r\n\r\n\t/**\r\n\t * Svg scale functions for a x-axis and y-axis\r\n\t */\r\n\tthis.scaleX = ko.computed({\r\n\t\t\tread : this.getScaleX,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.scaleY = ko.computed({\r\n\t\t\tread : this.getScaleY,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.scaleX.subscribe(this.updateZoomScale, this);\r\n\tthis.scaleY.subscribe(this.updateZoomScale, this);\r\n\r\n\t/**\r\n\t * An observable transform attribute for the svg object, to manage a zoom behavior\r\n\t *    Default value\r\n\t * @type {object}\r\n\t */\r\n\tthis.zoomTransform = koTransform;\r\n\r\n\t/** An attribute to transforming the block */\r\n\tthis.zoomTransformAttr = ko.computed({\r\n\t\t\tread : this.calcZoomTransformAttr,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.baseZoomBhvr = d3.behavior.zoom()\r\n\t\t.scaleExtent([0.0001, 10000])\r\n\t\t.on('zoom', this.onZoom.bind(this));\r\n\r\n\tthis.zoomTransform.subscribe(this.buildZoomBehavior, this);\r\n\r\n\t// Apply default values to the behavior\r\n\t//    before an user will fired a zoom event by scrolling or panning\r\n\t//    in this case - values will be null (scale: 1, translate [0,0]\r\n\tthis.zoomTransform.valueHasMutated();\r\n};\r\n\r\n/**\r\n * Set to default values\r\n * @param {number} [optScale=1] - Current element's scale option\r\n * @param {Array} [optTranslate=[0,0]] - Current element's translate option\r\n */\r\nexports.prototype.setZoomTransform = function (optScale, optTranslate) {\r\n\tthis.zoomTransform({\r\n\t\t// Scale cannot be zero - in this case a map or graph doesn't exists\r\n\t\tscale : optScale || 1,\r\n\t\ttranslate : optTranslate || [0, 0]\r\n\t});\r\n};\r\n\r\nexports.prototype.updateZoomScale = function () {\r\n\tvar tmpXScale = ko.unwrap(this.scaleX),\r\n\ttmpYScale = ko.unwrap(this.scaleY);\r\n\r\n\tif (tmpXScale && tmpYScale) {\r\n\t\t// When set a new behavior\r\n\t\t// Reload zoomTransform to default values (without options - set to default)\r\n\t\t//this.setZoomTransform();\r\n\t\tthis.baseZoomBhvr.x(tmpXScale).y(tmpYScale);\r\n\t}\r\n};\r\n\r\n/**\r\n * Build a zoom behavior\r\n */\r\nexports.prototype.buildZoomBehavior = function () {\r\n\t// When set a new behavior\r\n\t// Reload zoomTransform to default values (without options - set to default)\r\n\t//this.setZoomTransform();\r\n\r\n\t// Get transform and apply to zoom behavior: optScale, optTranslate\r\n\r\n\tvar tmpTr = ko.unwrap(this.zoomTransform);\r\n\r\n\t// If an event listener was already registered for the same type on the selected element,\r\n\t//     the existing listener is removed before the new listener is added.\r\n\t// To register multiple listeners for the same event type,\r\n\t//     the type may be followed by an optional namespace, such as \"click.foo\" and \"click.bar\".\r\n\t// Check: if zoom is changed from element (a zoom event) - no change\r\n\tvar prevTr = {\r\n\t\tscale : this.baseZoomBhvr.scale(),\r\n\t\ttranslate : this.baseZoomBhvr.translate()\r\n\t};\r\n\r\n\t// If event was fired from the event of a zoom behavior - don't update\r\n\tif (prevTr.scale !== tmpTr.scale && prevTr.translate !== tmpTr.translate) {\r\n\t\tthis.baseZoomBhvr.scale(tmpTr.scale).translate(tmpTr.translate);\r\n\t}\r\n};\r\n\r\n/**\r\n * A zoom-in method for a block\r\n */\r\nexports.prototype.zoomInOut = function (elemWidth, elemHeight, zoomDirection) {\r\n\t// for example: {3, [10,20]}\r\n\t// scale = 3\r\n\t// left translate = 10\r\n\t// upper translate = 20\r\n\tvar prevZoomTransform = ko.unwrap(this.zoomTransform);\r\n\r\n\tvar prevScale = prevZoomTransform.scale;\r\n\r\n\t// new scale = 3*1.2 = 3.6\r\n\tvar curScale;\r\n\tif (zoomDirection === 1) {\r\n\t\tcurScale = prevScale * scaleCoef;\r\n\t} else {\r\n\t\tcurScale = prevScale / scaleCoef;\r\n\t}\r\n\r\n\t// Round the scale (to decrease calculation faults with long numbers)\r\n\tcurScale = Math.round(curScale * 1000) / 1000;\r\n\r\n\t// width = 3.6 * initial width\r\n\t// height = 3.6 * initial height\r\n\r\n\t// new left translate = [10 - new width / 2]\r\n\t// new upper translate = [20 - new height / 2]\r\n\t// vboxSize\r\n\tvar sizeNew = {\r\n\t\twidth : elemWidth * curScale,\r\n\t\theight : elemHeight * curScale\r\n\t};\r\n\r\n\tvar sizePrev = {\r\n\t\twidth : elemWidth * prevScale,\r\n\t\theight : elemHeight * prevScale\r\n\t};\r\n\r\n\tvar tmpDiffX = (sizeNew.width - sizePrev.width) / 2,\r\n\ttmpDiffY = (sizeNew.height - sizePrev.height) / 2;\r\n\r\n\tvar curX = prevZoomTransform.translate[0] - tmpDiffX;\r\n\tvar curY = prevZoomTransform.translate[1] - tmpDiffY;\r\n\r\n\tthis.setZoomTransform(curScale, [curX, curY]);\r\n\t// auto setting zoom behavior\r\n};\r\n\r\n/**\r\n * Calculate height for this block\r\n */\r\nexports.prototype.calcSizePxHeight = function () {\r\n\tvar tmpWidth = ko.unwrap(this.sizePx.width);\r\n\tif (appHelper.isNumeric(tmpWidth)) {\r\n\t\treturn tmpWidth * this.ratio;\r\n\t}\r\n};\r\n\r\n/**\r\n * OnZoom event for the block\r\n */\r\nexports.prototype.onZoom = function () {\r\n\tthis.setZoomTransform(d3.event.scale, d3.event.translate);\r\n};\r\n\r\n/**\r\n * Calc a transform attribute\r\n */\r\nexports.prototype.calcZoomTransformAttr = function () {\r\n\tvar tmpTransform = ko.unwrap(this.zoomTransform);\r\n\treturn 'translate(' + tmpTransform.translate.join(',') + ') scale(' + tmpTransform.scale + ')';\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('viewmodels/svg-graph',['require','exports','module','knockout','d3','constants/graph-constants','helpers/app-helper','viewmodels/svg-block'],function (require, exports, module) {\n/** @module viewmodels/svg-graph */\r\n\r\n'use strict';\r\n\r\nvar ko = require('knockout');\r\nvar d3 = require('d3');\r\nvar graphCnst = require('constants/graph-constants');\r\nvar appHelper = require('helpers/app-helper');\r\nvar SvgBlock = require('viewmodels/svg-block');\r\n\r\n/**\r\n * Svg graph\r\n *    used in the monitoring and perfomance sections (and may be in another)\r\n * @constructor\r\n * @augments module:viewmodels/svg-block\r\n * @param {Array} koTimeBorder - Observable array with start and end unix times,\r\n *        like [124124,5425235] - elements of this array can be null\r\n * @param {Array} koValueBorder - Observable array with min and max values for all curves, like [-12.432, 543]\r\n * @param {Array.<object>} koPaths - Observable array of path objects\r\n *        [{prmStroke: \"#fff\", prmPath: \"M0 0 Z\", prmVisible: true},{...}]\r\n */\r\nexports = function (koTimeBorder, koValueBorder, koPaths) {\r\n\t// Add base props - the block with a zero-zoom by default\r\n\tSvgBlock.call(this,\r\n\t\tgraphCnst.ratio,\r\n\t\tgraphCnst.width,\r\n\t\tko.observable({\r\n\t\t\tscale : 1,\r\n\t\t\ttranslate : [0, 0]\r\n\t\t}));\r\n\r\n\tthis.timeBorder = koTimeBorder;\r\n\tthis.valueBorder = koValueBorder;\r\n\r\n\t/**\r\n\t * Margins for axis and some space\r\n\t * @type {object}\r\n\t */\r\n\tthis.vboxMargin = graphCnst.margin;\r\n\r\n\t/**\r\n\t * Inner size of the block in svg units\r\n\t * @type {object}\r\n\t */\r\n\tthis.vboxSize = {\r\n\t\twidth : this.vboxOutSize.width - this.vboxMargin.left - this.vboxMargin.right,\r\n\t\theight : this.vboxOutSize.height - this.vboxMargin.top - this.vboxMargin.bottom\r\n\t};\r\n\r\n\t/**\r\n\t * An attribute for a group of the block: like top-left padding\r\n\t * @type {string}\r\n\t */\r\n\tthis.baseTransform = 'translate(' + this.vboxMargin.left + ', ' + this.vboxMargin.top + ')';\r\n\r\n\t/**\r\n\t * An attribute for the X axis of the graph\r\n\t * @type {string}\r\n\t */\r\n\tthis.axisXTransform = 'translate(0,' + this.vboxSize.height + ')';\r\n\r\n\t/**\r\n\t * Axis for the graph\r\n\t * @type {object}\r\n\t */\r\n\tthis.axis = {\r\n\t\tx : ko.computed({\r\n\t\t\tread : this.getAxisX,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t}),\r\n\t\ty : ko.computed({\r\n\t\t\tread : this.getAxisY,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t})\r\n\t};\r\n\r\n\t/**\r\n\t * Paths (graph lines)\r\n\t * @type {Array.<object>}\r\n\t */\r\n\tthis.paths = koPaths;\r\n};\r\n\r\n// Inherit a prototype from the SvgBlock class\r\nappHelper.inherits(exports, SvgBlock);\r\n\r\n/** Get X axis */\r\nexports.prototype.getAxisX = function () {\r\n\tvar tmpZoomTransform = ko.unwrap(this.zoomTransform);\r\n\tif (tmpZoomTransform) {\r\n\r\n\t\tvar tmpXScale = ko.unwrap(this.scaleX);\r\n\t\tif (tmpXScale) {\r\n\t\t\treturn d3.svg.axis()\r\n\t\t\t.scale(tmpXScale)\r\n\t\t\t.tickSize(-this.vboxSize.height);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** Get Y axis */\r\nexports.prototype.getAxisY = function () {\r\n\tvar tmpZoomTransform = ko.unwrap(this.zoomTransform);\r\n\tif (tmpZoomTransform) {\r\n\t\tvar tmpYScale = ko.unwrap(this.scaleY);\r\n\t\tif (tmpYScale) {\r\n\t\t\treturn d3.svg.axis()\r\n\t\t\t.scale(tmpYScale)\r\n\t\t\t.orient('left')\r\n\t\t\t.tickSize(-this.vboxSize.width)\r\n      .tickFormat(d3.format('.3s')); // like 1.34k or 34.1M\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** Get X scale */\r\nexports.prototype.getScaleX = function () {\r\n\tvar tmpTimeBorder = ko.unwrap(this.timeBorder);\r\n\tif (appHelper.isNumeric(tmpTimeBorder[0]) && appHelper.isNumeric(tmpTimeBorder[1])) {\r\n\t\t// some x-scale function\r\n\t\treturn d3.time.scale()\r\n\t\t.domain([new Date(tmpTimeBorder[0] * 1000), new Date(tmpTimeBorder[1] * 1000)])\r\n\t\t.range([0, this.vboxSize.width]);\r\n\t}\r\n};\r\n\r\n/** Get Y scale */\r\nexports.prototype.getScaleY = function () {\r\n\tvar tmpValueBorder = ko.unwrap(this.valueBorder);\r\n\r\n\tif (appHelper.isNumeric(tmpValueBorder[0]) && appHelper.isNumeric(tmpValueBorder[1])) {\r\n\t\treturn d3.scale.linear()\r\n\t\t.domain(tmpValueBorder)\r\n\t\t.range([this.vboxSize.height, 0]);\r\n\t}\r\n};\r\n\r\n/**\r\n * A zoom-in method for a graph\r\n */\r\nexports.prototype.zoomIn = function () {\r\n\texports.superClass_.zoomInOut.call(this, this.vboxSize.width, this.vboxSize.height, 1);\r\n};\r\n\r\n/**\r\n * A zoom-out method\r\n */\r\nexports.prototype.zoomOut = function () {\r\n\texports.superClass_.zoomInOut.call(this, this.vboxSize.width, this.vboxSize.height, -1);\r\n};\r\n\r\nmodule.exports = exports;\n});\n","/** @module */\r\ndefine('viewmodels/wfm-parameter-of-wroup',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * View model for wfm parameter of well group\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWfmParameterOfWroup) {\r\n\r\n\t\t/**\r\n\t\t * Model: wfm parameter of well group\r\n\t\t * @type {module:models/wfm-parameter-of-wroup}\r\n\t\t */\r\n\t\tthis.mdlWfmParameterOfWroup = mdlWfmParameterOfWroup;\r\n\r\n\t\t/**\r\n\t\t * Whether parameter is visible on the test or perfomance page\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisible = ko.observable(true);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/perfomance-of-well',['jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper',\r\n\t\t'moment',\r\n\t\t'models/column-attribute',\r\n\t\t'viewmodels/svg-graph',\r\n\t\t'd3',\r\n\t\t'viewmodels/wfm-parameter-of-wroup'\r\n\t], function ($, ko, modalHelper, appMoment, ColumnAttribute, SvgGraph, d3, VwmWfmParameterOfWroup) {\r\n\t'use strict';\r\n\r\n\tfunction fromOAtoJS(oaDate) {\r\n\t\tvar jsDate = new Date((parseFloat(oaDate) - 25569) * 24 * 3600 * 1000);\r\n\t\treturn new Date(jsDate.getUTCFullYear(), jsDate.getUTCMonth(), jsDate.getUTCDate(), jsDate.getUTCHours(), jsDate.getUTCMinutes(), jsDate.getUTCSeconds());\r\n\t}\r\n\r\n\tfunction buildMatchTable(response, fileExtension, columnAttrList, callbackToSend) {\r\n\t\tconsole.log('column attributes without calc: ', columnAttrList);\r\n\t\tvar bodyDom = document.createElement('div');\r\n\t\t$(bodyDom).css({\r\n\t\t\t'overflow' : 'auto'\r\n\t\t});\r\n\t\tvar fragmentTable = document.createElement('tbody');\r\n\t\tvar fragmentTableFoot = document.createElement('tfoot');\r\n\t\tvar fragmentTableWrap = document.createElement('table');\r\n\t\t$(fragmentTableWrap).addClass('table-fragment').append(fragmentTableFoot, fragmentTable);\r\n\t\t////addClass('standart-table');\r\n\t\tbodyDom.appendChild(fragmentTableWrap);\r\n\r\n\t\t// last column index - to place matching select box for every column\r\n\t\tvar maxColumnIndex = 0;\r\n\r\n\t\tvar isFileExtensionTxt = fileExtension === '.txt';\r\n\r\n\t\tfor (var i = 0, ilimit = response.length; i < ilimit; i++) {\r\n\t\t\tvar fragmentTR = document.createElement('tr');\r\n\t\t\tvar jlimit = response[i].length;\r\n\r\n\t\t\tmaxColumnIndex = Math.max(maxColumnIndex, jlimit);\r\n\r\n\t\t\t// add first column as a data begin index selector\r\n\t\t\tfor (var j = 0; j < jlimit; j++) {\r\n\t\t\t\tvar fragmentTD = document.createElement('td');\r\n\t\t\t\tvar cellText = response[i][j];\r\n\t\t\t\t// if not empty then add (0 value - stay in table)\r\n\t\t\t\tif (cellText !== null && cellText !== '') {\r\n\t\t\t\t\tif (j === 0 && isFileExtensionTxt === false) {\r\n\t\t\t\t\t\t// if date column (by agreement - it is first column)\r\n\t\t\t\t\t\t// try to convert to YYYY-MM-DD\r\n\t\t\t\t\t\tif (parseInt(cellText, 10) % 1 === 0) {\r\n\t\t\t\t\t\t\t// it is integer\r\n\t\t\t\t\t\t\tcellText = appMoment(fromOAtoJS(parseInt(cellText, 10))).format('YYYY-MM-DD');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfragmentTD.appendChild(document.createTextNode(cellText));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfragmentTR.appendChild(fragmentTD);\r\n\t\t\t}\r\n\r\n\t\t\tfragmentTable.appendChild(fragmentTR);\r\n\t\t}\r\n\r\n\t\t// add ProdDays to columnAttr\r\n\t\tvar prodDaysObj = {\r\n\t\t\tName : 'ProdDays',\r\n\t\t\tNumeratorList : ['days']\r\n\t\t};\r\n\r\n\t\tcolumnAttrList.push(prodDaysObj);\r\n\r\n\t\t// add Date to columnAttr\r\n\t\tvar dateObj = {\r\n\t\t\tName : 'Date',\r\n\t\t\tNumeratorList : ['auto']\r\n\t\t};\r\n\r\n\t\tif (isFileExtensionTxt === true) {\r\n\t\t\tdateObj.NumeratorList = ['d-MMM-yy', 'dd-MMM-yy', 'yyyy-MM-dd', 'M/d/yyyy', 'dd-MM-yyyy', 'MM-dd-yyyy'];\r\n\t\t}\r\n\r\n\t\tcolumnAttrList.push(dateObj);\r\n\r\n\t\t// string with column names\r\n\t\tvar sourceSelect = '<option></option>';\r\n\r\n\t\tfor (var clm = 0; clm < columnAttrList.length; clm++) {\r\n\t\t\tsourceSelect += '<option val=\"' + columnAttrList[clm].Name + '\">' + columnAttrList[clm].Name + '</option>';\r\n\t\t}\r\n\r\n\t\t// 1. set names\r\n\t\t// 2. after select - view volume + time + other\r\n\t\t// 3. after OK - get all names + get all formats + get column index\r\n\t\t// 4. and send to the server\r\n\t\t// string with column formats\r\n\r\n\t\t// matching column names\r\n\t\tvar matchNameTR = document.createElement('tr');\r\n\t\tfragmentTableFoot.appendChild(matchNameTR);\r\n\t\t// matching column formats\r\n\t\tvar matchFormatTR = document.createElement('tr');\r\n\t\tfragmentTableFoot.appendChild(matchFormatTR);\r\n\r\n\t\t// collection of select inputs\r\n\t\tvar matchSelectList = [];\r\n\t\t// create all inputs and put in collection\r\n\t\tfor (var z = 0; z < maxColumnIndex; z++) {\r\n\t\t\tvar matchNameTD = document.createElement('td');\r\n\t\t\t////$(matchNameTD).addClass('wo-border');\r\n\t\t\t// select input for column match names\r\n\t\t\tvar matchNameSelect = document.createElement('select');\r\n\t\t\t$(matchNameSelect).addClass('input-sm').html(sourceSelect);\r\n\t\t\tmatchNameTD.appendChild(matchNameSelect);\r\n\t\t\tmatchNameTR.appendChild(matchNameTD);\r\n\r\n\t\t\t// match formats (numerator)\r\n\t\t\tvar matchFormatTD = document.createElement('td');\r\n\t\t\t// select input for column match names\r\n\t\t\tvar matchFormatSelect = document.createElement('select');\r\n\t\t\t$(matchFormatSelect).addClass('input-sm').hide();\r\n\t\t\tmatchFormatTD.appendChild(matchFormatSelect);\r\n\t\t\tmatchFormatTR.appendChild(matchFormatTD);\r\n\r\n\t\t\t// match formats (denominator)\r\n\t\t\tvar matchFormatSelectDenominator = document.createElement('select');\r\n\t\t\t$(matchFormatSelectDenominator).addClass('input-sm').hide();\r\n\t\t\tmatchFormatTD.appendChild(matchFormatSelectDenominator);\r\n\r\n\t\t\t// add both select inputs to main collection\r\n\t\t\tmatchSelectList.push({\r\n\t\t\t\tmatchNameElem : matchNameSelect,\r\n\t\t\t\tmatchFormatElem : matchFormatSelect,\r\n\t\t\t\tmatchFormatElemDenominator : matchFormatSelectDenominator\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tfunction fillSelectBoxes(event) {\r\n\t\t\tvar choosedColumnName = $(event.currentTarget).val();\r\n\r\n\t\t\tif (!choosedColumnName) {\r\n\t\t\t\t// empty and hide format selectboxes\r\n\t\t\t\t$(matchSelectList[event.data.elemColumnIndex].matchFormatElem).html('').hide();\r\n\t\t\t\t$(matchSelectList[event.data.elemColumnIndex].matchFormatElemDenominator).html('').hide();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// select options to upper part (numerator)\r\n\t\t\t// get Format list of need element (first element)\r\n\t\t\tvar columnAttrElement = $.grep(columnAttrList, function (arrElem) {\r\n\t\t\t\t\t// The filter function must return 'true' to include the item in the result array.\r\n\t\t\t\t\treturn (arrElem.Name === choosedColumnName);\r\n\t\t\t\t})[0];\r\n\r\n\t\t\tvar numeratorOptionList = '';\r\n\t\t\t// make select box from format list\r\n\t\t\t$.each(columnAttrElement.NumeratorList, function (frmIndex, frmElem) {\r\n\t\t\t\tnumeratorOptionList += '<option value=\"' + frmElem + '\">' + frmElem + '</option>';\r\n\t\t\t});\r\n\r\n\t\t\t$(matchSelectList[event.data.elemColumnIndex].matchFormatElem).html(numeratorOptionList).show();\r\n\r\n\t\t\tif (columnAttrElement.DenominatorList) {\r\n\t\t\t\tvar denominatorOptionList = '';\r\n\t\t\t\t// make select box from format list\r\n\t\t\t\t$.each(columnAttrElement.DenominatorList, function (frmIndex, frmElem) {\r\n\t\t\t\t\tdenominatorOptionList += '<option value=\"' + frmElem + '\">' + frmElem + '</option>';\r\n\t\t\t\t});\r\n\r\n\t\t\t\t$(matchSelectList[event.data.elemColumnIndex].matchFormatElemDenominator).html(denominatorOptionList).show();\r\n\t\t\t} else {\r\n\t\t\t\t$(matchSelectList[event.data.elemColumnIndex].matchFormatElemDenominator).html('').hide();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Generate select-boxes with unit format from select-box with unit name\r\n\t\tfor (var k = 0; k < matchSelectList.length; k += 1) {\r\n\t\t\t$(matchSelectList[k].matchNameElem).on('change', {\r\n\t\t\t\telemColumnIndex : k\r\n\t\t\t}, fillSelectBoxes);\r\n\t\t}\r\n\r\n\t\t// clickable rows\r\n\t\t$(fragmentTable).find('tr').on('click', function () {\r\n\t\t\t$(this).siblings().removeClass('selected-row');\r\n\t\t\t$(this).addClass('selected-row');\r\n\t\t});\r\n\r\n\t\t// show all rows in modal window (or new tab)\r\n\t\t// show with header select (column name match, column format (divided to volume/time))\r\n\t\tvar submitFunction = function () {\r\n\t\t\t// calculate beginRowIndex\r\n\t\t\tvar jqrSelectedRowList = $(fragmentTable).find('tr.selected-row');\r\n\r\n\t\t\tif (jqrSelectedRowList.length === 0) {\r\n\t\t\t\talert('Please select a row, where data begins');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t// end calculate\r\n\r\n\t\t\t// get all previous siblings before selected row\r\n\t\t\tvar tmpCountOfRows = jqrSelectedRowList.prevAll().length;\r\n\r\n\t\t\tvar isDateColumnExists = false;\r\n\r\n\t\t\tvar needColumnListSelected = $.map(matchSelectList, function (arrElem, arrIndex) {\r\n\t\t\t\t\tvar tmpNameElem = $(arrElem.matchNameElem).val();\r\n\r\n\t\t\t\t\tif (tmpNameElem) {\r\n\r\n\t\t\t\t\t\tif (tmpNameElem === 'Date') {\r\n\t\t\t\t\t\t\tisDateColumnExists = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar pdColumnAttr = new ColumnAttribute({\r\n\t\t\t\t\t\t\t\tId : arrIndex,\r\n\t\t\t\t\t\t\t\tName : tmpNameElem,\r\n\t\t\t\t\t\t\t\tFormat : $(arrElem.matchFormatElem).val() + ($(arrElem.matchFormatElemDenominator).val() ? (\"/\" + $(arrElem.matchFormatElemDenominator).val()) : '')\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\treturn pdColumnAttr.toPlainJson();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\tif (isDateColumnExists === false) {\r\n\t\t\t\talert('Please choose a column for Date');\r\n        return;\r\n\t\t\t}\r\n\r\n\t\t\tcallbackToSend(needColumnListSelected, tmpCountOfRows);\r\n\t\t\tmodalHelper.closeModalWideWindow();\r\n\t\t};\r\n\r\n\t\tmodalHelper.openModalWideWindow(bodyDom, submitFunction, 'Please select values for columns');\r\n\t}\r\n\r\n\t/**\r\n\t * Perfomance of well viewmodel (one well - one perfomance)\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWell, vwmWell,\r\n\t\tkoStartYear, koEndYear, koStartMonth, koEndMonth,\r\n\t\tkoSlcAttrGroupId, koIsVisibleForecastData) {\r\n     \r\n\t\tvar vw = this;\r\n\r\n\t\t/** Getter for a parent */\r\n\t\tthis.getVwmWell = function () {\r\n\t\t\treturn vwmWell;\r\n\t\t};\r\n\r\n    this.mdlWell = mdlWell;\r\n    \r\n\t\tthis.mdlPerfomanceOfWell = mdlWell.perfomanceOfWell;\r\n\r\n\t\tthis.isVisibleForecastData = koIsVisibleForecastData;\r\n\r\n\t\tthis.selectedPrfTableYear = ko.observable();\r\n\t\tthis.selectPrfTableYear = function (selectedPrfTableYearItem) {\r\n\t\t\tvw.selectedPrfTableYear(selectedPrfTableYearItem);\r\n\t\t};\r\n\r\n\t\tthis.monthList = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\r\n\r\n\t\tthis.WPDDateStartYear = koStartYear;\r\n\t\tthis.WPDDateEndYear = koEndYear;\r\n\t\tthis.WPDDateStartMonth = koStartMonth;\r\n\t\tthis.WPDDateEndMonth = koEndMonth;\r\n\r\n\t\tfunction updateSelectedPrfTableYear() {\r\n\t\t\tvar tmpWpdDateStartYear = ko.unwrap(vw.WPDDateStartYear),\r\n\t\t\ttmpWpdDateEndYear = ko.unwrap(vw.WPDDateEndYear),\r\n\t\t\ttmpSelectedPrfTableYear = ko.unwrap(vw.selectedPrfTableYear);\r\n\r\n\t\t\tif (tmpWpdDateStartYear && tmpWpdDateEndYear) {\r\n\t\t\t\tif (!tmpSelectedPrfTableYear || tmpSelectedPrfTableYear < tmpWpdDateStartYear || tmpSelectedPrfTableYear > tmpWpdDateEndYear) {\r\n\t\t\t\t\tvw.selectedPrfTableYear(tmpWpdDateStartYear);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.WPDDateStartYear.subscribe(updateSelectedPrfTableYear);\r\n\t\tthis.WPDDateEndYear.subscribe(updateSelectedPrfTableYear);\r\n\r\n\t\t/**\r\n\t\t * Id of group (squad) of wfm parameters\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.selectedAttrGroupId = koSlcAttrGroupId;\r\n\r\n\t\tthis.selectedAttrGroup = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpWfmParamSquadList = ko.unwrap(vw.mdlPerfomanceOfWell.getWellObj().getRootMdl().wfmParamSquadList);\r\n\r\n\t\t\t\t\tvar tmpAttrGroup = $.grep(tmpWfmParamSquadList, function (elemValue) {\r\n\t\t\t\t\t\t\treturn elemValue.id === ko.unwrap(vw.selectedAttrGroupId);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (tmpAttrGroup.length > 0) {\r\n\t\t\t\t\t\treturn tmpAttrGroup[0];\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Select id of attribute group\r\n\t\t */\r\n\t\tthis.selectAttrGroupId = function (attrGroupId) {\r\n\t\t\tvw.selectedAttrGroupId(attrGroupId);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Recreate viewmodels for each perfomance of well\r\n\t\t */\r\n\t\tthis.listOfVwmWfmParameterOfWroup = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\t// List of params from a wroup model\r\n\t\t\t\t\tvar tmpParams = ko.unwrap(this.mdlWell.getWellGroup().listOfWfmParameterOfWroup);\r\n\t\t\t\t\treturn tmpParams.map(function (paramItem) {\r\n\t\t\t\t\t\treturn new VwmWfmParameterOfWroup(paramItem);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of selected viewmodels of parameters\r\n\t\t * @type {Array.<module:viewmodels/wfm-parameter-of-wroup>}\r\n\t\t */\r\n\t\tthis.listOfSlcVwmWfmParameterOfWroup = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar resultArr = [];\r\n\r\n\t\t\t\t\tvar tmpSelectedAttrGroup = ko.unwrap(vw.selectedAttrGroup);\r\n\r\n\t\t\t\t\tif (tmpSelectedAttrGroup) {\r\n\t\t\t\t\t\tvar tmpListGlobal = ko.unwrap(vw.listOfVwmWfmParameterOfWroup);\r\n\r\n\t\t\t\t\t\t// list of parameter for selected squad\r\n\t\t\t\t\t\tvar tmpSelectedWfmParameterList = ko.unwrap(tmpSelectedAttrGroup.wfmParameterList);\r\n\r\n\t\t\t\t\t\t// Select only parameter ids\r\n\t\t\t\t\t\tvar tmpIdList = tmpSelectedWfmParameterList.map(function (ssgElem) {\r\n\t\t\t\t\t\t\t\treturn ssgElem.id;\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// return only well group wfm parameters in selected squad\r\n\t\t\t\t\t\tresultArr = tmpListGlobal.filter(function (wgpElem) {\r\n\t\t\t\t\t\t\t\treturn $.inArray(wgpElem.mdlWfmParameterOfWroup.wfmParameterId, tmpIdList) >= 0;\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn resultArr;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Production data, filtered by date\r\n\t\t */\r\n\t\tthis.filteredByDateProductionDataSet = ko.computed({\r\n\t\t\t\tread : this.calcFilteredByDatePD,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Real time border: min and max values in unix time format\r\n\t\t *    This time border other than WPDDateStartYear, EndYear (ant other selectable values)\r\n\t\t */\r\n\t\tthis.filteredByDateProductionDataSetTimeBorder = ko.computed({\r\n\t\t\t\tread : this.calcTimeBorder,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Real value border: min and max values of data in selected squad\r\n\t\t */\r\n\t\tthis.filteredByDateProductionDataSetValueBorder = ko.computed({\r\n\t\t\t\tread : this.calcValueBorder,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t// =============================== Perfomance graph ================================\r\n\t\t/**\r\n\t\t * Update perfomance graph data: graph path for selected regions (d3 line objects in one json object)\r\n\t\t *    <return>{'WaterRate': d3Line, ...}</return>\r\n\t\t */\r\n\t\tthis.perfomancePaths = ko.computed({\r\n\t\t\t\tread : this.generatePerfomancePaths,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * A perfomance graph\r\n\t\t * @type {module:viewmodels/svg-graph}\r\n\t\t */\r\n\t\tthis.prfmGraph = new SvgGraph(vw.filteredByDateProductionDataSetTimeBorder, vw.filteredByDateProductionDataSetValueBorder, vw.perfomancePaths);\r\n\r\n\t\tthis.joinedYearList = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tif (ko.unwrap(vw.isVisibleForecastData)) {\r\n\t\t\t\t\t\treturn ko.unwrap(vw.mdlPerfomanceOfWell.forecastYearList).concat(ko.unwrap(vw.mdlPerfomanceOfWell.histYearList));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn ko.unwrap(vw.mdlPerfomanceOfWell.histYearList);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Remove all production data\r\n\t\t */\r\n\t\tvw.removeWellProductionData = function () {\r\n\t\t\tif (confirm('Are you sure you want to delete all production data from well?')) {\r\n\t\t\t\tvw.mdlPerfomanceOfWell.deleteWellProductionData();\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * Select file and import perfomance data\r\n\t */\r\n\texports.prototype.importPerfomanceData = function () {\r\n\t\tvar tmpStageKey = this.mdlWell.stageKey;\r\n\t\t// Open file manager\r\n\t\tthis.getVwmWell().unzOfSlcVwmSectionFmg(tmpStageKey + '-perfomance');\r\n\r\n\t\tvar tmpFmgrModal = this.getVwmWell().fmgrModal;\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\ttmpFmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.getVwmWell().slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\ttmpFmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tmpSlcFileSpec = selectedFileSpecs[0];\r\n\r\n\t\t\t//console.log('slcSection', tmpSlcVwmSection.mdlSection.id);\r\n\t\t\tths.mdlPerfomanceOfWell.getPerfomanceFragment(tmpStageKey, tmpSlcVwmSection.mdlSection.id, tmpSlcFileSpec.id, 0, 10, function (response) {\r\n\t\t\t\tvar columnAttrList = ko.unwrap(ths.mdlPerfomanceOfWell.prdColumnAttributeList);\r\n\t\t\t\tconsole.log('clean columns: ', columnAttrList);\r\n\t\t\t\t// remove calculated attributes\r\n\t\t\t\tcolumnAttrList = columnAttrList.filter(function (arrElem) {\r\n\t\t\t\t\t\treturn ko.unwrap(arrElem.IsCalc) === false;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tvar jsColumnAttrList = columnAttrList.map(function (elem) {\r\n\t\t\t\t\t\treturn ko.toJS(elem);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t// Hide window with files\r\n\t\t\t\ttmpFmgrModal.hide();\r\n\r\n\t\t\t\t// Open window with match table\r\n\t\t\t\tbuildMatchTable(response, tmpSlcFileSpec.extension, jsColumnAttrList, function (tmpSlcColumnAttrList, tmpIndexOfStartRow) {\r\n\t\t\t\t\tconsole.log(tmpSlcColumnAttrList, tmpIndexOfStartRow);\r\n\t\t\t\t\tths.mdlPerfomanceOfWell.postPerfomanceData(tmpStageKey,\r\n\t\t\t\t\t\ttmpSlcVwmSection.mdlSection.id,\r\n\t\t\t\t\t\ttmpSlcFileSpec.id,\r\n\t\t\t\t\t\ttmpIndexOfStartRow,\r\n\t\t\t\t\t\ttmpSlcColumnAttrList,\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\t// update data after import\r\n\t\t\t\t\t\tths.mdlPerfomanceOfWell.isLoadedHstProductionData(false);\r\n\t\t\t\t\t\tths.mdlPerfomanceOfWell.getHstProductionDataSet();\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\tfunction (jqXhr) {\r\n\t\t\t\t\t\tif (jqXhr.status === 422) {\r\n\t\t\t\t\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\t\t\t\t\trequire(['helpers/lang-helper'], function (langHelper) {\r\n\t\t\t\t\t\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || resJson.errId);\r\n\t\t\t\t\t\t\t\talert(tmpProcessError);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\ttmpFmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\ttmpFmgrModal.okDescription('Please select a file to import');\r\n\r\n\t\t// Open file manager\r\n\t\ttmpFmgrModal.show();\r\n\t};\r\n\r\n\t/** Generate paths for a graph */\r\n\texports.prototype.generatePerfomancePaths = function () {\r\n\t\tvar resultArr = [];\r\n\t\t// Redraw data after changing a graph zoom\r\n\t\tvar tmpZoomTransform = ko.unwrap(this.prfmGraph.zoomTransform);\r\n\r\n\t\t// Without zoom initization - do not redraw\r\n\t\tif (tmpZoomTransform) {\r\n\t\t\t// List of viewmodels with WFM parameters (units)\r\n\t\t\tvar listOfVwmParam = ko.unwrap(this.listOfSlcVwmWfmParameterOfWroup);\r\n\r\n\t\t\tvar tmpXScale = ko.unwrap(this.prfmGraph.scaleX),\r\n\t\t\ttmpYScale = ko.unwrap(this.prfmGraph.scaleY);\r\n\r\n\t\t\tif (tmpXScale && tmpYScale) {\r\n\t\t\t\tvar tmpDataSet = ko.unwrap(this.filteredByDateProductionDataSet);\r\n\r\n\t\t\t\tlistOfVwmParam.forEach(function (vwmParamItem) {\r\n\t\t\t\t\t// parameter id, like CSG, WaterRate ...\r\n\t\t\t\t\tvar tmpIdOfParameter = vwmParamItem.mdlWfmParameterOfWroup.wfmParameterId;\r\n\r\n\t\t\t\t\t/**\r\n\t\t\t\t\t * Create line with d3 lib\r\n\t\t\t\t\t *    https://github.com/mbostock/d3/wiki/SVG-Shapes#wiki-line\r\n\t\t\t\t\t */\r\n\t\t\t\t\tvar generateLinePath = d3.svg.line()\r\n\t\t\t\t\t\t.interpolate('monotone') // monotone or linear\r\n\t\t\t\t\t\t.x(function (d) {\r\n\t\t\t\t\t\t\treturn tmpXScale(new Date(d.unixTime * 1000));\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.y(function (d) {\r\n\t\t\t\t\t\t\treturn tmpYScale(\r\n\t\t\t\t\t\t\t\t$.isNumeric(ko.unwrap(d[tmpIdOfParameter])) ? (ko.unwrap(d[tmpIdOfParameter]) * ko.unwrap(ko.unwrap(vwmParamItem.mdlWfmParameterOfWroup.wfmParameter).uomCoef)) : null);\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tresultArr.push({\r\n\t\t\t\t\t\tprmPath : generateLinePath(tmpDataSet),\r\n\t\t\t\t\t\tprmStroke : ko.unwrap(vwmParamItem.mdlWfmParameterOfWroup.color),\r\n\t\t\t\t\t\tprmVisible : ko.unwrap(vwmParamItem.isVisible)\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn resultArr;\r\n\t};\r\n\r\n\t/** Calculate a value border */\r\n\texports.prototype.calcValueBorder = function () {\r\n\t\t// Params viewmodels\r\n\t\tvar tmpVwmList = ko.unwrap(this.listOfSlcVwmWfmParameterOfWroup);\r\n\t\t// Data\r\n\t\tvar tmpDataList = ko.unwrap(this.filteredByDateProductionDataSet);\r\n\r\n\t\t// get max and min value to find coef for graph\r\n\t\tvar minValue,\r\n\t\tmaxValue;\r\n\r\n\t\t$.each(tmpDataList, function (prfIndex, prfElem) {\r\n\t\t\t$.each(tmpVwmList, function (clmIndex, clmElem) {\r\n\t\t\t\tif (ko.unwrap(clmElem.isVisible)) {\r\n\t\t\t\t\tvar tmpMdl = clmElem.mdlWfmParameterOfWroup;\r\n\t\t\t\t\tif ($.isNumeric(ko.unwrap(prfElem[tmpMdl.wfmParameterId]))) {\r\n\t\t\t\t\t\tvar tmpValue = ko.unwrap(prfElem[tmpMdl.wfmParameterId]) * ko.unwrap(tmpMdl.wfmParameter().uomCoef);\r\n\t\t\t\t\t\t// init first values\r\n\t\t\t\t\t\tif (typeof minValue === 'undefined' || typeof maxValue === 'undefined') {\r\n\t\t\t\t\t\t\tminValue = maxValue = tmpValue;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (tmpValue > maxValue) {\r\n\t\t\t\t\t\t\t\tmaxValue = tmpValue;\r\n\t\t\t\t\t\t\t} else if (tmpValue < minValue) {\r\n\t\t\t\t\t\t\t\tminValue = tmpValue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\t// Plus (top and bottom) margin 5% - monotone function can be overdrawen out of graph wrap border\r\n\t\tif (typeof(minValue) !== 'undefined') {\r\n\t\t\tminValue -= minValue / 20;\r\n\t\t\tmaxValue += maxValue / 20;\r\n\t\t}\r\n\r\n\t\t// Still can be undefined\r\n\t\treturn [minValue, maxValue];\r\n\t};\r\n\r\n\t/** Calculate a time border */\r\n\texports.prototype.calcTimeBorder = function () {\r\n\t\tvar arr = ko.unwrap(this.filteredByDateProductionDataSet);\r\n\t\tif (arr.length === 0) {\r\n\t\t\treturn [];\r\n\t\t}\r\n\r\n\t\treturn [arr[arr.length - 1].unixTime, arr[0].unixTime];\r\n\t};\r\n\r\n  /** Calculate data, filtered by date */\r\n\texports.prototype.calcFilteredByDatePD = function () {\r\n\t\tvar resultArr = [];\r\n\r\n\t\tvar tmpHstProductionDataSet = ko.unwrap(this.mdlPerfomanceOfWell.hstProductionDataSet),\r\n\t\ttmpHistYearList = ko.unwrap(this.mdlPerfomanceOfWell.histYearList);\r\n\r\n\t\tif (tmpHstProductionDataSet.length > 0 && tmpHistYearList.length > 0) {\r\n\t\t\t// Forecast tmp\r\n\t\t\tvar tmpDcaProductionDataSet = ko.unwrap(this.mdlPerfomanceOfWell.dcaProductionDataSet),\r\n\t\t\ttmpIsVisibleForecastData = ko.unwrap(this.isVisibleForecastData) ? true : false;\r\n\r\n\t\t\tvar prdArray;\r\n\t\t\tif (tmpIsVisibleForecastData) {\r\n\t\t\t\tprdArray = tmpDcaProductionDataSet.concat(tmpHstProductionDataSet);\r\n\t\t\t} else {\r\n\t\t\t\tprdArray = tmpHstProductionDataSet;\r\n\t\t\t}\r\n\r\n\t\t\t// Set bound dates if undefined\r\n\t\t\tif (!ko.unwrap(this.WPDDateStartYear)) {\r\n\t\t\t\tthis.WPDDateStartYear(tmpHistYearList[0]);\r\n\t\t\t}\r\n\r\n\t\t\tif (!ko.unwrap(this.WPDDateEndYear)) {\r\n\t\t\t\tthis.WPDDateEndYear(tmpHistYearList[0]);\r\n\t\t\t}\r\n\r\n\t\t\tif (!ko.unwrap(this.WPDDateStartMonth)) {\r\n\t\t\t\tthis.WPDDateStartMonth(1);\r\n\t\t\t}\r\n\r\n\t\t\tif (!ko.unwrap(this.WPDDateEndMonth)) {\r\n\t\t\t\tthis.WPDDateEndMonth(12);\r\n\t\t\t}\r\n\t\t\t// ----\r\n\t\t\t// TODO: change WPDDate to right names\r\n\t\t\tvar tmpStartYear = ko.unwrap(this.WPDDateStartYear),\r\n\t\t\ttmpEndYear = ko.unwrap(this.WPDDateEndYear),\r\n\t\t\ttmpStartMonth = ko.unwrap(this.WPDDateStartMonth),\r\n\t\t\ttmpEndMonth = ko.unwrap(this.WPDDateEndMonth);\r\n\r\n\t\t\t// Seconds from Unix Epoch\r\n\t\t\tvar startUnixTime = new Date(Date.UTC(tmpStartYear, tmpStartMonth - 1, 1)).getTime() / 1000;\r\n\t\t\tvar endUnixTime = new Date(Date.UTC(tmpEndYear, tmpEndMonth - 1, 1)).getTime() / 1000;\r\n\r\n\t\t\tresultArr = ko.utils.arrayFilter(prdArray, function (r) {\r\n\t\t\t\t\treturn ((r.unixTime >= startUnixTime) && (r.unixTime <= endUnixTime));\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn resultArr;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-well-perfomance',['knockout',\r\n\t\t'viewmodels/perfomance-of-well',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tVwmPerfomanceOfWell,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A perfomance widget\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);    \r\n    \r\n\t\t/**\r\n\t\t * A viewmodel for perfomance\r\n     *    Viewmodel can't be in a model: any viewmodel initializes only in other viewmodels\r\n\t\t * @type {module:viewmodels/perfomance-of-well}\r\n\t\t */\r\n\t\tthis.vwmPerfomanceOfWell = new VwmPerfomanceOfWell(mdlWidget.mdlStageContext,\r\n        null,\r\n\t\t\t\tmdlWidget.opts.startYear,\r\n\t\t\t\tmdlWidget.opts.endYear,\r\n\t\t\t\tmdlWidget.opts.startMonth,\r\n\t\t\t\tmdlWidget.opts.endMonth,\r\n\t\t\t\tmdlWidget.opts.selectedAttrGroupId,\r\n\t\t\t\tmdlWidget.opts.isVisibleForecastData);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('helpers/monitoring-helper',['knockout',\r\n\t\t'd3',\r\n\t\t'helpers/app-helper'], function (ko,\r\n\t\td3,\r\n\t\tappHelper) {\r\n\t'use strict';\r\n\r\n\tvar exports = {};\r\n\r\n\tvar genFromParamX = function (tmpXScale, d) {\r\n\t\treturn tmpXScale(new Date(ko.unwrap(d.unixTime) * 1000));\r\n\t};\r\n\r\n\tvar genFromParamY = function (tmpYScale, idOfWfmParam, uomCoef, d) {\r\n\t\t// parameter id, like CSG, WaterRate ...\r\n\t\tvar tmpVal = ko.unwrap(d.dict[idOfWfmParam]);\r\n\t\treturn tmpYScale(appHelper.isNumeric(tmpVal) ? (tmpVal * uomCoef) : null);\r\n\t};\r\n\r\n\texports.genFromParam = function (tmpRecords, tmpXScale, tmpYScale, vwmParamItem) {\r\n\t\tvar tmpWfmParam = ko.unwrap(vwmParamItem.mdlWfmParameterOfWroup.wfmParameter);\r\n\t\tvar idOfWfmParam = tmpWfmParam.id;\r\n\t\tvar uomCoef = ko.unwrap(tmpWfmParam.uomCoef);\r\n\r\n\t\t/**\r\n\t\t * Create line with d3 lib\r\n\t\t *    https://github.com/mbostock/d3/wiki/SVG-Shapes#wiki-line\r\n\t\t */\r\n\t\tvar generateLinePath = d3.svg.line()\r\n\t\t\t.interpolate('monotone') // monotone or linear\r\n\t\t\t.x(genFromParamX.bind(null, tmpXScale))\r\n\t\t\t.y(genFromParamY.bind(null, tmpYScale, idOfWfmParam, uomCoef));\r\n\r\n\t\treturn {\r\n\t\t\tprmPath : generateLinePath(tmpRecords),\r\n\t\t\tprmStroke : ko.unwrap(vwmParamItem.mdlWfmParameterOfWroup.color),\r\n\t\t\tprmVisible : ko.unwrap(vwmParamItem.isVisible)\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * Handle border for cycle\r\n   * @param {Array} borders - Non primitive type to calc min and max values\r\n\t */\r\n\tfunction handleBorder(borders, tmpRecord) {\r\n\t\tvar tmpDict = tmpRecord.dict;\r\n\t\tfor (var paramKey in tmpDict) {\r\n\t\t\tif (tmpDict.hasOwnProperty(paramKey)) {\r\n\t\t\t\tvar paramVal = ko.unwrap(tmpDict[paramKey]);\r\n\t\t\t\tif (appHelper.isNumeric(paramVal)) {\r\n\t\t\t\t\t// Set min and max values if they are null\r\n\t\t\t\t\tif (borders[0] === null && borders[1] === null) {\r\n\t\t\t\t\t\tborders[0] = borders[1] = paramVal;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tborders[0] = Math.min(borders[0], paramVal);\r\n\t\t\t\t\t\tborders[1] = Math.max(borders[1], paramVal);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Get a value border array\r\n\t * @returns {Array} - [min, max] values\r\n\t */\r\n\texports.getValueBorderArr = function (koTmpRecords) {\r\n\t\tvar tmpRecords = ko.unwrap(koTmpRecords);\r\n\t\t// var minVal = null,\r\n\t\t// maxVal = null;\r\n    var borders = [null, null];\r\n\r\n\t\ttmpRecords.forEach(handleBorder.bind(this, borders), this);\r\n\r\n\t\t// Elements of this array can be null\r\n    console.log('value borders: ', borders);\r\n\t\treturn borders;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/**\r\n * @module\r\n * @todo #32! When the user selects only one filtered time picker,\r\n *            need to show the graph with one limit\r\n */\r\ndefine('viewmodels/monitoring-of-well',['knockout',\r\n\t\t'viewmodels/svg-graph',\r\n\t\t'd3',\r\n\t\t'viewmodels/wfm-parameter-of-wroup',\r\n\t\t'helpers/monitoring-helper'],\r\n\tfunction (ko,\r\n\t\tSvgGraph,\r\n\t\td3,\r\n\t\tVwmWfmParameterOfWroup,\r\n\t\tmntrHelper) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A shared monitoring viewmodel for widgets and sections\r\n\t * @constructor\r\n\t * @param {number} optStartUnixTime - Start time for monitoring\r\n\t * @param {number} optEndUnixTime - End time for monitoring\r\n\t *        these times can be loaded as options for a widget\r\n\t *        or as cookie values for a main view\r\n\t */\r\n\tvar exports = function (mdlWell, koStartUnixTime, koEndUnixTime) {\r\n\t\tthis.mdlWell = mdlWell;\r\n\r\n\t\t/**\r\n\t\t * A date border to filter monitoring data\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.mntrUnixTimeBorder = {\r\n\t\t\t// By default: loaded from server options for a widget\r\n\t\t\t// no default for main section views\r\n\t\t\tstart : koStartUnixTime,\r\n\t\t\tend : koEndUnixTime\r\n\t\t};\r\n\r\n\t\t// When a user changes filtered dates - reload monitoring records\r\n\t\tthis.mntrUnixTimeBorder.start.subscribe(this.loadFilteredListOfMonitoringRecord, this);\r\n\t\tthis.mntrUnixTimeBorder.end.subscribe(this.loadFilteredListOfMonitoringRecord, this);\r\n\r\n\t\t//{ #region GRAPH\r\n\r\n\t\t/**\r\n\t\t * Computed array from the time border object\r\n\t\t */\r\n\t\tthis.timeBorderArr = ko.computed({\r\n\t\t\t\tread : this.getTimeBorderArr,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Min and max values of curves\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis.valueBorderArr = ko.computed({\r\n\t\t\t\tread : mntrHelper.getValueBorderArr.bind(null, this.mdlWell.listOfMonitoringRecord),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels of params (for different views/widgets - need an IsVisible property)\r\n\t\t * @type {Array.<module:viewmodels/wfm-parameter-of-wroup>}\r\n\t\t */\r\n\t\tthis.listOfMonitoredVwmParams = ko.computed({\r\n\t\t\t\tread : this.getListOfMonitoredVwmParams,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Array with properties for svg paths\r\n\t\t * @type {Array.<object>}\r\n\t\t */\r\n\t\tthis.pathsArr = ko.computed({\r\n\t\t\t\tread : this.getPathsArr,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Main object for graph\r\n\t\t */\r\n\t\tthis.mntrGraph = new SvgGraph(this.timeBorderArr, this.valueBorderArr, this.pathsArr);\r\n\r\n\t\t//} #endregion GRAPH\r\n\r\n\t\t// // Load data (widget or main view options)\r\n\t\t// // Automatically will be loaded monitoring records for these dates\r\n\t\t// this.mntrUnixTimeBorder.start(optStartUnixTime);\r\n\t\t// this.mntrUnixTimeBorder.end(optEndUnixTime);\r\n\t};\r\n\r\n\t/**\r\n\t * Load the list, using filtered dates (if both exists)\r\n\t */\r\n\texports.prototype.loadFilteredListOfMonitoringRecord = function () {\r\n\t\tconsole.log('load monitoring');\r\n\t\tvar tmpTime = this.mntrUnixTimeBorder;\r\n\t\tvar startUnixTime = ko.unwrap(tmpTime.start);\r\n\t\tif (startUnixTime) {\r\n\t\t\tvar endUnixTime = ko.unwrap(tmpTime.end);\r\n\t\t\tif (endUnixTime) {\r\n\t\t\t\tthis.mdlWell.loadListOfMonitoringRecord(startUnixTime, endUnixTime);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get the time border\r\n\t * @returns {Array} - [min, max] time values\r\n\t */\r\n\texports.prototype.getTimeBorderArr = function () {\r\n\t\treturn [ko.unwrap(this.mntrUnixTimeBorder.start), ko.unwrap(this.mntrUnixTimeBorder.end)];\r\n\t};\r\n\r\n\t/**\r\n\t * Get list of viewmodels of monitored parameters\r\n\t * @returns {Array.<module:viewmodels/wfm-parameter-of-wroup>}\r\n\t */\r\n\texports.prototype.getListOfMonitoredVwmParams = function () {\r\n\t\tvar tmpList = ko.unwrap(this.mdlWell.getWellGroup().listOfMonitoredParams);\r\n\t\treturn tmpList.map(function (paramItem) {\r\n\t\t\treturn new VwmWfmParameterOfWroup(paramItem);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Remove all records: ovveride the model method with a confirmation and checking\r\n\t */\r\n\texports.prototype.removeAllMonitoringRecords = function () {\r\n\t\tif (confirm('Are you sure you want to delete all records for this well for all time?')) {\r\n\t\t\tthis.mdlWell.removeAllMonitoringRecords();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get the array of svg paths\r\n\t */\r\n\texports.prototype.getPathsArr = function () {\r\n\t\t// Redraw data after changing a graph zoom\r\n\t\tvar tmpZoomTransform = ko.unwrap(this.mntrGraph.zoomTransform);\r\n\r\n\t\t// Without zoom initization - do not redraw\r\n\t\tif (tmpZoomTransform) {\r\n\t\t\tvar listOfVwmParam = ko.unwrap(this.listOfMonitoredVwmParams);\r\n\r\n\t\t\tvar tmpXScale = ko.unwrap(this.mntrGraph.scaleX),\r\n\t\t\ttmpYScale = ko.unwrap(this.mntrGraph.scaleY);\r\n\r\n\t\t\tif (tmpXScale && tmpYScale) {\r\n\t\t\t\t// Monitoring records for all dates\r\n\t\t\t\tvar tmpRecords = ko.unwrap(this.mdlWell.sortedListOfMonitoringRecord);\r\n\r\n\t\t\t\treturn listOfVwmParam.map(mntrHelper.genFromParam.bind(null, tmpRecords, tmpXScale, tmpYScale));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn [];\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-well-monitoring',['knockout',\r\n\t\t'viewmodels/monitoring-of-well',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tVwmMonitoringOfWell,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A monitoring widget\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n    \r\n\t\tthis.widgetVwmMonitoringOfWell = new VwmMonitoringOfWell(mdlWidget.mdlStageContext,\r\n      mdlWidget.opts.startUnixTime, \r\n      mdlWidget.opts.endUnixTime);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-well-sketch',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: widget for sketch (image plus desc)\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/history-of-well',[\r\n\t\t'jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper'],\r\n\tfunction (\r\n\t\t$,\r\n\t\tko,\r\n\t\tbootstrapModal) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: history of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlHistoryOfWell, vwmWell,\r\n\t\tkoStartUnixTime, koEndUnixTime, koIdOfSlcJobType) {\r\n\r\n\t\t/**\r\n\t\t * Getter for a well viewmodel\r\n\t\t */\r\n\t\tthis.getVwmWell = function () {\r\n\t\t\treturn vwmWell;\r\n\t\t};\r\n\r\n\t\tthis.filterUnixTime = {\r\n\t\t\tstart : koStartUnixTime,\r\n\t\t\tend : koEndUnixTime\r\n\t\t};\r\n\r\n\t\tthis.idOfSlcJobType = koIdOfSlcJobType;\r\n\r\n\t\t/**\r\n\t\t * Model: history of well\r\n\t\t * @type {module:models/history-of-well}\r\n\t\t */\r\n\t\tthis.mdlHistoryOfWell = mdlHistoryOfWell;\r\n\r\n\t\t/**\r\n\t\t * Whether history record is visible (filtered)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisible = ko.computed({\r\n\t\t\t\tread : this.checkIsVisibleRecord,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t// /**\r\n\t\t// * A list of viewmodels of history files\r\n\t\t// * @type {Array.<module:viewmodels/file-spec>}\r\n\t\t// */\r\n\t\t// this.listOfVwmHistoryFile = ko.computed({\r\n\t\t// read : this.buildListOfVwmHistoryFile,\r\n\t\t// deferEvaluation : true,\r\n\t\t// owner : this\r\n\t\t// });\r\n\t};\r\n\r\n\t// /**\r\n\t// * Build a list of viewmodels of history files\r\n\t// * @returns {Array.<module:viewmodels/file-spec>}\r\n\t// */\r\n\t// exports.prototype.buildListOfVwmHistoryFile = function () {\r\n\t// var tmpList = ko.unwrap(this.mdlHistoryOfWell.WellHistoryFiles);\r\n\t// return tmpList.map(function (elem) {\r\n\t// // Create viewmodel with an empty filter\r\n\t// return new VwmFileSpec(elem, '');\r\n\t// });\r\n\t// };\r\n\r\n\t/**\r\n\t * Create file spec for history of well\r\n\t */\r\n\texports.prototype.createFileSpecOfHistoryOfWell = function () {\r\n\t\tvar ths = this;\r\n\t\t// Select file section with history files (load and unselect files)\r\n\t\tvar tmpVwmWell = this.getVwmWell();\r\n\t\ttmpVwmWell.unzOfSlcVwmSectionFmg(tmpVwmWell.mdlStage.stageKey + '-history');\r\n\t\tvar fmgrModal = tmpVwmWell.fmgrModal;\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tfmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(tmpVwmWell.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tfmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlHistoryOfWell.postFileSpecOfHistoryOfWell(selectedFileSpecs[0].id, function () {\r\n\t\t\t\tfmgrModal.hide();\r\n\t\t\t}, function (jqXhr) {\r\n\t\t\t\tif (jqXhr.status === 422) {\r\n\t\t\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\t\t\trequire(['helpers/lang-helper'], function (langHelper) {\r\n\t\t\t\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || 'unknown error');\r\n\t\t\t\t\t\tfmgrModal.okError(tmpProcessError);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tfmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tfmgrModal.okDescription('Please select a file for this history record');\r\n\r\n\t\t// Open file manager\r\n\t\tfmgrModal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * Create cropped image from file (for history of well)\r\n\t */\r\n\texports.prototype.createImageFromFileSpec = function () {\r\n\t\tvar ths = this;\r\n\t\tvar tmpVwmWell = this.getVwmWell();\r\n\t\ttmpVwmWell.unzOfSlcVwmSectionFmg(tmpVwmWell.mdlStage.stageKey + '-history');\r\n\t\tvar fmgrModal = this.getVwmWell().fmgrModal;\r\n\r\n\t\tfunction mgrCallback() {\r\n\t\t\tfmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(tmpVwmWell.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tfmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar imageFileSpec = selectedFileSpecs[0];\r\n\r\n\t\t\tfmgrModal.hide();\r\n\r\n\t\t\t// history image src\r\n\t\t\tvar innerDiv = document.createElement('div');\r\n\t\t\tvar historyImgElem = document.createElement('img');\r\n\t\t\tinnerDiv.appendChild(historyImgElem);\r\n\t\t\t// load image before open window and set JCrop\r\n\t\t\thistoryImgElem.onload = function () {\r\n\t\t\t\t// load need libraries for cropping\r\n\t\t\t\trequire(['jquery.Jcrop'], function () {\r\n\t\t\t\t\tvar coords = [0, 0, 0, 0];\r\n\r\n\t\t\t\t\tfunction jcropSaveCoords(c) {\r\n\t\t\t\t\t\tcoords = [c.x, c.y, c.x2, c.y2];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// The variable jcrop_api will hold a reference to the Jcrop API once Jcrop is instantiated\r\n\t\t\t\t\t$(historyImgElem).Jcrop({\r\n\t\t\t\t\t\tonChange : jcropSaveCoords,\r\n\t\t\t\t\t\tonSelect : jcropSaveCoords,\r\n\t\t\t\t\t\tbgOpacity : 0.6\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t// submitted by OK button\r\n\t\t\t\t\tbootstrapModal.openModalWideWindow(innerDiv, function () {\r\n\t\t\t\t\t\t// TODO: check not null comments = if user can't choose whole images\r\n\t\t\t\t\t\tths.mdlHistoryOfWell.postImageOfHistoryOfWell(imageFileSpec.id, coords, function () {\r\n\t\t\t\t\t\t\tbootstrapModal.closeModalWideWindow();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}, 'Please select area to crop');\r\n\t\t\t\t\t// end of require\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\t// Start load an image\r\n\t\t\thistoryImgElem.src = imageFileSpec.fileUrl;\r\n\t\t}\r\n\t\t// Add to observable\r\n\t\tfmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tfmgrModal.okDescription('Please select a history image to crop');\r\n\r\n\t\t// Open file manager\r\n\t\tfmgrModal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * Check whether is this record visible\r\n\t */\r\n\texports.prototype.checkIsVisibleRecord = function () {\r\n\t\tvar ths = this;\r\n\t\tvar tmpFilterUnixTime = ko.toJS(this.filterUnixTime);\r\n\r\n\t\tconsole.log('tmpFilterUnixTime', tmpFilterUnixTime);\r\n\r\n\t\t// Step 1: filter by date\r\n\t\tif (tmpFilterUnixTime.start || tmpFilterUnixTime.end) {\r\n\t\t\tvar tmpElemUnixTime = {\r\n\t\t\t\tstart : ko.unwrap(ths.mdlHistoryOfWell.startUnixTime),\r\n\t\t\t\tend : ko.unwrap(ths.mdlHistoryOfWell.endUnixTime)\r\n\t\t\t};\r\n\r\n\t\t\tconsole.log('tmpElemUnixTime', tmpElemUnixTime);\r\n\r\n\t\t\tif (tmpFilterUnixTime.start && (tmpFilterUnixTime.start > tmpElemUnixTime.start)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (tmpFilterUnixTime.end && (tmpFilterUnixTime.end < tmpElemUnixTime.end)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Step 2: filter by job type\r\n\t\tvar tmpIdOfSlcJobType = ko.unwrap(ths.idOfSlcJobType);\r\n\r\n\t\tif (tmpIdOfSlcJobType) {\r\n\t\t\tif (ko.unwrap(ths.mdlHistoryOfWell.jobTypeId) !== tmpIdOfSlcJobType) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/scope-of-history-of-well',['knockout',\r\n\t\t'viewmodels/history-of-well'],\r\n\tfunction (ko,\r\n\t\tVwmHistoryOfWell) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Well history view for history section, report section and history widgets\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (vwmWell, mdlWell, koFilteredStartUnixTime,\r\n\t\tkoFilteredEndUnixTime, koIdOfSlcJobType, koSortByDateOrder) {\r\n\t\t/**\r\n\t\t * Getter for a parent viewmodel\r\n\t\t *    Not defined as a property to exclude loop between a parent child and a child parent\r\n\t\t */\r\n\t\tthis.getVwmWell = function () {\r\n\t\t\treturn vwmWell;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * A well model\r\n\t\t * @type {module:models/well}\r\n\t\t */\r\n\t\tthis.mdlWell = mdlWell;\r\n\r\n\t\t/** Company model for this well */\r\n\t\tvar mdlCompany = this.mdlWell.getWellGroup().getWellField().getWellRegion().getCompany();\r\n\r\n\t\t/**\r\n\t\t * Link to company job type list (observable)\r\n\t\t */\r\n\t\tthis.jobTypeList = mdlCompany.jobTypeList;\r\n\r\n\t\tthis.goToPostingJobType = function () {\r\n\t\t\tvar jobTypeNewName = window.prompt('Add job type to list');\r\n\t\t\tif (jobTypeNewName) {\r\n\t\t\t\tmdlCompany.postJobType(jobTypeNewName);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// UTC unix time (in seconds)\r\n\t\tthis.startDate = koFilteredStartUnixTime;\r\n\t\tthis.endDate = koFilteredEndUnixTime;\r\n\r\n\t\tthis.jobTypeId = koIdOfSlcJobType;\r\n\r\n\t\tthis.sortByDateOrder = koSortByDateOrder;\r\n\r\n\t\tthis.sortByDateCss = ko.computed({\r\n\t\t\t\tread : this.getSortByDateCss,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.listOfVwmHistoryOfWell = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmHistoryOfWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Sorted list of history records\r\n\t\t *    Separated from main list, to prevent recreation of this list\r\n\t\t * @type {Array.<module:viewmodels/history-of-well>}\r\n\t\t */\r\n\t\tthis.sortedListOfVwmHistoryOfWell = ko.computed({\r\n\t\t\t\tread : this.buildSortedListOfVwmHistoryOfWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.wellHistoryNew = {\r\n\t\t\tstartUnixTime : ko.observable(),\r\n\t\t\tendUnixTime : ko.observable()\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Whether is a record posting enable\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isEnabledPostHistoryOfWell = ko.computed({\r\n\t\t\t\tread : this.checkIsEnabledPostHistoryOfWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Check whether is a record posting enable */\r\n\texports.prototype.checkIsEnabledPostHistoryOfWell = function () {\r\n\t\tif (ko.unwrap(this.wellHistoryNew.startUnixTime)) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Create a history record */\r\n\texports.prototype.postVwmHistoryOfWell = function () {\r\n\t\tif (ko.unwrap(this.isEnabledPostHistoryOfWell)) {\r\n\t\t\tvar wellHistoryNewData = ko.toJS(this.wellHistoryNew);\r\n\r\n\t\t\tif (wellHistoryNewData.startUnixTime) {\r\n\t\t\t\tif (!wellHistoryNewData.endUnixTime) {\r\n\t\t\t\t\twellHistoryNewData.endUnixTime = wellHistoryNewData.startUnixTime;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.mdlWell.postHistoryOfWell(wellHistoryNewData.startUnixTime,\r\n\t\t\t\t\twellHistoryNewData.endUnixTime, this.scsPostHistoryOfWell.bind(this));\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Success post of history\r\n\t */\r\n\texports.prototype.scsPostHistoryOfWell = function (resHistoryRecord) {\r\n\t\tthis.mdlWell.pushHistoryOfWell(resHistoryRecord);\r\n\r\n\t\t// Set to null for psblty creating new well history\r\n\t\tthis.wellHistoryNew.startUnixTime(null);\r\n\t\tthis.wellHistoryNew.endUnixTime(null);\r\n\t};\r\n\r\n\t/**\r\n\t * Remove history record: model and viewmodel\r\n\t */\r\n\texports.prototype.removeVwmHistoryOfWell = function (vwmHistoryOfWellToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete record?')) {\r\n\t\t\tthis.mdlWell.deleteWellHistory(vwmHistoryOfWellToRemove.mdlHistoryOfWell);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get sorted list\r\n\t * @private\r\n\t */\r\n\texports.prototype.buildSortedListOfVwmHistoryOfWell = function () {\r\n\t\tvar tmpVwmList = ko.unwrap(this.listOfVwmHistoryOfWell);\r\n\r\n\t\tvar tmpOrder = parseInt(ko.unwrap(this.sortByDateOrder), 10);\r\n\r\n\t\treturn tmpVwmList.sort(function (left, right) {\r\n\t\t\treturn ko.unwrap(left.mdlHistoryOfWell.startUnixTime) === ko.unwrap(right.mdlHistoryOfWell.startUnixTime) ? 0 :\r\n\t\t\t(ko.unwrap(left.mdlHistoryOfWell.startUnixTime) > ko.unwrap(right.mdlHistoryOfWell.startUnixTime) ? tmpOrder : -tmpOrder);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Get list of viewmodels */\r\n\texports.prototype.buildListOfVwmHistoryOfWell = function () {\r\n\t\tvar tmpMdlList = ko.unwrap(this.mdlWell.historyList);\r\n\t\tvar readyList = tmpMdlList.map(function (elem) {\r\n\t\t\t\treturn new VwmHistoryOfWell(elem,\r\n\t\t\t\t\tthis.getVwmWell(),\r\n\t\t\t\t\tthis.startDate,\r\n\t\t\t\t\tthis.endDate,\r\n\t\t\t\t\tthis.jobTypeId);\r\n\t\t\t}, this);\r\n\r\n\t\tconsole.log('Ready history list:', readyList);\r\n\t\treturn readyList;\r\n\t};\r\n\r\n\t/** Get css for the button with a date filter */\r\n\texports.prototype.getSortByDateCss = function () {\r\n\t\treturn ko.unwrap(this.sortByDateOrder) === 1 ? 'glyphicon-arrow-down' : 'glyphicon-arrow-up';\r\n\t};\r\n\r\n\t/** Change a sort order */\r\n\texports.prototype.changeSortByDateOrder = function () {\r\n\t\tthis.sortByDateOrder(-parseInt(ko.unwrap(this.sortByDateOrder), 10));\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-well-history',['knockout',\r\n\t\t'viewmodels/scope-of-history-of-well',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tVwmScopeOfHistoryOfWell,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * History widget with date filter, asc or desc\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n    //, parentVwmStage\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\r\n    // parentVwmStage may be is not a Well Stage, -> set to null (first argument)\r\n    // VwmStage need only for id of selected fmg section (to add files of parts of an image)\r\n\t\tthis.vwmScopeOfHistoryOfWell = new VwmScopeOfHistoryOfWell(null,\r\n        mdlWidget.mdlStageContext,\r\n\t\t\t\tmdlWidget.opts.startDate,\r\n\t\t\t\tmdlWidget.opts.endDate,\r\n\t\t\t\tmdlWidget.opts.jobTypeId,\r\n\t\t\t\tmdlWidget.opts.sortByDateOrder);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/map-tool',['knockout'], function (ko) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Viewmodel: map tool, like 'marker', 'ruler', 'scale', 'route', etc.\r\n    * @constructor\r\n    */\r\n    var exports = function (data, koIdOfSlcVwmMapTool) {\r\n        data = data || {};\r\n\r\n        var ths = this;\r\n\r\n        /**\r\n        * Tool id: for system\r\n        * @type {string}\r\n        */\r\n        this.id = data.id;\r\n        \r\n        /**\r\n        * Tool name: name can be different of using, f.e. in Well-map marker-tool name = 'Well marker'\r\n        * @type {string}\r\n        */\r\n        this.name = data.name;\r\n\r\n        /**\r\n        * Tool icon\r\n        * @type {string}\r\n        */\r\n        this.icon = data.icon;\r\n\r\n        /**\r\n        * Whether tool allow to edit any info\r\n        * @type {boolean}\r\n        */\r\n        this.isPublicTool = data.isPublicTool;\r\n\r\n        /**\r\n        * Whether tool is selected\r\n        * @type {boolean}\r\n        */\r\n        this.isSlc = ko.computed({\r\n            read: function () {\r\n                return ths.id === ko.unwrap(koIdOfSlcVwmMapTool);\r\n            },\r\n            deferEvaluation: true\r\n        });\r\n    };\r\n\r\n    return exports;\r\n});\n","/**\r\n * @module\r\n * @todo: feat: add name of well #ML!\r\n * @todo: feat: make selected marker lighter #LL!\r\n * @todo: feat: main info by click #MM!\r\n *              - Cummulative Oil ( )\r\n *              - Drilling year\r\n *              - Production rate\r\n *              - Water cut %\r\n */\r\ndefine('viewmodels/well-marker-of-map-of-wield',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: well marker (in map of field)\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWellMarker, koSlcVwmWellMarker, vwmMapOfWield) {\r\n\t\t/**\r\n\t\t * Model: well marker\r\n\t\t * @type {module:models/well-marker-of-map-of-wield}\r\n\t\t */\r\n\t\tthis.mdlWellMarker = mdlWellMarker;\r\n\r\n    /** Getter for a map */\r\n    this.getVwmMapOfWield = function(){\r\n      return vwmMapOfWield;\r\n    };\r\n    \r\n\t\t/**\r\n\t\t * Whether well marker is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlc = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn this === ko.unwrap(koSlcVwmWellMarker);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n        owner: this\r\n\t\t\t});\r\n\t};\r\n  \r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/svg-map',['knockout',\r\n\t\t'viewmodels/svg-block',\r\n\t\t'helpers/app-helper',\r\n\t\t'd3'],\r\n\tfunction (\r\n\t\tko,\r\n\t\tSvgBlock,\r\n\t\tappHelper,\r\n\t\td3) {\r\n\t'use strict';\r\n  \r\n\t/** Calculate svg image size using real size and svg block size */\r\n\tfunction calcImgSizeVg(imgWidthPx, imgHeightPx, vboxWidth, vboxHeight, vboxRatio) {\r\n\t\tvar svgImgSize = {};\r\n\t\t// If height is bigger side, then calculate width\r\n\t\t// if height = 600svg (400px) then width = Xsvg (300px)\r\n\t\t// X = (300px * 600svg) / 400px\r\n\t\t// else if width = 1200svg (300px) then height = Ysvg (400px)\r\n\t\t// Y = (400px * 1200svg) / 300px\r\n\t\tif ((imgHeightPx / vboxRatio) > imgWidthPx) {\r\n\t\t\tsvgImgSize.height = vboxHeight;\r\n\t\t\tsvgImgSize.width = (imgWidthPx * vboxHeight) / imgHeightPx;\r\n\t\t} else {\r\n\t\t\tsvgImgSize.width = vboxWidth;\r\n\t\t\tsvgImgSize.height = (imgHeightPx * vboxWidth) / imgWidthPx;\r\n\t\t}\r\n\r\n\t\treturn svgImgSize;\r\n\t}\r\n\r\n\t/**\r\n\t * Svg map\r\n\t *    used in the wield and well map sections\r\n\t * @constructor\r\n\t * @augments {module:viewmodels/svg-block}\r\n\t */\r\n\tvar exports = function (tmpImgUrl, tmpImgWidthPx, tmpImgHeightPx, koTransform) {\r\n\t\t// Add base props\r\n\t\tSvgBlock.call(this, 1 / 2, 1200, koTransform);\r\n\r\n\t\tthis.imgUrl = tmpImgUrl;\r\n\r\n\t\tthis.imgWidthPx = tmpImgWidthPx;\r\n\r\n\t\tthis.imgHeightPx = tmpImgHeightPx;\r\n\r\n\t\tvar tmpImgSizeVg = calcImgSizeVg(this.imgWidthPx, this.imgHeightPx,\r\n\t\t\t\tthis.vboxOutSize.width, this.vboxOutSize.height, this.ratio);\r\n\r\n\t\tthis.imgWidthVg = tmpImgSizeVg.width;\r\n\r\n\t\tthis.imgHeightVg = tmpImgSizeVg.height;\r\n\r\n\t\tthis.widthCoefVgToPx = this.imgWidthVg / this.imgWidthPx;\r\n\r\n\t\tthis.heightCoefVgToPx = this.imgHeightVg / this.imgHeightPx;\r\n\r\n\t\tthis.imgStartVgX = (this.vboxOutSize.width - this.imgWidthVg) / 2;\r\n\r\n\t\tthis.imgStartVgY = (this.vboxOutSize.height - this.imgHeightVg) / 2;\r\n\t};\r\n\r\n\t// Inherit a prototype from the SvgBlock class\r\n\tappHelper.inherits(exports, SvgBlock);\r\n\r\n\texports.prototype.getScaleX = function () {\r\n\t\treturn d3.scale.linear().range([this.imgStartVgX, this.imgStartVgX + this.imgWidthVg]);\r\n\t};\r\n\r\n\texports.prototype.getScaleY = function () {\r\n\t\treturn d3.scale.linear().range([this.imgStartVgY, this.imgStartVgY + this.imgHeightVg]);\r\n\t};\r\n  \r\n  /**\r\n\t * A zoom-in method for a map\r\n\t */\r\n\texports.prototype.zoomIn = function () {\r\n    exports.superClass_.zoomInOut.call(this, this.imgWidthVg, this.imgHeightVg, 1);\r\n\t};\r\n\r\n  /**\r\n\t * A zoom-out method\r\n\t */\r\n\texports.prototype.zoomOut = function () {\r\n    exports.superClass_.zoomInOut.call(this, this.imgWidthVg, this.imgHeightVg, -1);\r\n\t};\r\n  \r\n  /**\r\n\t * Get center of a vbox\r\n\t * @returns {Array} - Center cooords, like [x, y]\r\n\t */\r\n\texports.prototype.getVboxCenter = function () {\r\n\t\treturn [this.vboxOutSize.width / 2, this.vboxOutSize.height / 2];\r\n\t};\r\n  \r\n\treturn exports;\r\n});\r\n\n","/**\r\n * @module\r\n * @todo feat: add unit of measurement for a distance #34!\r\n *             <ul>\r\n *             <li>foot and meter\r\n *             <li>toggle between these units\r\n *             </ul>\r\n * @todo feat: add well marker color #34!\r\n *             <ul>\r\n *             <li>include marker color to company settings\r\n *             <li>like Oil/Gas/Water (Yellow/Gray/Blue)\r\n *             <li>and Active/InActive (well state) (green/red)\r\n *             <li>For example: Active Water Well - Blue marker with green stroke\r\n *             </ul>\r\n * @todo fix: #42! After updating a webpage, map does not shows (with KnockoutJs v3.1.0)\r\n */\r\ndefine('viewmodels/map-of-wield',['knockout',\r\n\t\t'viewmodels/map-tool',\r\n\t\t'viewmodels/well-marker-of-map-of-wield',\r\n\t\t'viewmodels/svg-map'],\r\n\tfunction (ko,\r\n\t\tVwmMapTool,\r\n\t\tVwmWellMarker,\r\n\t\tSvgMap) {\r\n\t'use strict';\r\n\r\n\tvar usualMapTools = [{\r\n\t\t\tid : 'hand',\r\n\t\t\tname : '',\r\n\t\t\ticon : 'glyphicon glyphicon-hand-up',\r\n\t\t\tisPublicTool : true\r\n\t\t},\r\n\t\t////{\r\n\t\t////    id: 'ruler',\r\n\t\t////    name: 'Ruler',\r\n\t\t////    icon: 'glyphicon glyphicon-resize-full',\r\n\t\t////    isPublicTool: true\r\n\t\t////},\r\n\t\t{\r\n\t\t\tid : 'marker',\r\n\t\t\tname : 'Well marker',\r\n\t\t\ticon : 'glyphicon glyphicon-map-marker',\r\n\t\t\tisPublicTool : false\r\n\t\t}\r\n\t\t////{\r\n\t\t////    id: 'area',\r\n\t\t////    name: 'Area',\r\n\t\t////    icon: 'glyphicon glyphicon-retweet',\r\n\t\t////    isPublicTool: false\r\n\t\t////},\r\n\t\t////{\r\n\t\t////    id: 'scale',\r\n\t\t////    name: 'Scale',\r\n\t\t////    icon: 'glyphicon glyphicon-screenshot',\r\n\t\t////    isPublicTool: false\r\n\t\t////}\r\n\t];\r\n\r\n\t/**\r\n\t * View for well field map: contains selected objects, zoom, translate options\r\n\t * @constructor\r\n\t * @param {module:models/map-of-wield} mdlMapOfWield - Model of this map\r\n\t * @param {string} koVidOfSlcVwmMapOfWield - Id of selected viewmodel\r\n\t * @param {object} koTransform - An observable transform attribute for a map\r\n\t *        ko.observable({\r\n\t *        scale : optScale || 1,\r\n\t *        translate : optTranslate || [0, 0]\r\n\t *        });\r\n\t */\r\n\tvar exports = function (mdlMapOfWield, koVidOfSlcVwmMapOfWield, koTransform) {\r\n\t\t/**\r\n\t\t * Model of map\r\n\t\t */\r\n\t\tthis.mdlMapOfWield = mdlMapOfWield;\r\n\r\n\t\t/**\r\n\t\t * View id === model id. CAUTION: few views from one model\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.vid = mdlMapOfWield.id;\r\n\r\n\t\t/**\r\n\t\t * Name link to model: need for options list\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = mdlMapOfWield.name;\r\n\r\n\t\t/**\r\n\t\t * Whether view is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlcVwmMapOfWield = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn this.vid === ko.unwrap(koVidOfSlcVwmMapOfWield);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Filtered and sorted areas */\r\n\t\tthis.handledAreas = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(this.mdlMapOfWield.areas);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Id of selected tool\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfSlcVwmMapTool = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Selected tool: wellMarker, area, ruler, set scale, etc.\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.slcMapTool = ko.computed({\r\n\t\t\t\tread : this.getSlcMapTool,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Map tools\r\n\t\t * @type {Array.<module:models/map-tool>}\r\n\t\t */\r\n\t\tthis.mapTools = ko.computed({\r\n\t\t\t\tread : this.buildMapTools,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels of well markers\r\n\t\t * @type {Array.<module:viewmodels/well-marker-of-map-of-wield>}\r\n\t\t */\r\n\t\tthis.listVwmWellMarker = ko.computed({\r\n\t\t\t\tread : this.getListVwmWellMarker,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Selected well marker\r\n\t\t * @type {module:models/well-marker-of-map-of-wield}\r\n\t\t */\r\n\t\tthis.slcVwmWellMarker = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * A map engine object\r\n\t\t * @type {module:viewmodels/svg-map}\r\n\t\t */\r\n\t\tthis.svgMap = new SvgMap(this.mdlMapOfWield.fileSpec.fileUrl,\r\n\t\t\t\tthis.mdlMapOfWield.fileSpec.imgWidth,\r\n\t\t\t\tthis.mdlMapOfWield.fileSpec.imgHeight,\r\n        koTransform);\r\n\r\n\t\t/**\r\n\t\t * Well marker to add\r\n\t\t *    Set point on the map, show adding panel right of the map\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tthis.vwmWellMarkerToAdd = {\r\n      coords: ko.observable(),\r\n      isDrilled: ko.observable(true),\r\n      idOfWell: ko.observable(),\r\n      markerStyle: 'well-marker_pre-created'\r\n    };\r\n    \r\n    // // new VwmWellMarker({\r\n      // // IdOfMapOfWield: this.id\r\n    // // }, null, this);\r\n\r\n\t\t/** Binding options for maps */\r\n\t\tthis.mapBindingOptions = {\r\n\t\t\timgUrl : this.svgMap.imgUrl,\r\n\t\t\timgWidthPx : this.svgMap.imgWidthPx,\r\n\t\t\timgHeightPx : this.svgMap.imgHeightPx,\r\n\t\t\timgWidthVg : this.svgMap.imgWidthVg,\r\n\t\t\timgHeightVg : this.svgMap.imgHeightVg,\r\n\t\t\twidthCoefVgToPx : this.svgMap.widthCoefVgToPx,\r\n\t\t\theightCoefVgToPx : this.svgMap.heightCoefVgToPx,\r\n\t\t\tlistOfVwmWellMarker : this.listVwmWellMarker,\r\n\t\t\twellMarkerRadius : 8,\r\n\t\t\tidOfSlcMapTool : this.idOfSlcVwmMapTool,\r\n\t\t\tvwmWellMarkerToAdd : this.vwmWellMarkerToAdd\r\n\t\t};\r\n\r\n\t};\r\n\r\n\t/**\r\n\t * Get selected map tool\r\n\t */\r\n\texports.prototype.getSlcMapTool = function () {\r\n\t\tvar ths = this;\r\n\t\tvar tmpMapTools = ko.unwrap(ths.mapTools);\r\n\t\tif (tmpMapTools.length > 0) {\r\n\t\t\tvar tmpId = ko.unwrap(ths.idOfSlcVwmMapTool);\r\n\r\n\t\t\tif (tmpId) {\r\n\t\t\t\treturn tmpMapTools.filter(function (elem) {\r\n\t\t\t\t\treturn elem.id === tmpId;\r\n\t\t\t\t})[0];\r\n\t\t\t} else {\r\n\t\t\t\t// If no id - return first tool: by default: hand\r\n\t\t\t\t// and set to id\r\n\t\t\t\tths.idOfSlcVwmMapTool(tmpMapTools[0].id);\r\n\t\t\t\treturn tmpMapTools[0];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select map tool */\r\n\texports.prototype.selectMapTool = function (mapToolToSelect) {\r\n\t\t// Select id -> system automatically sets tool as selected\r\n\t\tthis.idOfSlcVwmMapTool(mapToolToSelect.id);\r\n\t};\r\n\r\n\t/** Add well marker: different methods for different views */\r\n\texports.prototype.addWellMarkerToMap = function () {\r\n\t\tthis.mdlMapOfWield.postWellMarker(ko.unwrap(this.vwmWellMarkerToAdd.idOfWell),\r\n\t\t\tko.unwrap(this.vwmWellMarkerToAdd.coords),\r\n      ko.unwrap(this.vwmWellMarkerToAdd.isDrilled));\r\n\r\n\t\t// Clear selection: if post is unsuccessful - then only show error\r\n\t\tthis.cancelAddingWellMarker();\r\n\t};\r\n\r\n\t/**\r\n\t * Cancel adding: clear object to adding\r\n\t */\r\n\texports.prototype.cancelAddingWellMarker = function () {\r\n\t\tthis.vwmWellMarkerToAdd.coords(null);\r\n\t\tthis.vwmWellMarkerToAdd.idOfWell(null);\r\n\t};\r\n\r\n\t/** Remove analog for model */\r\n\texports.prototype.removeVwmWellMarker = function (vwmWellMarkerToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete?')) {\r\n\t\t\tthis.mdlMapOfWield.removeWellMarker(vwmWellMarkerToRemove.mdlWellMarker);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select well marker */\r\n\texports.prototype.selectVwmWellMarker = function (vwmWellMarkerToSelect) {\r\n\t\tvar ths = this;\r\n\t\tths.slcVwmWellMarker(vwmWellMarkerToSelect);\r\n\r\n\t\t// Set to the center and scale to 10 * 8 (marker radius) = 80units\r\n\t\t// Center of svg block: method from SvgBlock prototype\r\n\t\tvar svgCenterCoords = ths.svgMap.getVboxCenter();\r\n\t\tconsole.log('Center coords of this map: ', svgCenterCoords);\r\n\t\t// Svg marker coords = Real marker coords (in pixels) -> Real marker coords (in svg units) + Image margin (in svg units)\r\n\t\tvar wellMarkerCoordsInPx = ko.unwrap(vwmWellMarkerToSelect.mdlWellMarker.coords);\r\n\r\n\t\tvar wellMarkerCoordsInVg = [wellMarkerCoordsInPx[0] * ths.svgMap.widthCoefVgToPx + ths.svgMap.imgStartVgX, wellMarkerCoordsInPx[1] * ths.svgMap.heightCoefVgToPx + ths.svgMap.imgStartVgY];\r\n\r\n\t\tvar transformCoords = [svgCenterCoords[0] - wellMarkerCoordsInVg[0], svgCenterCoords[1] - wellMarkerCoordsInVg[1]];\r\n\r\n\t\tths.svgMap.zoomTransform({\r\n\t\t\tscale : 1,\r\n\t\t\ttranslate : transformCoords\r\n\t\t});\r\n\t};\r\n\r\n\t/** Create viewmodels for map tools */\r\n\texports.prototype.buildMapTools = function () {\r\n\t\treturn usualMapTools.map(function (elem) {\r\n\t\t\treturn new VwmMapTool(elem, this.idOfSlcVwmMapTool);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/** Get markers' viewmodels */\r\n\texports.prototype.getListVwmWellMarker = function () {\r\n\t\treturn ko.unwrap(this.mdlMapOfWield.wellMarkers).map(function (elem) {\r\n\t\t\treturn new VwmWellMarker(elem, this.slcVwmWellMarker, this);\r\n\t\t}, this);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-wield-map',['knockout',\r\n\t\t'viewmodels/map-of-wield',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tVwmMapOfWield,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base: widget view model for map of well field\r\n\t * @constuctor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\r\n\t\t/**\r\n\t\t * Selected view map\r\n\t\t * @type {module:viewmodels/map-of-wield}\r\n\t\t */\r\n\t\tthis.slcVwmMapOfWield = ko.computed({\r\n\t\t\t\tread : this.getSlcVwmMapOfWield,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\t/**\r\n\t * Get selected viewmodel of map of well field\r\n\t */\r\n\texports.prototype.getSlcVwmMapOfWield = function () {\r\n\t\tconsole.log('getSlcVwmMapOfWield has executed');\r\n\t\tvar tmpVid = ko.unwrap(this.mdlWidget.opts.idOfSlcMapOfWield);\r\n\t\tif (tmpVid) {\r\n\t\t\tvar allMaps = ko.unwrap(this.mdlWidget.mdlStageContext.WellFieldMaps);\r\n\r\n\t\t\tvar needMapModel = allMaps.filter(function (elem) {\r\n\t\t\t\t\treturn elem.id === tmpVid;\r\n\t\t\t\t})[0];\r\n\r\n\t\t\tif (needMapModel) {\r\n\t\t\t\t// TODO: #32! Set a transform option to the default value,\r\n\t\t\t\t//            when a selected map is not equals the map from options\r\n\t\t\t\t// // if (needMapModel.id !== this.mdlWidget.widgetOpts['IdOfSlcMapOfWield']) {\r\n\t\t\t\t// // this.mdlWidget.opts.transform({\r\n\t\t\t\t// // scale : 1,\r\n\t\t\t\t// // translate : [0, 0]\r\n\t\t\t\t// // });\r\n\t\t\t\t// // }\r\n\r\n\t\t\t\tvar needVwm = new VwmMapOfWield(needMapModel,\r\n\t\t\t\t\t\tthis.mdlWidget.opts.idOfSlcMapOfWield,\r\n\t\t\t\t\t\tthis.mdlWidget.opts.transform);\r\n\r\n\t\t\t\treturn needVwm;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-well-map',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base',\r\n\t\t'viewmodels/map-of-wield',\r\n\t\t'viewmodels/well-marker-of-map-of-wield'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tVwmWidget,\r\n\t\tVwmMapOfWield,\r\n\t\tVwmWellMarkerOfMapOfWield) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base: widget view model for map of well\r\n\t * @constuctor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\r\n\t\t/**\r\n\t\t * A selected viewmodel of the map marker\r\n\t\t * @type {module:viewmodels/well-marker-of-map-of-wield}\r\n\t\t */\r\n\t\tthis.slcVwmMapMarker = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmMapMarker,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\t/** Calculate a selected marker */\r\n\texports.prototype.calcSlcVwmMapMarker = function () {\r\n\t\tvar tmpIdOfMap = ko.unwrap(this.mdlWidget.opts.idOfSlcMapOfWield);\r\n\t\tif (tmpIdOfMap) {\r\n\r\n\t\t\t// List of map markers from a parent well\r\n\t\t\tvar tmpList = ko.unwrap(this.mdlWidget.mdlStageContext.listOfMapMarker);\r\n\r\n\t\t\t// Find a model for a marker by id of the map\r\n\t\t\tvar markerModel = tmpList.filter(function (markerItem) {\r\n\t\t\t\t\treturn markerItem.idOfMapOfWield === tmpIdOfMap;\r\n\t\t\t\t})[0];\r\n\r\n\t\t\tif (markerModel) {\r\n      \r\n        var tmpKoTransform = this.mdlWidget.opts.transform;\r\n\t\t\t\t// Create a view for a map\r\n\t\t\t\t// Create a view for a marker, using a map view\r\n\t\t\t\tvar tmpVwmMap = new VwmMapOfWield(markerModel.getWellFieldMap(), null, tmpKoTransform);\r\n\t\t\t\treturn new VwmWellMarkerOfMapOfWield(markerModel, null, tmpVwmMap);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widget-wield-stat',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tVwmWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base: widget view model for statistics\r\n\t * @constuctor\r\n\t * @augments {module:base-viewmodels/widget-base}\r\n\t */\r\n\tvar exports = function (mdlWidget) {\r\n\t\tVwmWidget.call(this, mdlWidget);\r\n\t};\r\n\r\n\t/** Inherit from a widget viewmodel */\r\n\tappHelper.inherits(exports, VwmWidget);\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widgock',['knockout',\r\n\t\t'constants/stage-constants',\r\n\t\t'viewmodels/widget-default-summary',\r\n\t\t'viewmodels/widget-well-perfomance',\r\n\t\t'viewmodels/widget-well-monitoring',\r\n\t\t'viewmodels/widget-well-sketch',\r\n\t\t'viewmodels/widget-well-history',\r\n\t\t'viewmodels/widget-wield-map',\r\n\t\t'viewmodels/widget-well-map',\r\n\t\t'viewmodels/widget-wield-stat'],\r\n\tfunction (ko,\r\n\t\tstageCnst,\r\n\t\tVwmWidgetDefaultSummary,\r\n\t\tVwmWidgetWellPerfomance,\r\n\t\tVwmWidgetWellMonitoring,\r\n\t\tVwmWidgetWellSketch,\r\n\t\tVwmWidgetWellHistory,\r\n\t\tVwmWidgetWieldMap,\r\n\t\tVwmWidgetWellMap,\r\n\t\tVwmWidgetWieldStat) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: widget block\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWidgock, vwmWidgout) {\r\n\t\t/**\r\n\t\t * Model: widget block for this view\r\n\t\t * @type {module:models/widgock}\r\n\t\t */\r\n\t\tthis.mdlWidgock = mdlWidgock;\r\n\r\n\t\t/**\r\n\t\t * Getter for the parent layout\r\n\t\t */\r\n\t\tthis.getVwmWidgout = function () {\r\n\t\t\treturn vwmWidgout;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels of widgets\r\n\t\t */\r\n\t\tthis.listOfVwmWidget = ko.computed({\r\n\t\t\t\tread : this.getListOfVwmWidget,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * All stage keys\r\n\t\t */\r\n\t\tthis.dictOfKeyOfStage = [{\r\n\t\t\t\toptValue : stageCnst.company.id,\r\n\t\t\t\toptText : stageCnst.company.single\r\n\t\t\t}, {\r\n\t\t\t\toptValue : stageCnst.wegion.id,\r\n\t\t\t\toptText : stageCnst.wegion.single\r\n\t\t\t}, {\r\n\t\t\t\toptValue : stageCnst.wield.id,\r\n\t\t\t\toptText : stageCnst.wield.single\r\n\t\t\t}, {\r\n\t\t\t\toptValue : stageCnst.wroup.id,\r\n\t\t\t\toptText : stageCnst.wroup.single\r\n\t\t\t}, {\r\n\t\t\t\toptValue : stageCnst.well.id,\r\n\t\t\t\toptText : stageCnst.well.single\r\n\t\t\t}\r\n\t\t];\r\n\r\n\t\t/**\r\n\t\t * A selected key of stage for a new widget\r\n\t\t *    By default: current stage key\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.slcKeyOfStage = ko.observable(this.mdlWidgock.getWidgout().getParent().stageKey);\r\n\r\n\t\t/**\r\n\t\t * Section patterns for the selected key of a stage\r\n\t\t * @type {Array.<module:models/section-pattern>}\r\n\t\t */\r\n\t\tthis.listOfPatternOfSection = ko.computed({\r\n\t\t\t\tread : this.calcListOfPatternOfSection,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Selected section pattern for widget (of this stage)\r\n\t\t * @type {module:models/section-pattern}\r\n\t\t */\r\n\t\tthis.slcStagePatternForWidget = ko.observable(null);\r\n\r\n\t\t/**\r\n\t\t * Whether user can add a new widget\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.canAddVwmWidget = ko.computed({\r\n\t\t\t\tread : this.calcCanAddVwmWidget,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * A dict of stages\r\n\t\t * @type {Array.<Object>}\r\n\t\t */\r\n\t\tthis.dictOfStage = ko.computed({\r\n\t\t\t\tread : this.calcDictOfStage,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Selected context (a stage)\r\n\t\t *    When user add a widget from other stage\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.slcCntxStage = ko.observable(null);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate a dict of stages\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.calcDictOfStage = function () {\r\n\t\tvar tmpKeyOfStage = ko.unwrap(this.slcKeyOfStage);\r\n\t\tvar resultDict = [];\r\n\r\n\t\tif (tmpKeyOfStage) {\r\n\t\t\t// find stage by key\r\n\t\t\tvar needArr = this.mdlWidgock.getWidgout().getParent().getListOfStageByKey(tmpKeyOfStage);\r\n\r\n\t\t\tresultDict = needArr.map(function (elem) {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\toptValue : elem, // full element\r\n\t\t\t\t\t\toptText : ko.unwrap(elem.name) || ko.unwrap(elem.Name)\r\n\t\t\t\t\t};\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn resultDict;\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a list of section patterns for selected stage key\r\n\t * @type {module:models/section-pattern}\r\n\t */\r\n\texports.prototype.calcListOfPatternOfSection = function () {\r\n\t\tvar tmpAllPatterns = ko.unwrap(this.mdlWidgock.getWidgout().getParent().getRootMdl().ListOfSectionPatternDto);\r\n\r\n\t\tvar tmpSlcKeyOfStage = ko.unwrap(this.slcKeyOfStage);\r\n\r\n\t\treturn tmpAllPatterns.filter(this.isPat.bind(this, tmpSlcKeyOfStage));\r\n\t};\r\n\r\n\t/**\r\n\t * Whether the key of pattern equals key of a stage\r\n\t *    only for widget\r\n\t * @returns {boolean}\r\n\t */\r\n\texports.prototype.isPat = function (tmpKeyOfStage, tmpPattern) {\r\n\t\treturn ((tmpPattern.idOfStage === tmpKeyOfStage) && (tmpPattern.isWidget === true));\r\n\t};\r\n\r\n\t/**\r\n\t * Whether the user can add a new widget\r\n\t * @returns {boolean}\r\n\t */\r\n\texports.prototype.calcCanAddVwmWidget = function () {\r\n\t\tif (ko.unwrap(this.slcStagePatternForWidget)) {\r\n\t\t\tif (ko.unwrap(this.slcCntxStage)) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Add a viewmodel for a widget\r\n\t */\r\n\texports.prototype.addVwmWidget = function () {\r\n\t\tvar tmpStagePattern = ko.unwrap(this.slcStagePatternForWidget);\r\n\t\tif (tmpStagePattern) {\r\n\t\t\t// Clean old value, to possible future adding\r\n\t\t\t// Clean only the section selection\r\n\t\t\tthis.slcStagePatternForWidget(null);\r\n\r\n\t\t\tvar tmpSlcCntxStage = ko.unwrap(this.slcCntxStage);\r\n\r\n\t\t\tvar tmpIdOfSlcCntxStage = tmpSlcCntxStage.id;\r\n\r\n\t\t\tif (tmpIdOfSlcCntxStage) {\r\n\t\t\t\t// This is a hack for company GUIDs and other stage INTEGERS ids\r\n\t\t\t\tvar typeOfCntxStage = tmpStagePattern.id.split('-')[0]; // 'wegion'; //'company';\r\n\r\n\t\t\t\tif (typeOfCntxStage !== 'company') {\r\n\t\t\t\t\ttmpIdOfSlcCntxStage = parseInt(tmpIdOfSlcCntxStage); //6002;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Name of added widget, like Summary WellName\r\n\t\t\t\tvar tmpNameOfFutureWidget = (ko.unwrap(tmpSlcCntxStage.name) || ko.unwrap(tmpSlcCntxStage.Name)) +\r\n\t\t\t\t' ' + ko.unwrap(tmpStagePattern.name);\r\n\r\n\t\t\t\tthis.mdlWidgock.addWidget(tmpNameOfFutureWidget,\r\n\t\t\t\t\ttmpStagePattern.id,\r\n\t\t\t\t\ttmpIdOfSlcCntxStage,\r\n\t\t\t\t\tthis.afterAddingVwmWidget.bind(this));\r\n\t\t\t}\r\n\r\n\t\t\t// Destroy used objects\r\n\t\t\ttmpSlcCntxStage = null;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Find and open a setting panel\r\n\t */\r\n\texports.prototype.afterAddingVwmWidget = function (createdWidgetData) {\r\n\t\tvar widgetNew = this.mdlWidgock.buildWidget(createdWidgetData);\r\n\t\tthis.mdlWidgock.widgetList.push(widgetNew);\r\n\r\n\t\t// Open settings after creation\r\n\t\tvar idOfCreatedWidget = widgetNew.id;\r\n\r\n\t\t// Find created widget\r\n\t\tvar createdVwmWidget = ko.unwrap(this.listOfVwmWidget).filter(function (elem) {\r\n\t\t\t\treturn elem.mdlWidget.id === idOfCreatedWidget;\r\n\t\t\t})[0];\r\n\r\n\t\t// Open settings\r\n\t\tif (createdVwmWidget) {\r\n\t\t\tcreatedVwmWidget.showVisSettingPanel();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Remove the widget model and viewmodel\r\n\t */\r\n\texports.prototype.removeVwmWidget = function (vwmWidgetToRemove) {\r\n\t\tvar tmpMdl = vwmWidgetToRemove.mdlWidget;\r\n\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(tmpMdl.name) + '\"?')) {\r\n\t\t\tthis.mdlWidgock.removeWidget(tmpMdl);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get all viewmodels for widgets\r\n\t */\r\n\texports.prototype.getListOfVwmWidget = function () {\r\n\t\treturn ko.unwrap(this.mdlWidgock.widgetList).map(this.buildVwmWidget, this);\r\n\t};\r\n\r\n\t/** Create a viewmodel for a widget from a widget model */\r\n\texports.prototype.buildVwmWidget = function (mdlWidget) {\r\n\t\tvar tmpParentVwmStage = this.getVwmWidgout().getParentVwmStage();\r\n\r\n\t\tswitch (mdlWidget.idOfSectionPattern) {\r\n\t\tcase stageCnst.well.ptrn.summary:\r\n\t\tcase stageCnst.wroup.ptrn.summary:\r\n\t\tcase stageCnst.wield.ptrn.summary:\r\n\t\tcase stageCnst.wegion.ptrn.summary:\r\n\t\tcase stageCnst.company.ptrn.summary:\r\n\t\t\treturn new VwmWidgetDefaultSummary(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.well.ptrn.perfomance:\r\n\t\t\treturn new VwmWidgetWellPerfomance(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.well.ptrn.monitoring:\r\n\t\t\treturn new VwmWidgetWellMonitoring(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.well.ptrn.history:\r\n\t\t\treturn new VwmWidgetWellHistory(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.wield.ptrn.map:\r\n\t\t\treturn new VwmWidgetWieldMap(mdlWidget, tmpParentVwmStage);\r\n    case stageCnst.wield.ptrn.stat:\r\n\t\t\treturn new VwmWidgetWieldStat(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.well.ptrn.map:\r\n\t\t\treturn new VwmWidgetWellMap(mdlWidget, tmpParentVwmStage);\r\n\t\tcase stageCnst.well.ptrn.sketch:\r\n\t\t\treturn new VwmWidgetWellSketch(mdlWidget, tmpParentVwmStage);\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/widgout',['jquery',\r\n\t\t'knockout',\r\n\t\t'moment',\r\n\t\t'viewmodels/widgock',\r\n\t\t'helpers/lang-helper',\r\n\t\t'helpers/modal-helper'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tappMoment,\r\n\t\tVwmWidgock,\r\n\t\tlangHelper,\r\n\t\tmodalHelper) {\r\n\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: widget layout (show widget layout model)\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlWidgout, parentVwmStage) {\r\n\t\t/**\r\n\t\t * Model widget layout\r\n\t\t * @type {module:models/widgout}\r\n\t\t */\r\n\t\tthis.mdlWidgout = mdlWidgout;\r\n\r\n\t\tthis.getParentVwmStage = function () {\r\n\t\t\treturn parentVwmStage;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Widget layout name for view\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = mdlWidgout.name;\r\n\r\n\t\t/**\r\n\t\t * List of views of widget blocks\r\n\t\t * @type {Array.<module:viewmodels/widgock>}\r\n\t\t */\r\n\t\tthis.listOfVwmWidgock = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmWidgock,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether report is in loading progress\r\n\t\t * @type {bool}\r\n\t\t */\r\n\t\tthis.isReportInProgress = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Guid of a created report\r\n\t\t *    After generating report - set it - to download or view\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfReportFileSpec = ko.observable(null);\r\n\r\n\t\t/**\r\n\t\t * The created report file\r\n\t\t *    to download or view\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.reportFileSpec = ko.computed({\r\n\t\t\t\tread : this.calcReportFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Build viewmodels\r\n\t */\r\n\texports.prototype.buildListOfVwmWidgock = function () {\r\n\t\treturn ko.unwrap(this.mdlWidgout.widgocks).map(function (elem) {\r\n\t\t\treturn new VwmWidgock(elem, this);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Modal window for input data for a new report\r\n\t */\r\n\texports.prototype.preGenerateReport = function () {\r\n\t\tvar curDate = appMoment().format('YYYY-MM-DD');\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\tvar jqrInput = $(inputName);\r\n\t\tjqrInput.prop({\r\n\t\t\t'required' : true\r\n\t\t}).addClass('form-control').val(ko.unwrap(this.name) + ' ' + curDate);\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\tmodalHelper.gnrtDom('Name', inputName));\r\n\r\n\t\tmodalHelper.openModalWindow('Report',\r\n\t\t\tinnerDiv,\r\n\t\t\tthis.generateReport.bind(this, jqrInput));\r\n\t};\r\n\r\n\t/**\r\n\t * Generate a report, using this layout\r\n\t */\r\n\texports.prototype.generateReport = function (jqrInput) {\r\n\t\tvar nameOfReport = jqrInput.val();\r\n\t\tmodalHelper.closeModalWindow();\r\n\t\t//console.log('nameOfReport', nameOfReport);\r\n\t\t// Open some window to enter a name of the report and some settings\r\n\t\t// By default - name of the layout - name of the report + current date\r\n\r\n\t\t// Send a request to the wfm-node to create a report\r\n\t\tthis.isReportInProgress(true);\r\n\t\tthis.mdlWidgout.postReport(nameOfReport, this.scsGenerateReport.bind(this),\r\n\t\t\tthis.errGenerateReport.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * A success callback for report generation\r\n\t */\r\n\texports.prototype.scsGenerateReport = function (res) {\r\n\t\tthis.idOfReportFileSpec(res.IdOfFileSpec);\r\n\r\n\t\tvar tmpReportSection = ko.unwrap(this.getParentVwmStage().mdlStage.reportSection);\r\n\r\n\t\tif (tmpReportSection) {\r\n\t\t\ttmpReportSection.isLoadedListOfFileSpec(false);\r\n\t\t\ttmpReportSection.loadListOfFileSpec(false);\r\n\t\t}\r\n    \r\n\t\t// console.log('created file', res.IdOfFileSpec);\r\n\t\t// Stop a loading\r\n\t\tthis.isReportInProgress(false);\r\n\r\n\t\t// Update a report section\r\n\t\t// Get report-stage\r\n\t\t// Set to false - isLoadedListOfFileSpec\r\n\t\t// loadListOfFileSpec\r\n\t\t// // var innerDiv = document.createElement('div');\r\n\r\n\t\t// // $(innerDiv).append('<div class=\"text-center\">The report has been saved in the Report folder</div>');\r\n\t\t// // $(innerDiv).append('<div class=\"text-center\"><span class=\"link-view\">Download the report</span></div>');\r\n\r\n\t\t// // modalHelper.openModalWindow('The report has been generated',\r\n\t\t// // innerDiv,\r\n\t\t// // modalHelper.closeModalWindow);\r\n\t};\r\n\r\n\t/**\r\n\t * Callback for error\r\n\t */\r\n\texports.prototype.errGenerateReport = function (jqXhr) {\r\n\t\tthis.isReportInProgress(false);\r\n\t\tconsole.log(jqXhr);\r\n\t\tif (jqXhr.status === 422) {\r\n\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || resJson.errId);\r\n\t\t\talert(tmpProcessError);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Calulate a report file specification\r\n\t */\r\n\texports.prototype.calcReportFileSpec = function () {\r\n    console.log('calcReportFileSpec');\r\n\t\tvar tmpId = ko.unwrap(this.idOfReportFileSpec);\r\n\t\tif (!tmpId) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tmpReportSection = ko.unwrap(this.getParentVwmStage().mdlStage.reportSection);\r\n\r\n\t\tif (tmpReportSection) {\r\n\t\t\treturn ko.unwrap(tmpReportSection.listOfFileSpec).filter(function (tmpFileSpec) {\r\n\t\t\t\treturn tmpFileSpec.id === tmpId;\r\n\t\t\t})[0];\r\n\t\t}\r\n\r\n\t\t// Get report section of a parent stage\r\n\t\t// Find a filespec with this id from this section\r\n\t};\r\n\r\n  /**\r\n  * Download a created report with cleanning from view\r\n  */\r\n  exports.prototype.downloadWithClean = function(){\r\n    var tmpReportFileSpec = ko.unwrap(this.reportFileSpec);\r\n    \r\n    if (tmpReportFileSpec){\r\n      tmpReportFileSpec.download();\r\n    }\r\n    \r\n    this.idOfReportFileSpec(null);\r\n  };\r\n  \r\n\treturn exports;\r\n});\r\n\n","define('constants/stage-view-constants',['require','exports','module'],function (require, exports, module) {\n/** @module constants/stage-view-constants */\r\n'use strict';\r\n\r\n/**\r\n * Enum for stage views\r\n * @readonly\r\n * @enum {Object.<string, string>}\r\n */\r\nexports = {\r\n\t/** Dashboard view */\r\n\tdashboard : {\r\n\t\tid : 'dashboard',\r\n\t\tname : 'Dashboard'\r\n\t},\r\n\t/** File manager view */\r\n\tfmgr : {\r\n\t\tid : 'fmgr',\r\n\t\tname : 'File manager'\r\n\t}\r\n\t// /** Any section view */\r\n\t// section : {\r\n\t// id : 'section',\r\n\t// name : 'Section'\r\n\t// }\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('viewmodels/fmgr-modal',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A model for a file manager modal window\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function () {\r\n\t\t/**\r\n\t\t * Whether the window is opened\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isShowed = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Description for an Ok button\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.okDescription = ko.observable('');\r\n\r\n\t\t/**\r\n\t\t * An error message for the Ok button\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.okError = ko.observable('');\r\n\r\n\t\t/**\r\n\t\t * Callback for the Ok button\r\n\t\t * @type {Function}\r\n\t\t */\r\n\t\tthis.okCallback = ko.observable();\r\n\t};\r\n\r\n\t/** Show a window */\r\n\texports.prototype.show = function () {\r\n\t\tthis.isShowed(true);\r\n\t};\r\n\r\n\t/** Hide a window */\r\n\texports.prototype.hide = function () {\r\n\t\tthis.isShowed(false);\r\n\t\tthis.okDescription('');\r\n\t\tthis.okError('');\r\n\t\tthis.okCallback(null);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('base-viewmodels/stage-base',['knockout',\r\n\t\t'helpers/history-helper',\r\n\t\t'viewmodels/section-of-stage',\r\n\t\t'viewmodels/widgout',\r\n\t\t'constants/stage-view-constants',\r\n\t\t'viewmodels/fmgr-modal'],\r\n\tfunction (ko,\r\n\t\thistoryHelper,\r\n\t\tVwmStageSection,\r\n\t\tVwmWidgout,\r\n\t\tstageViewConstants,\r\n\t\tFmgrModal) {\r\n\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base for stages\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (partOfUnzOfSlcVwmSectionWrk, koUnqOfSlcVwmStage, defaultUnqOfSlcVwmChild) {\r\n\t\t/**\r\n\t\t * Unique value of selected stage in parent stage\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis.koUnqOfSlcVwmStage = koUnqOfSlcVwmStage;\r\n\r\n\t\t/////** By default: view unique id = model.id */\r\n\r\n\t\t/** Whether this stage is selected */\r\n\t\tthis.isSlcVwmStage = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcVwmStage,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether stage content is selected and showed on the page (child object are not selected)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isActiveVwmStage = ko.computed({\r\n\t\t\t\tread : this.calcIsActiveVwmStage,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Unique id of selected section in file manager */\r\n\t\tthis.unzOfSlcVwmSectionFmg = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * User profile may contain few employee (with companies)\r\n\t\t * @type {Array.<module:viewmodels/employee>}\r\n\t\t */\r\n\t\tthis.listOfVwmChild = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmChild,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of views of widget layouts\r\n\t\t * @type {Array.<module:viewmodels/widgout>}\r\n\t\t */\r\n\t\tthis.listOfVwmWidgout = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmWidgout,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** List of section views */\r\n\t\tthis.listOfVwmSection = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmSection,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Selected section in file manager */\r\n\t\tthis.slcVwmSectionFmg = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmSectionFmg,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Load files for this file section\r\n\t\t */\r\n\t\tthis.slcVwmSectionFmg.subscribe(this.handleVwmSectionFmg, this);\r\n\r\n\t\t/** Id of view of selected section: unz = section pattern */\r\n\t\tthis.unzOfSlcVwmSectionWrk = ko.observable();\r\n\r\n\t\t/** Selected section in workspace */\r\n\t\tthis.slcVwmSectionWrk = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmSectionWrk,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether is no selected section\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isNullSlcVwmSectionWrk = ko.computed({\r\n\t\t\t\tread : this.calcIsNullSlcVwmSectionWrk,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Current stage view\r\n\t\t *    an id string from constants/stage-view-constants\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.slcStageView = ko.observable();\r\n\r\n\t\t/** Whether a selected stage view is a dashboard */\r\n\t\tthis.isSlcStageViewDashboard = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(this.slcStageView) === stageViewConstants.dashboard.id;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Whether a selected stage view is a dashboard */\r\n\t\tthis.isSlcStageViewFmgr = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(this.slcStageView) === stageViewConstants.fmgr.id;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Pattern of a selected section\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.patternOfSlcVwmSectionWrk = ko.computed({\r\n\t\t\t\tread : this.calcPatternOfSlcVwmSectionWrk,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n    \r\n\t\t/** When change selected section */\r\n\t\tthis.slcVwmSectionWrk.subscribe(this.handleVwmSectionWrk, this);\r\n\r\n\t\t/** Selected widget layouts: may be defined by default from client storage (cookies..) */\r\n\t\tthis.slcVwmWidgout = ko.observable();\r\n\r\n\t\t//{ #region FMGR\r\n\r\n\t\t/**\r\n\t\t * File manager as modal window for this view: created from modalFileMgr\r\n\t\t * @type {module:viewmodels/fmgr-modal}\r\n\t\t */\r\n\t\tthis.fmgrModal = new FmgrModal();\r\n\r\n\t\t//} #endregion FMGR\r\n\r\n\t\t//{ #region FORSTAGESWITHCHILDREN\r\n\r\n\t\t/** Unique key of viewmodel of selected child, null - for the bottom stage (the Well) */\r\n\t\tthis.unqOfSlcVwmChild = ko.observable(defaultUnqOfSlcVwmChild);\r\n\r\n\t\t//// Remove default value to not reuse again\r\n\t\t//defaultUnqOfSlcVwmChild = null;\r\n\r\n\t\t/** Child viewmodel - current selected employee */\r\n\t\tthis.slcVwmChild = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmChild,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Open child after selection */\r\n\t\tthis.slcVwmChild.subscribe(this.handleSlcVwmChild, this);\r\n\r\n\t\t/**\r\n\t\t * Whether menu item is opened: showed inner object in menu without main content\r\n\t\t *    Only for sections that have children\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isOpenedItem = ko.observable(false);\r\n\r\n\t\t/** Css class for opened item (open or showed) */\r\n\t\tthis.menuItemCss = ko.computed({\r\n\t\t\t\tread : this.calcMenuItemCss,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion\r\n\r\n\t\t// ==================================== Data loading ================================================\r\n\r\n\t\t// When default section is defined (through url or smth else)\r\n\t\t// Load its\r\n\t\tif (partOfUnzOfSlcVwmSectionWrk) {\r\n\t\t\t// All sections loaded with stages\r\n\t\t\t// Section model contains all sections (loaded)\r\n\r\n\t\t\t// and load\r\n\t\t\t// Only once\r\n\t\t\tthis.unzOfSlcVwmSectionWrk(this.mdlStage.stageKey + '-' + partOfUnzOfSlcVwmSectionWrk);\r\n\t\t\t// Then delete, to not-repeat this value again\r\n\t\t\tpartOfUnzOfSlcVwmSectionWrk = null;\r\n\r\n\t\t\t// Find need section\r\n\t\t\t////var tmpNeedVwmSection = ko.unwrap(ths.listOfVwmSection).filter(function (elem) {\r\n\t\t\t////    return elem.unz === ();\r\n\t\t\t////})[0];\r\n\r\n\t\t\t////if (!tmpNeedVwmSection) { throw new Error('Not found such section:' + partOfUnzOfSlcVwmSectionWrk); }\r\n\t\t}\r\n\t\t////else {\r\n\t\t////    // Select dashboard\r\n\t\t////}\r\n\t};\r\n\r\n\t/** Handle a file manager section */\r\n\texports.prototype.handleVwmSectionFmg = function (tmpSlcVwmSection) {\r\n\t\tif (tmpSlcVwmSection) {\r\n\t\t\t// Load files from server (if not loaded)\r\n\t\t\t// If loaded - clean selected states\r\n\t\t\ttmpSlcVwmSection.mdlSection.loadListOfFileSpec();\r\n\t\t}\r\n\t};\r\n\r\n\t/** Handle a work section */\r\n\texports.prototype.handleVwmSectionWrk = function (vwmSectionItem) {\r\n\t\tconsole.log('subscribe section', vwmSectionItem);\r\n\t\tvar navigationArr = historyHelper.getNavigationArr(this.mdlStage);\r\n\r\n\t\tif (vwmSectionItem) {\r\n\t\t\tif (this.loadSectionContent) {\r\n\t\t\t\tthis.loadSectionContent(vwmSectionItem.mdlSection.sectionPatternId);\r\n\t\t\t}\r\n\r\n\t\t\t// Add data to the url\r\n\t\t\tnavigationArr.push('sections');\r\n\t\t\tnavigationArr.push(vwmSectionItem.mdlSection.sectionPatternId.split('-')[1]);\r\n\t\t} else if (vwmSectionItem === null) {\r\n\t\t\tthis.mdlStage.loadWidgouts();\r\n      // Load widget data - automatically after generating\r\n\t\t} else {\r\n\t\t\tthrow new Error('VwmSection can not be undefined (only in init step)');\r\n\t\t}\r\n\r\n\t\thistoryHelper.pushState('/' + navigationArr.join('/'));\r\n\t};\r\n\r\n\t/** Select file for any image */\r\n\texports.prototype.selectImgFileSpec = function (fileSpecProp) {\r\n\t\tvar ths = this;\r\n\t\t// Every stage has property fmgr, which is link to company fmgr\r\n\t\t// Get file manager object from company view\r\n\t\t// Show file manager\r\n\t\t// Select a file\r\n\t\t// Send to need function\r\n\r\n\t\tths.unzOfSlcVwmSectionFmg(ths.mdlStage.stageKey + '-summary');\r\n\r\n\t\tths.fmgrModal.okCallback(function () {\r\n\t\t\tths.fmgrModal.okError('');\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar slcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!slcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section when select image file for stage propery');\r\n\t\t\t}\r\n\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(slcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Get prop id\r\n\t\t\tths.mdlStage[fileSpecProp.addtData.nestedClientId](selectedFileSpecs[0].id);\r\n\t\t\tths.mdlStage.save();\r\n\t\t\tths.fmgrModal.hide();\r\n\t\t});\r\n\r\n\t\tths.fmgrModal.okDescription('Please select one image');\r\n\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t/** Remove widget layout from this stage */\r\n\texports.prototype.removeVwmWidgout = function (vwmWidgoutToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(vwmWidgoutToRemove.mdlWidgout.name) + '\"?')) {\r\n\t\t\t// Remove model -> autoremoving viewmodel\r\n\t\t\tthis.mdlStage.removeWidgout(vwmWidgoutToRemove.mdlWidgout);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select section */\r\n\texports.prototype.selectVwmSectionWrk = function (vwmSectionToSelect) {\r\n\t\t// Set id -> auto selection for view\r\n\t\tthis.unzOfSlcVwmSectionWrk(vwmSectionToSelect.unz);\r\n\t};\r\n\r\n  /**\r\n  * Select section by pattern id\r\n  */\r\n  exports.prototype.selectVwmSectionWrkById = function(tmpUnz){\r\n    // Set id -> auto selection for view\r\n\t\tthis.unzOfSlcVwmSectionWrk(tmpUnz);\r\n  };\r\n  \r\n\t/** Choose dashboard (no section) */\r\n\texports.prototype.showStageViewDashboard = function () {\r\n\t\tthis.unzOfSlcVwmSectionWrk(null);\r\n\t\t// Select a stage view\r\n\t\tthis.slcStageView(stageViewConstants.dashboard.id);\r\n\t};\r\n  \r\n  /** Choose dashboard (no section) */\r\n\texports.prototype.showStageViewFmgr = function () {\r\n\t\tthis.unzOfSlcVwmSectionWrk(null);\r\n    this.unselectVwmSectionFmg();\r\n\t\t// Select a stage view\r\n\t\tthis.slcStageView(stageViewConstants.fmgr.id);\r\n\t};\r\n\r\n\t/** Calculate a selected viewmodel of a work section */\r\n\texports.prototype.calcSlcVwmSectionWrk = function () {\r\n\t\tvar tmpUnzOfSlcVwmSectionWrk = ko.unwrap(this.unzOfSlcVwmSectionWrk);\r\n\t\tif (tmpUnzOfSlcVwmSectionWrk) {\r\n\t\t\t// Find section with this pattern id\r\n\t\t\treturn ko.unwrap(this.listOfVwmSection).filter(function (elem) {\r\n\t\t\t\treturn elem.unz === tmpUnzOfSlcVwmSectionWrk;\r\n\t\t\t})[0];\r\n\t\t} else if (tmpUnzOfSlcVwmSectionWrk === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select file section (in file manager) */\r\n\texports.prototype.selectVwmSectionFmg = function (vwmSectionToSelect) {\r\n\t\t// Set as a selected to show files\r\n\t\tthis.unzOfSlcVwmSectionFmg(vwmSectionToSelect.unz);\r\n\t};\r\n  \r\n  /** Unselect all sections, show folders */\r\n  exports.prototype.unselectVwmSectionFmg = function(){\r\n    this.unzOfSlcVwmSectionFmg(null);\r\n  };\r\n\r\n\t/** Build a list with widget layout viewmodels */\r\n\texports.prototype.buildListOfVwmWidgout = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.widgouts).map(function (elem) {\r\n\t\t\treturn new VwmWidgout(elem, this);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/** Calculate a selected viewmodel of a file manager section */\r\n\texports.prototype.calcSlcVwmSectionFmg = function () {\r\n\t\tvar tmpUnzOfSlcVwmSection = ko.unwrap(this.unzOfSlcVwmSectionFmg);\r\n\t\tif (tmpUnzOfSlcVwmSection) {\r\n\t\t\t// Find section with this pattern id\r\n\t\t\treturn ko.unwrap(this.listOfVwmSection).filter(function (elem) {\r\n\t\t\t\treturn elem.unz === tmpUnzOfSlcVwmSection;\r\n\t\t\t})[0];\r\n\t\t} else if (tmpUnzOfSlcVwmSection === null) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Build a list with viewmodels of sections */\r\n\texports.prototype.buildListOfVwmSection = function () {\r\n\t\tvar tmpListOfSection = ko.unwrap(this.mdlStage.listOfSection);\r\n\t\treturn tmpListOfSection.map(function (elem) {\r\n\t\t\treturn new VwmStageSection(elem, this);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Select this stage and all ancestors\r\n\t */\r\n\texports.prototype.selectAncestorVwms = function () {\r\n\t\t// For the upper stage (user profile) no parents - nothing to select\r\n\t\tvar tmpParentVwm = this.getParentVwm();\r\n\t\tif (tmpParentVwm) {\r\n\t\t\t// Select this stage\r\n\t\t\ttmpParentVwm.unqOfSlcVwmChild(this.unq);\r\n\t\t\t// Select all parent stages (in asc order)\r\n\t\t\ttmpParentVwm.selectAncestorVwms();\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate, wheter all ancestors are selected */\r\n\texports.prototype.calcIsSlcAncestorVwms = function () {\r\n\t\tvar result = true;\r\n\t\tvar tmpParentVwm = this.getParentVwm();\r\n\t\t// If no parent (in first time) that it is a Upro stage (user profile)\r\n\t\t// In this case - always true\r\n\t\twhile (tmpParentVwm) {\r\n\t\t\t// If one of the parent is false, then result will be false;\r\n\t\t\tresult = ko.unwrap(tmpParentVwm.isSlcVwmStage);\r\n\t\t\tif (result === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttmpParentVwm = tmpParentVwm.getParentVwm();\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * Build list of childrens' viewmodels\r\n\t */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\tthrow new Error('Need to ovveride in a subclass if there are stage children');\r\n\t};\r\n\r\n\t/**\r\n\t * Remove child stage with view model (only for stages with children)\r\n\t */\r\n\texports.prototype.removeVwmChild = function (vwmChildToRemove) {\r\n\t\t// In case upro (parent) - company (child)\r\n\t\tvar tmpMdlStage = vwmChildToRemove.mdlStage;\r\n\t\t// Name - can be uppercase or lowercase\r\n\t\tvar tmpName = tmpMdlStage.name ? ko.unwrap(tmpMdlStage.name) : ko.unwrap(tmpMdlStage.Name);\r\n\r\n\t\tif (confirm('Are you sure you want to delete \"' + tmpName + '\"?')) {\r\n\t\t\tthis.mdlStage.removeChild(tmpMdlStage);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate a selected viewmodel of a child stage */\r\n\texports.prototype.calcSlcVwmChild = function () {\r\n\t\tvar tmpUnq = ko.unwrap(this.unqOfSlcVwmChild);\r\n\t\tif (tmpUnq) {\r\n\t\t\treturn ko.unwrap(this.listOfVwmChild).filter(function (elem) {\r\n\t\t\t\treturn elem.unq === tmpUnq;\r\n\t\t\t})[0];\r\n\t\t}\r\n\t};\r\n\r\n\t/** Make actions (open a stage) after select a new child stage */\r\n\texports.prototype.handleSlcVwmChild = function (tmpSlcVwmChild) {\r\n\t\tif (tmpSlcVwmChild) {\r\n\t\t\tif (typeof(tmpSlcVwmChild.isOpenedItem) !== 'undefined') {\r\n\t\t\t\ttmpSlcVwmChild.isOpenedItem(true);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Activate view of child stage: select all parents\r\n\t *    1. Unselect all children\r\n\t *    2. Select this\r\n\t *    3. Select all parents (For userProfile - employee (company))\r\n\t *    4. Set url fot this stage\r\n\t */\r\n\texports.prototype.activateVwmChild = function (vwmChildToActivate) {\r\n\t\t// 1. Change a route\r\n\t\tvar navigationArr = historyHelper.getNavigationArr(vwmChildToActivate.mdlStage);\r\n\t\thistoryHelper.pushState('/' + navigationArr.join('/'));\r\n\r\n\t\t// 2. Clean\r\n\t\tif (typeof(vwmChildToActivate.unqOfSlcVwmChild) !== 'undefined') {\r\n\t\t\tvwmChildToActivate.unqOfSlcVwmChild(null);\r\n\t\t}\r\n\r\n\t\t// 3. Select section. If not a selected section - show dashboard\r\n\t\tif (!ko.unwrap(vwmChildToActivate.unzOfSlcVwmSectionWrk)) {\r\n\t\t\tvwmChildToActivate.showStageViewDashboard();\r\n\t\t}\r\n\r\n\t\t// 4. Select current child\r\n\t\tthis.unqOfSlcVwmChild(vwmChildToActivate.unq);\r\n\r\n\t\t// 5. Select all parents of this stage\r\n\t\tthis.selectAncestorVwms();\r\n\r\n\t\t// Unselect all previous sections. If a stage has children, then unselect all children\r\n\t\t// You can't know a previous selected stage\r\n\t\t// Just leave it selected, but in next selection - re-calculate\r\n\r\n\r\n\t\t// ths - parent (like company)\r\n\t\t// vwmChild - child (like wegion)\r\n\t\t// slcVwmChild - selected child (like wegion)\r\n\t\t// If parent - it is a child of other parent (company, employee -- it is a child of the userprofile)\r\n\t\t// UserProflie.slcVwmChild(thisEmployee of this company)\r\n\t};\r\n\r\n\t/** Unselect: show content of parent node, like WFM logo click: unselect choosed company and show company list */\r\n\texports.prototype.deactivateVwmChild = function () {\r\n\t\tthis.unqOfSlcVwmChild(null);\r\n\r\n\t\tvar navigationArr = historyHelper.getNavigationArr(this.mdlStage);\r\n\r\n\t\thistoryHelper.pushState('/' + navigationArr.join('/'));\r\n\t};\r\n\r\n\t/** Calculate whether this stage is selected */\r\n\texports.prototype.calcIsSlcVwmStage = function () {\r\n\t\treturn ko.unwrap(this.koUnqOfSlcVwmStage) === ko.unwrap(this.unq);\r\n\t};\r\n\r\n\t/** Calculate, whether this stage is active */\r\n\texports.prototype.calcIsActiveVwmStage = function () {\r\n\t\t// If stage is selected (or not exists)\r\n\t\t// isSlcVwmStage = koSlcVwmChild === this\r\n\t\t// 1. Is this stage is selected\r\n\t\tif (ko.unwrap(this.isSlcVwmStage)) {\r\n\t\t\t// 2. And no selected childs\r\n\t\t\t// Well stage is always selected (has no children)\r\n\t\t\tif (!ko.unwrap(this.slcVwmChild)) {\r\n\t\t\t\tconsole.log('stage is showed', this.mdlStage.stageKey);\r\n\t\t\t\t// 3. And all parents are selected\r\n\t\t\t\tif (this.calcIsSlcAncestorVwms()) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/** Toggle isOpen state */\r\n\texports.prototype.toggleItem = function () {\r\n\t\tthis.isOpenedItem(!ko.unwrap(this.isOpenedItem));\r\n\t};\r\n\r\n\t/** Css class for a item of a menu */\r\n\texports.prototype.calcMenuItemCss = function () {\r\n\t\treturn ko.unwrap(this.isOpenedItem) ? 'glyphicon-circle-arrow-down' : 'glyphicon-circle-arrow-right';\r\n\t};\r\n\r\n\t/** Calculate pattern id */\r\n\texports.prototype.calcPatternOfSlcVwmSectionWrk = function () {\r\n\t\tvar tmpSlcVwmSectionWrk = ko.unwrap(this.slcVwmSectionWrk);\r\n\t\tif (tmpSlcVwmSectionWrk) {\r\n\t\t\treturn tmpSlcVwmSectionWrk.mdlSection.sectionPatternId;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate whether is no selected section (is null) */\r\n\texports.prototype.calcIsNullSlcVwmSectionWrk = function () {\r\n\t\treturn ko.unwrap(this.slcVwmSectionWrk) === null;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/sketch-of-well',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: sketch of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlSketchOfWell, koWellUnzOfSlcVwmSectionFmg, koSlcVwmSectionFmg, fmgrModalLink) {\r\n\t\tthis.mdlSketchOfWell = mdlSketchOfWell;\r\n\r\n\t\tthis.fmgrModal = fmgrModalLink;\r\n\r\n\t\tthis.koWellUnzOfSlcVwmSectionFmg = koWellUnzOfSlcVwmSectionFmg;\r\n\r\n\t\tthis.koSlcVwmSectionFmg = koSlcVwmSectionFmg;\r\n\t};\r\n\r\n\t/** Create sketch from file: select file and create sketch */\r\n\texports.prototype.createSketchFromFile = function () {\r\n\t\tvar ths = this;\r\n\t\tvar tmpMdlWell = ths.mdlSketchOfWell.getWell();\r\n\r\n\t\t// Select file section with sketches (load and unselect files)\r\n\t\tths.koWellUnzOfSlcVwmSectionFmg(tmpMdlWell.stageKey + '-sketch');\r\n\t\t//var tmpFmgrModal = ths.fmgr\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.koSlcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlSketchOfWell.putSketchOfWell(selectedFileSpecs[0].id, ko.unwrap(selectedFileSpecs[0].name), function () {\r\n\t\t\t\tths.fmgrModal.hide();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select a file for a sketch image');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/volume-of-well',['knockout'], function (ko) {\r\n    'use strict';\r\n    \r\n    /**\r\n    * Viewmodel: volume of well\r\n    * @constructor\r\n    */\r\n    var exports = function (mdlVolumeOfWell, koVidOfSlcVwmOfVolumeOfWell) {\r\n\r\n        var ths = this;\r\n\r\n        /**\r\n        * Model: volume\r\n        * @type {models/volume-of-well}\r\n        */\r\n        this.mdlVolumeOfWell = mdlVolumeOfWell;\r\n\r\n        /**\r\n        * View id = id of file spec (unique in every well) (guid)\r\n        * @type {string}\r\n        */\r\n        this.vid = mdlVolumeOfWell.idOfFileSpec;\r\n\r\n        this.isSlcVwmVolumeOfWell = ko.computed({\r\n            read: function () {\r\n                return ko.unwrap(koVidOfSlcVwmOfVolumeOfWell) === ths.vid;\r\n            },\r\n            deferEvaluation: true\r\n        });\r\n    };\r\n\r\n    return exports;\r\n});\n","/**\r\n * @module\r\n * @todo fix: select first log image (or from cookies - better) #ML!\r\n * @todo fix: edition for name and description #MH!\r\n * @todo fix: download file as extension (previos variant - above) #MM!\r\n * @todo style: decor for attribute selection #LM!\r\n * @todo fix: after removing files from the file manager - remove from all history records (reload history records) #MM!\r\n */\r\ndefine('viewmodels/log-of-well',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t// Download as ext\r\n\t// <li data-bind=\"visible: getExt() === 'png'\" >\r\n\t// < a href =\" #\" data-bind= \"click: function (data, event) { downloadAsExt('jpeg') }\">Download as JPEG </a>\r\n\t// </ li>\r\n\t// < li data-bind =\" visible: getExt() === 'png'\">\r\n\t// < a href =\" #\" data-bind= \"click: function (data, event) { downloadAsExt('tiff') }\">Download as TIFF </a>\r\n\t// </ li>\r\n\r\n\t// byte[] imgByteArray = ImageHelper.ConvertBlobToByteArrayWithExt(blockBlob, ext);\r\n\t// HttpResponseMessage response = Request.CreateResponse();\r\n\t// response.Content = new ByteArrayContent(imgByteArray);\r\n\t// response.StatusCode = HttpStatusCode.OK;\r\n\t// response.Content.Headers.ContentType = new MediaTypeHeaderValue(\"image/\" + ext);\r\n\t// response.Content.Headers.ContentDisposition = new ContentDispositionHeaderValue(\"attachment\")\r\n\t// {\r\n\t// FileName = file_name.Replace(\".png\", \".\" + ext)\r\n\t// };\r\n\r\n\t/**\r\n\t * Viewmodel: log of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlLogOfWell, koSlcVid) {\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t/**\r\n\t\t * Module: log of well\r\n\t\t * @type {module:models/log-of-well}\r\n\t\t */\r\n\t\tthis.mdlLogOfWell = mdlLogOfWell;\r\n\r\n\t\t/**\r\n\t\t * View guid\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.vid = mdlLogOfWell.id;\r\n\r\n\t\t/**\r\n\t\t * Whether view is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlc = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ths.vid === ko.unwrap(koSlcVid);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/nodal-analysis-of-well',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: nodal analysis\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlNodalAnalysis, koVidOfSlcVwmNodalAnalysis) {\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\tthis.mdlNodalAnalysis = mdlNodalAnalysis;\r\n\r\n\t\t/**\r\n\t\t * Id of viewmodel = id of file spec (unique per well)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.vid = mdlNodalAnalysis.idOfFileSpec;\r\n\r\n\t\t/**\r\n\t\t * Whether view model is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlc = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ths.vid === ko.unwrap(koVidOfSlcVwmNodalAnalysis);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/integrity-of-well',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: integrity\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlIntegrity, koVidOfSlcVwmIntegrity) {\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\tthis.mdlIntegrity = mdlIntegrity;\r\n\r\n\t\t/**\r\n\t\t * Id of viewmodel = id of file spec (unique per well)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.vid = mdlIntegrity.idOfFileSpec;\r\n\r\n\t\t/**\r\n\t\t * Whether view model is selected\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlc = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ths.vid === ko.unwrap(koVidOfSlcVwmIntegrity);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/**\r\n * @module\r\n */\r\ndefine('viewmodels/test-scope',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Viewmodel: test scope\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (mdlTestScope) {\r\n\t\tvar ths = this;\r\n\r\n\t\t/**\r\n\t\t * Model: test scope\r\n\t\t * @type {module:models/test-scope}\r\n\t\t */\r\n\t\tthis.mdlTestScope = mdlTestScope;\r\n\r\n\t\t/**\r\n\t\t * Whether test scope in detailed view\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isDetailed = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Toggle details\r\n\t\t */\r\n\t\tthis.toggleIsDetailed = function () {\r\n\t\t\tths.isDetailed(!ko.unwrap(ths.isDetailed));\r\n\t\t};\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/**\r\n * @module\r\n * @todo feat: map widget #MM!\r\n *             using only maps with this well\r\n */\r\ndefine('viewmodels/well',[\r\n\t\t'jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper',\r\n\t\t'helpers/app-helper',\r\n\t\t'constants/stage-constants',\r\n\t\t'base-viewmodels/stage-base',\r\n\t\t'viewmodels/sketch-of-well',\r\n\t\t'viewmodels/volume-of-well',\r\n\t\t'viewmodels/scope-of-history-of-well',\r\n\t\t'viewmodels/log-of-well',\r\n\t\t'viewmodels/nodal-analysis-of-well',\r\n\t\t'viewmodels/integrity-of-well',\r\n\t\t'viewmodels/perfomance-of-well',\r\n\t\t'viewmodels/test-scope',\r\n\t\t'viewmodels/monitoring-of-well',\r\n\t\t'viewmodels/map-of-wield',\r\n\t\t'viewmodels/well-marker-of-map-of-wield'],\r\n\tfunction (\r\n\t\t$,\r\n\t\tko,\r\n\t\tbootstrapModal,\r\n\t\tappHelper,\r\n\t\tstageCnst,\r\n\t\tVwmStageBase,\r\n\t\tVwmSketchOfWell,\r\n\t\tVwmVolumeOfWell,\r\n\t\tVwmScopeOfHistoryOfWell,\r\n\t\tVwmLogOfWell,\r\n\t\tVwmNodalAnalysis,\r\n\t\tVwmIntegrity,\r\n\t\tVwmPerfomanceOfWell,\r\n\t\tVwmTestScope,\r\n\t\tVwmMonitoringOfWell,\r\n\t\tVwmMapOfWield,\r\n\t\tVwmWellMarkerOfMapOfWield) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Returns a random number between min and max\r\n\t */\r\n\tfunction getRandomArbitary(min, max) {\r\n\t\treturn Math.random() * (max - min) + min;\r\n\t}\r\n\r\n\t/**\r\n\t * Generate dictionary with random numbers\r\n\t */\r\n\tfunction generateDict(tmpMntrParams) {\r\n\t\tvar genDict = {};\r\n\r\n\t\ttmpMntrParams.forEach(function (tmpPrm) {\r\n\t\t\tgenDict[tmpPrm.wfmParameterId] = getRandomArbitary(10, 1000);\r\n\t\t});\r\n\r\n\t\treturn genDict;\r\n\t}\r\n\r\n\t/**\r\n\t * Well view model\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/stage-base}\r\n\t */\r\n\tvar exports = function (mdlWell, parentVwmWroup, defaultSlcData) {\r\n\t\tthis.mdlStage = mdlWell;\r\n\r\n\t\tthis.unq = mdlWell.id;\r\n\r\n\t\t/**\r\n\t\t * Get parent viewmodel (wroup)\r\n\t\t */\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn parentVwmWroup;\r\n\t\t};\r\n\r\n\t\t// Has sections and widgets\r\n\t\tVwmStageBase.call(this, defaultSlcData.wellSectionId, parentVwmWroup.unqOfSlcVwmChild, null);\r\n\r\n\t\t//mdlSketchOfWell, koWellUnzOfSlcVwmSectionFmg, koSlcVwmSectionFmg,  fmgrLink\r\n\t\tthis.vwmSketchOfWell = new VwmSketchOfWell(this.mdlStage.sketchOfWell, this.unzOfSlcVwmSectionFmg, this.slcVwmSectionFmg, this.fmgrModal);\r\n\r\n\t\t//{ #region VOLUME-PROPS\r\n\r\n\t\t/**\r\n\t\t * List of views of volume of well\r\n\t\t * @type {Array.<viewmodels/volume-of-well>}\r\n\t\t */\r\n\t\tthis.listOfVwmVolumeOfWell = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmVolumeOfWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Id of selected view, equals id of file spec (guid)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.vidOfSlcVwmVolumeOfWell = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Selected view\r\n\t\t * @type {module:viewmodels/volume-of-well}\r\n\t\t */\r\n\t\tthis.slcVwmVolumeOfWell = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmVolumeOfWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion VOLUME-PROPS\r\n\r\n\t\t//{ #region HISTORY\r\n\r\n\t\t/**\r\n\t\t * A viewmodel for the main list of history records (order from newer to older)\r\n\t\t * @type {module:viewmodels/history-of-well}\r\n\t\t */\r\n\t\tthis.vwmScopeOfHistoryOfWell = new VwmScopeOfHistoryOfWell(this,\r\n\t\t\t\tthis.mdlStage,\r\n\t\t\t\tko.observable(null),\r\n\t\t\t\tko.observable(null),\r\n\t\t\t\tko.observable(null),\r\n\t\t\t\tko.observable(-1));\r\n\r\n\t\t//} #endregion HISTORY\r\n\r\n\t\t//{ #region LOG\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels of log of well\r\n\t\t * @type {Array.<module:viewmodels/log-of-well>}\r\n\t\t */\r\n\t\tthis.listOfVwmLogOfWell = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(ths.mdlStage.logsOfWell).map(function (elem) {\r\n\t\t\t\t\t\treturn new VwmLogOfWell(elem, ths.vidOfSlcVwmLogOfWell);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * View id for log\r\n\t\t */\r\n\t\tthis.vidOfSlcVwmLogOfWell = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Selected view for log\r\n\t\t *    By default: first log\r\n\t\t * @type {module:viewmodels/log-of-well}\r\n\t\t */\r\n\t\tthis.slcVwmLogOfWell = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpVid = ko.unwrap(ths.vidOfSlcVwmLogOfWell);\r\n\t\t\t\t\tvar tmpList = ko.unwrap(ths.listOfVwmLogOfWell);\r\n\t\t\t\t\tif (tmpVid) {\r\n\t\t\t\t\t\treturn tmpList.filter(function (elem) {\r\n\t\t\t\t\t\t\treturn elem.vid === tmpVid;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar tmpObj = tmpList[0];\r\n\t\t\t\t\t\tif (tmpObj) {\r\n\t\t\t\t\t\t\tths.vidOfSlcVwmLogOfWell(tmpObj.vid);\r\n\t\t\t\t\t\t\treturn tmpObj;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Select viewmodel of log\r\n\t\t */\r\n\t\tthis.selectVwmLogOfWell = function (vwmLogOfWellToSelect) {\r\n\t\t\tths.vidOfSlcVwmLogOfWell(vwmLogOfWellToSelect.vid);\r\n\t\t};\r\n\r\n\t\t//} #endregion LOG\r\n\r\n\t\t//{ #region NODALANALYSIS\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels\r\n\t\t */\r\n\t\tthis.listOfVwmNodalAnalysis = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(ths.mdlStage.listOfNodalAnalysis).map(function (elem) {\r\n\t\t\t\t\t\treturn new VwmNodalAnalysis(elem, ths.vidOfSlcVwmNodalAnalysis);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Id of selected viewmodel\r\n\t\t */\r\n\t\tthis.vidOfSlcVwmNodalAnalysis = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Selected viewmodel\r\n\t\t */\r\n\t\tthis.slcVwmNodalAnalysis = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpVid = ko.unwrap(ths.vidOfSlcVwmNodalAnalysis);\r\n\t\t\t\t\tvar tmpList = ko.unwrap(ths.listOfVwmNodalAnalysis);\r\n\t\t\t\t\tif (tmpVid) {\r\n\t\t\t\t\t\treturn tmpList.filter(function (elem) {\r\n\t\t\t\t\t\t\treturn elem.vid === tmpVid;\r\n\t\t\t\t\t\t})[0];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Get first element by default\r\n\t\t\t\t\t\tvar tmpElem = tmpList[0];\r\n\t\t\t\t\t\tif (tmpElem) {\r\n\t\t\t\t\t\t\tths.vidOfSlcVwmNodalAnalysis(tmpElem.vid);\r\n\t\t\t\t\t\t\treturn tmpElem;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Select view model\r\n\t\t */\r\n\t\tthis.selectVwmNodalAnalysis = function (vwmToSelect) {\r\n\t\t\tths.vidOfSlcVwmNodalAnalysis(vwmToSelect.vid);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove viewmodel and model\r\n\t\t */\r\n\t\tthis.removeVwmNodalAnalysis = function (vwmToRemove) {\r\n\t\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(vwmToRemove.mdlNodalAnalysis.name) + '\"?')) {\r\n\t\t\t\tths.mdlStage.removeNodalAnalysis(vwmToRemove.mdlNodalAnalysis);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t//} #endregion NODALANALYSIS\r\n\r\n\t\t//{ #region INTEGRITY\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels\r\n\t\t */\r\n\t\tthis.listOfVwmIntegrity = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmIntegrity,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Id of selected viewmodel\r\n\t\t */\r\n\t\tthis.vidOfSlcVwmIntegrity = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Selected viewmodel\r\n\t\t */\r\n\t\tthis.slcVwmIntegrity = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmIntegrity,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion INTEGRITY\r\n\r\n\t\t//{ #region PERFOMANCE\r\n\r\n\t\t/**\r\n\t\t * Viewmodel for the perfomance section\r\n\t\t * @type {module:viewmodels/perfomance-of-well}\r\n\t\t */\r\n\t\tthis.mainVwmPerfomanceOfWell = new VwmPerfomanceOfWell(ths.mdlStage, ths,\r\n\t\t\t\tko.observable(null), ko.observable(null), ko.observable(null), ko.observable(null),\r\n\t\t\t\tko.observable(null), ko.observable(false));\r\n\r\n\t\t//} #endregion PERFOMANCE\r\n\r\n\t\t//{ #region TEST\r\n\r\n\t\tthis.listOfVwmTestScope = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(this.mdlStage.listOfTestScope).map(function (elem) {\r\n\t\t\t\t\t\treturn new VwmTestScope(elem);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of tests, sorted by time\r\n\t\t */\r\n\t\tthis.handledListOfVwmTestScope = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(ths.listOfVwmTestScope).sort(function (left, right) {\r\n\t\t\t\t\t\tvar tmpLeftTime = ko.unwrap(left.mdlTestScope.startUnixTime),\r\n\t\t\t\t\t\ttmpRightTime = ko.unwrap(right.mdlTestScope.startUnixTime);\r\n\r\n\t\t\t\t\t\treturn tmpLeftTime === tmpRightTime ? 0 : (tmpLeftTime < tmpRightTime ? 1 : -1);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t//} #endregion TEST\r\n\r\n\t\t//{ #region MONITORING (MNTR)\r\n\r\n\t\t/**\r\n\t\t * Viewmodel (partial of well), used in the main view section\r\n\t\t * @type {module:viewmodels/monitoring-of-well}\r\n\t\t */\r\n\t\tthis.mainVwmMonitoringOfWell = new VwmMonitoringOfWell(this.mdlStage,\r\n\t\t\t\tko.observable(null),\r\n\t\t\t\tko.observable(null));\r\n\r\n\t\t/**\r\n\t\t * A monitoring record, according to the selected unix time in the wroup\r\n\t\t * @type {module:models/monitoring-record}\r\n\t\t */\r\n\t\tthis.monitoringRecordForWroup = ko.computed({\r\n\t\t\t\tread : this.calcMonitoringRecordForWroup,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion MONITORING\r\n\r\n\t\t//{ #region MAP\r\n\r\n\t\t/**\r\n\t\t * A list of viewmodels of map markers\r\n\t\t * @type {Array.<module:viewmodels/well-marker-of-map-of-wield>}\r\n\t\t */\r\n\t\tthis.listOfVwmMapMarker = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmMapMarker,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Id of the map\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfMapOfSlcVwmMapMarker = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * A selected viewmodel of a map marker\r\n\t\t * @type {module:viewmodels/well-marker-of-map-of-wield}\r\n\t\t */\r\n\t\tthis.slcVwmMapMarker = ko.computed({\r\n\t\t\t\tread : this.calcSlcVwmMapMarker,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion MAP\r\n\r\n\t\t//{ #region SWITCHER overwriting to remove hard-code strings and ko() props in html\r\n\t\tconsole.log('history pattern', stageCnst.well.ptrn.history);\r\n\t\tthis.isSlcPtrnWellHistory = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.history),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.isSlcPtrnWellIntegrity = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.integrity),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.isSlcPtrnWellLog = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.log),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.isSlcPtrnWellNodalAnalysis = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.nodalAnalysis),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.isSlcPtrnWellPerfomance = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.perfomance),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.isSlcPtrnWellMap = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcPtrn.bind(this, stageCnst.well.ptrn.map),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//{ #endregion SWITCHER\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\texports.prototype.calcIsSlcPtrn = function (ptrnStr) {\r\n\t\treturn ko.unwrap(this.patternOfSlcVwmSectionWrk) === ptrnStr;\r\n\t};\r\n\r\n\t/** Calculate a selected marker, using id of map */\r\n\texports.prototype.calcSlcVwmMapMarker = function () {\r\n\t\tvar tmpIdOfMap = ko.unwrap(this.idOfMapOfSlcVwmMapMarker);\r\n\t\tif (tmpIdOfMap) {\r\n\t\t\tvar tmpList = ko.unwrap(this.listOfVwmMapMarker);\r\n\t\t\treturn tmpList.filter(function (vwmElem) {\r\n\t\t\t\treturn vwmElem.mdlWellMarker.idOfMapOfWield === tmpIdOfMap;\r\n\t\t\t})[0];\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select marker */\r\n\texports.prototype.selectVwmMapMarker = function (vwmToSelect) {\r\n\t\tthis.idOfMapOfSlcVwmMapMarker(vwmToSelect.mdlWellMarker.idOfMapOfWield);\r\n\t};\r\n\r\n\t/** Build viewmodels for map markers */\r\n\texports.prototype.buildListOfVwmMapMarker = function () {\r\n\t\tvar tmpList = ko.unwrap(this.mdlStage.listOfMapMarker);\r\n\r\n\t\tvar tmpSlcVwmMapMarker = this.slcVwmMapMarker;\r\n\r\n\t\treturn tmpList.map(function (markerModel) {\r\n\t\t\t//mdlMapOfWield, koVidOfSlcVwmMapOfWield, koTransform\r\n\t\t\tvar tmpVwmMap = new VwmMapOfWield(markerModel.getWellFieldMap(), null, ko.observable({\r\n\t\t\t\t\t\tscale : 1,\r\n\t\t\t\t\t\ttranslate : [0, 0]\r\n\t\t\t\t\t}));\r\n\r\n\t\t\treturn new VwmWellMarkerOfMapOfWield(markerModel, tmpSlcVwmMapMarker, tmpVwmMap);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Load content of the section\r\n\t * @param {string} idOfSectionPattern - Section\r\n\t */\r\n\texports.prototype.loadSectionContent = function (idOfSectionPattern) {\r\n\t\tswitch (idOfSectionPattern) {\r\n\t\t\t// Dashboard: from undefined to null\r\n\t\tcase stageCnst.well.ptrn.history: {\r\n\t\t\t\tthis.mdlStage.loadWellHistoryList();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.sketch: {\r\n\t\t\t\tthis.mdlStage.sketchOfWell.load();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.volume: {\r\n\t\t\t\tthis.mdlStage.loadVolumes();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.perfomance: {\r\n\t\t\t\tthis.mdlStage.getWellGroup().loadListOfWfmParameterOfWroup();\r\n\t\t\t\tthis.mdlStage.perfomanceOfWell.forecastEvolution.getDict();\r\n\t\t\t\tthis.mdlStage.perfomanceOfWell.getHstProductionDataSet();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.nodalAnalysis: {\r\n\t\t\t\tthis.mdlStage.loadListOfNodalAnalysis();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.integrity: {\r\n\t\t\t\tthis.mdlStage.loadListOfIntegrity();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.log: {\r\n\t\t\t\tthis.mdlStage.loadLogsOfWell();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.test: {\r\n\t\t\t\tthis.mdlStage.loadListOfTestScope();\r\n\t\t\t\tthis.mdlStage.getWellGroup().loadListOfWfmParameterOfWroup();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.monitoring: {\r\n\t\t\t\tthis.mdlStage.getWellGroup().loadListOfWfmParameterOfWroup();\r\n\r\n\t\t\t\t// Load procent borders for all wells\r\n\t\t\t\t// No perfomance when load this data separately (for every well), because\r\n\t\t\t\t//      a company user opens a well group monitoring section frequently than a well monitoring section\r\n\t\t\t\tthis.mdlStage.getWellGroup().loadProcentBordersForAllWells();\r\n\r\n\t\t\t\t// Load monitoring records\r\n\t\t\t\t// There is another loader: load records for all wells, but in this case - need to reload data\r\n\t\t\t\tthis.mainVwmMonitoringOfWell.loadFilteredListOfMonitoringRecord();\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\tcase stageCnst.well.ptrn.map: {\r\n\t\t\t\t// find wellfield_id\r\n\t\t\t\tvar wellFieldItem = this.mdlStage.getWellGroup().getWellField();\r\n\r\n\t\t\t\twellFieldItem.loadMapsOfWield();\r\n\t\t\t\t////function () {\r\n\t\t\t\t////var arr = ko.unwrap(wellFieldItem.WellFieldMaps);\r\n\t\t\t\t// TODO:???\r\n\t\t\t\t////arr = $.grep(arr, function (arrElem, arrIndex) {\r\n\t\t\t\t////    var cnt = 0;\r\n\t\t\t\t////    $.each(arrElem.wellMarkers(), function(wwfIndex, wwfElem){\r\n\t\t\t\t////        if (wwfElem.Id === ths.Id) {\r\n\t\t\t\t////            cnt++;\r\n\t\t\t\t////        }\r\n\t\t\t\t////    });\r\n\r\n\t\t\t\t////    return cnt > 0;\r\n\t\t\t\t////});\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t\t// no well in new map\r\n\t\t\t\t////wellFieldParent.initMapFileUpload();\r\n\t\t\t\t// find wellfieldmap from wellfield where id =\r\n\t\t\t\t// get all WellInWellFieldMap where wellid = ths.wellId\r\n\t\t\t\t// get all maps\r\n\t\t\t\t// get only maps where well_id == ths.Id\r\n\t\t\t\t// get all maps\r\n\t\t\t\t// in wellMarkers\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Create demo records for the monitoring section\r\n\t */\r\n\texports.prototype.createDemoMonitoringRecords = function () {\r\n\t\tvar curDate = new Date();\r\n\t\tvar curUnixTime = Date.UTC(curDate.getFullYear(), curDate.getMonth(), curDate.getDate()) / 1000;\r\n\t\tvar secondsInDay = 24 * 60 * 60;\r\n\t\tvar startUnixTime = curUnixTime - secondsInDay * 35; // minus 50 days\r\n\r\n\t\tvar tmpParentVwm = this.getParentVwm();\r\n\r\n\t\tvar tmpMntrParams = ko.unwrap(tmpParentVwm.mdlStage.listOfMonitoredParams);\r\n\r\n\t\tfor (var unt = startUnixTime; unt <= curUnixTime; unt += secondsInDay) {\r\n\t\t\t// Last function for current time: reload table to get average values for the created record\r\n\t\t\tthis.mdlStage.postMonitoringRecord(unt,\r\n\t\t\t\ttmpMntrParams,\r\n\t\t\t\tgenerateDict(tmpMntrParams),\r\n\t\t\t\t(unt === curUnixTime) ? tmpParentVwm.reloadMonitoringRecords.bind(tmpParentVwm) : null);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Create a monitoring record for selected time in well group\r\n\t */\r\n\texports.prototype.createMonitoringRecord = function () {\r\n\t\tvar tmpParentVwm = this.getParentVwm();\r\n\r\n\t\t// Time, selected in the well group of this well\r\n\t\tvar currentUnixTimeInWroup = ko.unwrap(tmpParentVwm.monitoringUnixTime);\r\n\t\tif (currentUnixTimeInWroup) {\r\n\r\n\t\t\tvar tmpMntrParams = ko.unwrap(tmpParentVwm.mdlStage.listOfMonitoredParams);\r\n\r\n\t\t\t// Create record with empty dictionary\r\n\t\t\t// Last parameter - function to reload table (to get average params for the new record)\r\n\t\t\tthis.mdlStage.postMonitoringRecord(currentUnixTimeInWroup, tmpMntrParams, {}, tmpParentVwm.reloadMonitoringRecords.bind(tmpParentVwm));\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate the record for a well group for a need time point */\r\n\texports.prototype.calcMonitoringRecordForWroup = function () {\r\n\t\tvar currentUnixTimeInWroup = ko.unwrap(this.getParentVwm().monitoringUnixTime);\r\n\r\n\t\tif (!currentUnixTimeInWroup) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar allRecs = ko.unwrap(this.mdlStage.listOfMonitoringRecord);\r\n\r\n\t\tvar needRec = allRecs.filter(function (recItem) {\r\n\t\t\t\treturn ko.unwrap(recItem.unixTime) === currentUnixTimeInWroup;\r\n\t\t\t})[0];\r\n\r\n\t\treturn needRec;\r\n\t};\r\n\r\n\t/** Create volume from file: select file and create volume */\r\n\texports.prototype.createVolumeFromFile = function () {\r\n\t\tvar ths = this;\r\n\t\tths.unzOfSlcVwmSectionFmg(ths.mdlStage.stageKey + '-volume');\r\n\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlStage.postVolumeOfWell(selectedFileSpecs[0].id, ko.unwrap(selectedFileSpecs[0].name), function () {\r\n\t\t\t\t// Success\r\n\t\t\t\tths.fmgrModal.hide();\r\n\t\t\t}, function (jqXhr) {\r\n\t\t\t\t// Error\r\n\t\t\t\tif (jqXhr.status === 422) {\r\n\t\t\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\t\t\trequire(['helpers/lang-helper'], function (langHelper) {\r\n\t\t\t\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || 'unknown error');\r\n\t\t\t\t\t\tths.fmgrModal.okError(tmpProcessError);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select a file for a volume');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * Create log of well\r\n\t */\r\n\texports.prototype.createLogOfWellFromFileSpec = function () {\r\n\t\tvar ths = this;\r\n\t\tths.unzOfSlcVwmSectionFmg(ths.mdlStage.stageKey + '-log');\r\n\r\n\t\t// 1. Select file\r\n\t\t// 2. Show column attributes modal window\r\n\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar tmpFileSpec = selectedFileSpecs[0];\r\n\r\n\t\t\tths.mdlStage.getLogColumnAttributes(tmpSlcVwmSection.mdlSection.id, tmpFileSpec.id, function (columnAttributes) {\r\n\t\t\t\tths.fmgrModal.hide();\r\n\r\n\t\t\t\t// TODO: Style decor for attribute selection\r\n\t\t\t\tvar selectDepth = document.createElement('select');\r\n\t\t\t\t$(selectDepth).addClass('pd-parameter');\r\n\r\n\t\t\t\tvar selectSP = document.createElement('select');\r\n\t\t\t\t$(selectSP).addClass('pd-parameter');\r\n\r\n\t\t\t\tvar selectGR = document.createElement('select');\r\n\t\t\t\t$(selectGR).addClass('pd-parameter');\r\n\r\n\t\t\t\tvar selectRS = document.createElement('select');\r\n\t\t\t\t$(selectRS).addClass('pd-parameter');\r\n\r\n\t\t\t\tfor (var caIndex = 0, caMaxIndex = columnAttributes.length; caIndex < caMaxIndex; caIndex++) {\r\n\t\t\t\t\tvar optionColumnAttribute = document.createElement('option');\r\n\t\t\t\t\t$(optionColumnAttribute)\r\n\t\t\t\t\t.val(columnAttributes[caIndex].Id)\r\n\t\t\t\t\t.html(columnAttributes[caIndex].Name + (columnAttributes[caIndex].Format() ? (', ' + columnAttributes[caIndex].Format()) : ''));\r\n\r\n\t\t\t\t\tswitch (columnAttributes[caIndex].Name) {\r\n\t\t\t\t\tcase 'DEPTH':\r\n\t\t\t\t\tcase 'DEPT':\r\n\t\t\t\t\t\tselectDepth.appendChild(optionColumnAttribute);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'SP':\r\n\t\t\t\t\tcase 'SPC':\r\n\t\t\t\t\t\tselectSP.appendChild(optionColumnAttribute);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'GR':\r\n\t\t\t\t\tcase 'HGRT':\r\n\t\t\t\t\tcase 'GRDS':\r\n\t\t\t\t\tcase 'SGR':\r\n\t\t\t\t\tcase 'NGRT':\r\n\t\t\t\t\t\tselectGR.appendChild(optionColumnAttribute);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 'RS':\r\n\t\t\t\t\tcase 'RES':\r\n\t\t\t\t\tcase 'RESD':\r\n\t\t\t\t\t\tselectRS.appendChild(optionColumnAttribute);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar innerDiv = document.createElement('div');\r\n\t\t\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\t\t\tbootstrapModal.gnrtDom('Depth', selectDepth),\r\n\t\t\t\t\tbootstrapModal.gnrtDom('GR', selectGR),\r\n\t\t\t\t\tbootstrapModal.gnrtDom('SP', selectSP),\r\n\t\t\t\t\tbootstrapModal.gnrtDom('Resistivity', selectRS));\r\n\r\n\t\t\t\tfunction submitFunction() {\r\n\t\t\t\t\tvar selectedArray = $(innerDiv).find('.pd-parameter').map(function () {\r\n\t\t\t\t\t\t\treturn $(this).val();\r\n\t\t\t\t\t\t}).get();\r\n\r\n\t\t\t\t\tif (selectedArray.length < 4) {\r\n\t\t\t\t\t\talert('All fields required');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 3. Select column attributes\r\n\t\t\t\t\t// 4. Add new log\r\n\r\n\t\t\t\t\tths.mdlStage.postLogOfWell(tmpFileSpec.id, ko.unwrap(tmpFileSpec.name), selectedArray);\r\n\r\n\t\t\t\t\tbootstrapModal.closeModalWindow();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbootstrapModal.openModalWindow('Column match', innerDiv, submitFunction);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select a file for a log');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * Create model and viewmodel of nodal analysis\r\n\t */\r\n\texports.prototype.postVwmNodalAnalysis = function () {\r\n\t\tvar ths = this;\r\n\t\tths.unzOfSlcVwmSectionFmg(ths.mdlStage.stageKey + '-nodalanalysis');\r\n\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlStage.postNodalAnalysis(selectedFileSpecs[0].id, ko.unwrap(selectedFileSpecs[0].name), '', function () {\r\n\t\t\t\t// Success\r\n\t\t\t\tths.fmgrModal.hide();\r\n\t\t\t}, function (jqXhr) {\r\n\t\t\t\t// Error\r\n\t\t\t\tif (jqXhr.status === 422) {\r\n\t\t\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\t\t\trequire(['helpers/lang-helper'], function (langHelper) {\r\n\t\t\t\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || 'unknown error');\r\n\t\t\t\t\t\tths.fmgrModal.okError(tmpProcessError);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select a file for a nodal analysis');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t/**\r\n\t * Create model and viewmodel of integrity\r\n\t */\r\n\texports.prototype.postVwmIntegrity = function () {\r\n\t\tvar ths = this;\r\n\t\tths.unzOfSlcVwmSectionFmg(ths.mdlStage.stageKey + '-integrity');\r\n\r\n\t\t// Calback for selected file\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlStage.postIntegrity(selectedFileSpecs[0].id, ko.unwrap(selectedFileSpecs[0].name), '', function () {\r\n\t\t\t\t// Success\r\n\t\t\t\tths.fmgrModal.hide();\r\n\t\t\t}, function (jqXhr) {\r\n\t\t\t\t// Error\r\n\t\t\t\tif (jqXhr.status === 422) {\r\n\t\t\t\t\tvar resJson = jqXhr.responseJSON;\r\n\t\t\t\t\trequire(['helpers/lang-helper'], function (langHelper) {\r\n\t\t\t\t\t\tvar tmpProcessError = (langHelper.translate(resJson.errId) || 'unknown error');\r\n\t\t\t\t\t\tths.fmgrModal.okError(tmpProcessError);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select an integrity file');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t//{ #region VOLUME-METHODS\r\n\r\n\t/**\r\n\t * Build a list of viewmodels of volumes\r\n\t * @returns {Array.<viewmodels/volume-of-well>}\r\n\t */\r\n\texports.prototype.buildListOfVwmVolumeOfWell = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.volumes).map(function (elem) {\r\n\t\t\treturn new VwmVolumeOfWell(elem, this.vidOfSlcVwmVolumeOfWell);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate a selected volume\r\n\t * @returns {module:viewmodels/volume-of-well}\r\n\t */\r\n\texports.prototype.calcSlcVwmVolumeOfWell = function () {\r\n\t\tvar tmpVid = ko.unwrap(this.vidOfSlcVwmVolumeOfWell);\r\n\r\n\t\tvar tmpList = ko.unwrap(this.listOfVwmVolumeOfWell);\r\n\t\tif (tmpVid) {\r\n\t\t\treturn tmpList.filter(function (elem) {\r\n\t\t\t\treturn elem.vid === tmpVid;\r\n\t\t\t})[0];\r\n\t\t} else {\r\n\t\t\tif (tmpList.length > 0) {\r\n\t\t\t\t// Computed observables doesn't execute from themself\r\n\t\t\t\tthis.vidOfSlcVwmVolumeOfWell(tmpList[0].vid);\r\n\t\t\t\treturn tmpList[0];\r\n\t\t\t}\r\n\t\t\t// Select first element, if no selected\r\n\t\t\t//   return tmpList[0];\r\n\t\t}\r\n\t};\r\n\r\n\t/** Select view for volume of well */\r\n\texports.prototype.selectVwmVolumeOfWell = function (tmpVwm) {\r\n\t\tthis.vidOfSlcVwmVolumeOfWell(tmpVwm.vid);\r\n\t};\r\n\r\n\t/**\r\n\t * Remove viewmodel and model of volume\r\n\t */\r\n\texports.prototype.removeVwmVolumeOfWell = function (vwmToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(vwmToRemove.mdlVolumeOfWell.name) + '\"?')) {\r\n\t\t\tthis.mdlStage.removeVolumeOfWell(vwmToRemove.mdlVolumeOfWell);\r\n\t\t}\r\n\t};\r\n\r\n\t//} #endregion VOLUME-METHODS\r\n\r\n\t//{ #region INTEGRITY-METHODS\r\n\r\n\t/**\r\n\t * Build a list with integrities' viewmodels\r\n\t */\r\n\texports.prototype.buildListOfVwmIntegrity = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.listOfIntegrity).map(this.createVwmIntegrity, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Create a viewmodel of an integrity\r\n\t * @private\r\n\t */\r\n\texports.prototype.createVwmIntegrity = function (data) {\r\n\t\treturn new VwmIntegrity(data, this.vidOfSlcVwmIntegrity);\r\n\t};\r\n\r\n\t/**\r\n\t * Select view model\r\n\t */\r\n\texports.prototype.selectVwmIntegrity = function (vwmToSelect) {\r\n\t\tthis.vidOfSlcVwmIntegrity(vwmToSelect.vid);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate selected viewodel of integrity\r\n\t */\r\n\texports.prototype.calcSlcVwmIntegrity = function () {\r\n\t\tvar tmpVid = ko.unwrap(this.vidOfSlcVwmIntegrity);\r\n\t\tvar tmpList = ko.unwrap(this.listOfVwmIntegrity);\r\n\t\tif (tmpVid) {\r\n\t\t\treturn tmpList.filter(function (elem) {\r\n\t\t\t\treturn elem.vid === tmpVid;\r\n\t\t\t})[0];\r\n\t\t} else {\r\n\t\t\t// Get first element by default\r\n\t\t\tvar tmpElem = tmpList[0];\r\n\t\t\tif (tmpElem) {\r\n\t\t\t\tthis.vidOfSlcVwmIntegrity(tmpElem.vid);\r\n\t\t\t\treturn tmpElem;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Remove viewmodel and model\r\n\t */\r\n\texports.prototype.removeVwmIntegrity = function (vwmToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(vwmToRemove.mdlIntegrity.name) + '\"?')) {\r\n\t\t\tthis.mdlStage.removeIntegrity(vwmToRemove.mdlIntegrity);\r\n\t\t}\r\n\t};\r\n\r\n\t//} #endregion INTEGRITY-METHODS\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/wroup',[\r\n\t\t'jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper',\r\n\t\t'helpers/app-helper',\r\n\t\t'viewmodels/well',\r\n\t\t'base-viewmodels/stage-base',\r\n\t\t'viewmodels/wfm-parameter-of-wroup'],\r\n\tfunction (\r\n\t\t$,\r\n\t\tko,\r\n\t\tmodalHelper,\r\n\t\tappHelper,\r\n\t\tVwmWell,\r\n\t\tVwmStageBase,\r\n\t\tVwmWfmParameterOfWroup) {\r\n\r\n\t'use strict';\r\n\r\n\t// Private static methods\r\n\r\n\tvar calcListOfMonitoredVwmParams = function (koList) {\r\n\t\treturn ko.unwrap(koList).filter(function (elem) {\r\n\t\t\treturn ko.unwrap(elem.mdlWfmParameterOfWroup.isMonitored);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Well group view model\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/stage-base}\r\n\t */\r\n\tvar exports = function (mdlWroup, parentVwmWield, defaultSlcData) {\r\n\t\tthis.mdlStage = mdlWroup;\r\n\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn parentVwmWield;\r\n\t\t};\r\n\r\n\t\tthis.unq = mdlWroup.id;\r\n\r\n\t\tthis.defaultSlcData = defaultSlcData;\r\n\r\n\t\t// Has sections and widgets\r\n\t\tVwmStageBase.call(this, defaultSlcData.wroupSectionId, parentVwmWield.unqOfSlcVwmChild, defaultSlcData.wellId);\r\n\r\n\t\t/**\r\n\t\t * List of viewmodels of wfm parameters of well group\r\n\t\t * @type {Array.<module:viewmodels/wfm-parameter-of-wroup>}\r\n\t\t */\r\n\t\tthis.listOfVwmWfmParameterOfWroup = ko.computed({\r\n\t\t\t\tread : this.calcListOfVwmWfmParameterOfWroup,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * WFM parameter which user select from unselected wfm parameter list (from root)\r\n\t\t */\r\n\t\tthis.slcWfmParameter = ko.observable();\r\n\r\n\t\t// wfm parameter from main source which is not in this group\r\n\t\tthis.unselectedWfmParameterList = ko.computed({\r\n\t\t\t\tread : this.calcUnselectedWfmParameterList,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//{ #region MONITORING\r\n\r\n\t\t/**\r\n\t\t * List of monitoring params (params of wroup)\r\n\t\t * @type {Array.<module:viewmodels/wfm-parameter-of-wroup>}\r\n\t\t */\r\n\t\tthis.listOfMonitoredVwmParams = ko.computed({\r\n\t\t\t\tread : calcListOfMonitoredVwmParams.bind(null, this.listOfVwmWfmParameterOfWroup),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : true\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * A selected date for the monitoring section\r\n\t\t *    By default: current date in unix time (set when the section is loaded)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.monitoringUnixTime = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Whether a current view (table) show montly procents\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isMonthlyProcentView = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Toggle between a values view and a montly procent view\r\n\t\t */\r\n\t\tthis.turnOnMonthlyProcentView = function () {\r\n\t\t\tthis.isMonthlyProcentView(true);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Toggle between a values view and a montly procent view\r\n\t\t */\r\n\t\tthis.turnOffMonthlyProcentView = function () {\r\n\t\t\tthis.isMonthlyProcentView(false);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Load monitoring data when the user select some date\r\n\t\t */\r\n\t\tthis.monitoringUnixTime.subscribe(this.reloadMonitoringRecords, this);\r\n\r\n\t\t/**\r\n\t\t * Reload monitoring records when the user change monitoring parameters\r\n\t\t */\r\n\t\tthis.listOfMonitoredVwmParams.subscribe(this.reloadMonitoringRecords, this);\r\n\r\n\t\t//} #endregion MONITORING\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\t/**\r\n\t * Create well\r\n\t */\r\n\texports.prototype.postVwmWell = function () {\r\n\t\tvar ths = this;\r\n\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\t$(inputName).prop({\r\n\t\t\t'required' : true\r\n\t\t}).addClass('form-control');\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\t\t$(innerDiv).addClass('form-horizontal').append(modalHelper.gnrtDom('Name', inputName));\r\n\r\n\t\tfunction submitFunction() {\r\n\t\t\tvar tmpName = $(inputName).val();\r\n\t\t\tif (tmpName) {\r\n\t\t\t\tths.mdlStage.postWell(tmpName, function () {});\r\n\t\t\t\tmodalHelper.closeModalWindow();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmodalHelper.openModalWindow('Well', innerDiv, submitFunction);\r\n\t};\r\n\r\n\t/**\r\n\t * Set this section as selected\r\n\t * @param {string} idOfSectionPattern - Id of a section pattern, like 'well-map'\r\n\t */\r\n\texports.prototype.loadSectionContent = function (idOfSectionPattern) {\r\n\t\tvar ths = this;\r\n\r\n\t\tswitch (idOfSectionPattern) {\r\n\t\tcase 'wroup-unit':\r\n\t\t\t// Params (table headers)\r\n\t\t\tths.mdlStage.loadListOfWfmParameterOfWroup();\r\n\t\t\tbreak;\r\n\t\tcase 'wroup-potential':\r\n\t\t\t// Params (table headers)\r\n\t\t\tths.mdlStage.loadListOfWfmParameterOfWroup();\r\n\r\n\t\t\t// Test data (table body)\r\n\t\t\tko.unwrap(ths.mdlStage.wells).forEach(function (elem) {\r\n\t\t\t\telem.loadListOfTestScope();\r\n\t\t\t});\r\n\r\n\t\t\tbreak;\r\n\t\tcase 'wroup-monitoring':\r\n\t\t\t// Params (table headers)\r\n\t\t\tths.mdlStage.loadListOfWfmParameterOfWroup();\r\n\t\t\t// - load list\r\n\t\t\t// - automatically creates list of monitoring parameters\r\n\t\t\t// - automatically loaded monitoring data (only for this well group)\r\n\r\n\t\t\t// Load procent borders\r\n\t\t\tths.mdlStage.loadProcentBordersForAllWells();\r\n\r\n\t\t\tvar prevUnixTime = ko.unwrap(ths.monitoringUnixTime);\r\n\r\n\t\t\tif (!prevUnixTime) {\r\n\t\t\t\tvar curDate = new Date();\r\n\t\t\t\tvar curUnixTime = Date.UTC(curDate.getFullYear(), curDate.getMonth(), curDate.getDate()) / 1000;\r\n\r\n\t\t\t\tprevUnixTime = curUnixTime;\r\n\t\t\t}\r\n\r\n\t\t\t// Reload data (set to null - then set to previous date (or current date if no previous date))\r\n\t\t\tths.monitoringUnixTime(null);\r\n\r\n\t\t\t// Set the current date and\r\n\t\t\t//     automatically loaded monitoring values for this date\r\n\t\t\tths.monitoringUnixTime(prevUnixTime);\r\n\r\n\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Remove a parameter\r\n\t * @param {module:viewmodels/wfm-parameter-of-wroup}\r\n\t */\r\n\texports.prototype.removeVwmWfmParameterOfWroup = function (vwmToRemove) {\r\n\t\t// This (with bind($parent)) - vwmStage - vwmWroup\r\n\t\t// First param is current parameter (in foreach)\r\n\t\tvar ths = this;\r\n\r\n\t\tconsole.log('Remove parameter {0} from {1}', vwmToRemove, this);\r\n\r\n\t\tvar tmpName = ko.unwrap(ko.unwrap(vwmToRemove.mdlWfmParameterOfWroup.wfmParameter).name);\r\n\t\tif (confirm('Are you sure you want to delete \"' + tmpName + '\"?')) {\r\n\t\t\tths.mdlStage.removeWfmParameterOfWroup(vwmToRemove.mdlWfmParameterOfWroup);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Build a list of viewmodels of childs */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.wells).map(function (elem) {\r\n\t\t\treturn new VwmWell(elem, this, this.defaultSlcData);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Add selected parameter to the main list\r\n\t */\r\n\texports.prototype.addWellGroupWfmParameter = function () {\r\n\t\tvar tmpWfmParam = ko.unwrap(this.slcWfmParameter);\r\n\r\n\t\tif (tmpWfmParam) {\r\n\t\t\tthis.mdlStage.postWfmParameterOfWroup(tmpWfmParam.id,\r\n\t\t\t\tko.unwrap(tmpWfmParam.defaultColor),\r\n\t\t\t\tko.unwrap(tmpWfmParam.uom));\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a group parameters\r\n\t * @private\r\n\t */\r\n\texports.prototype.calcListOfVwmWfmParameterOfWroup = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.listOfWfmParameterOfWroup).map(function (elem) {\r\n\t\t\treturn new VwmWfmParameterOfWroup(elem);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Func for upper filtering\r\n\t * @private\r\n\t */\r\n\tvar calcUnselectedItem = function (listOfParams, prmElem) {\r\n\t\tvar isParamExist = false;\r\n\t\tlistOfParams.forEach(function (wlgElem) {\r\n\t\t\tif (wlgElem.wfmParameterId === prmElem.id) {\r\n\t\t\t\tisParamExist = true;\r\n\t\t\t\t// break from arr\r\n\t\t\t\t//return false;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// return params which are not selected in this well group\r\n\t\treturn !isParamExist;\r\n\t};\r\n\r\n\t/**\r\n\t * Calc unchoosed parameters\r\n\t * @private\r\n\t */\r\n\texports.prototype.calcUnselectedWfmParameterList = function () {\r\n\t\t// two dimensioanl array\r\n\t\treturn ko.unwrap(this.mdlStage.getRootMdl().wfmParameterList)\r\n\t\t.filter(calcUnselectedItem.bind(null, ko.unwrap(this.mdlStage.listOfWfmParameterOfWroup)));\r\n\t};\r\n\r\n\t/**\r\n\t * Open well and select monitoring section\r\n\t */\r\n\texports.prototype.goToMonitoringOfWell = function (tmpVwmWell) {\r\n\t\t// Select monitoring section\r\n\t\ttmpVwmWell.unzOfSlcVwmSectionWrk('well-monitoring');\r\n\t\t// Load content (this event is triggered when an user click to the section)\r\n\t\ttmpVwmWell.loadSectionContent('well-monitoring');\r\n\r\n\t\t// Activate well view\r\n\t\tthis.activateVwmChild(tmpVwmWell);\r\n\t};\r\n\r\n\t/**\r\n\t * Open this wroup and select monitoring section\r\n\t */\r\n\texports.prototype.goToMonitoringOfWroup = function () {\r\n\t\t// Select monitoring section\r\n\t\tthis.unzOfSlcVwmSectionWrk('wroup-monitoring');\r\n\r\n\t\t// Load content (this event is triggered when an user click to the section)\r\n\t\tthis.loadSectionContent('wroup-monitoring');\r\n\r\n\t\t// Activate this wroup\r\n\t\tthis.getParentVwm().activateVwmChild(this);\r\n\t};\r\n\r\n\t/**\r\n\t * Get monitoring records\r\n\t *    after changing unix time\r\n\t *    or count of wfm properties\r\n\t *    or by generating new records from well\r\n\t */\r\n\texports.prototype.reloadMonitoringRecords = function () {\r\n\t\tvar tmpUnixTime = ko.unwrap(this.monitoringUnixTime);\r\n\t\tif (tmpUnixTime) {\r\n\t\t\tvar tmpListOfParams = ko.unwrap(this.mdlStage.listOfMonitoredParams);\r\n\r\n\t\t\tif (tmpListOfParams.length > 0) {\r\n\t\t\t\tthis.mdlStage.loadListOfScopeOfMonitoring(tmpUnixTime, tmpListOfParams);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/wield',['jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper',\r\n\t\t'helpers/app-helper',\r\n\t\t'viewmodels/wroup',\r\n\t\t'viewmodels/map-of-wield',\r\n\t\t'base-viewmodels/stage-base'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tmodalHelper,\r\n\t\tappHelper,\r\n\t\tVwmWroup,\r\n\t\tVwmMapOfWield,\r\n\t\tVwmStageBase) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * View for well field maps: contains filtered maps and selected map\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/stage-base}\r\n\t */\r\n\tvar exports = function (mdlWield, parentVwmWegion, defaultSlcData) {\r\n\t\t////* @param {object} opts - options for this view, like id of selected map, sort direction, filters etc.\r\n\t\t////* @param {Array.<module:models/map-of-wield>} koMapsOfWield - models for maps (knockout wrapped)\r\n\r\n\t\t/** Getter for a parent */\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn parentVwmWegion;\r\n\t\t};\r\n\r\n\t\tthis.defaultSlcData = defaultSlcData;\r\n\r\n\t\tthis.mdlStage = mdlWield;\r\n\r\n\t\tthis.unq = this.mdlStage.id;\r\n\r\n\t\t// Has sections and widgets\r\n\t\tVwmStageBase.call(this, defaultSlcData.wieldSectionId, parentVwmWegion.unqOfSlcVwmChild, defaultSlcData.wroupId);\r\n    \r\n\t\t/** The list of views of maps of this well field view*/\r\n\t\tthis.listOfVwmMapOfWield = ko.computed({\r\n\t\t\t\tread : this.buildListOfVwmMapOfWield,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** A sorted list */\r\n\t\tthis.sortedListOfVwmMapOfWield = ko.computed({\r\n\t\t\t\tread : this.getSortedVwmMaps,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Id of selected view of map of well field = id of map */\r\n\t\tthis.vidOfSlcVwmMapOfWield = ko.observable();\r\n\r\n\t\t/** The selected view of a map of the well field */\r\n\t\tthis.slcVwmMapOfWield = ko.computed({\r\n\t\t\t\tread : this.getSlcVwmMapOfWield,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\t/** Select view */\r\n\texports.prototype.selectVwmMapOfWield = function (vwmMapOfWieldToSelect) {\r\n\t\tthis.vidOfSlcVwmMapOfWield(vwmMapOfWieldToSelect.vid);\r\n\t};\r\n\r\n\t/** Set this section as selected */\r\n\texports.prototype.loadSectionContent = function (idOfSectionPattern) {\r\n\t\tswitch (idOfSectionPattern) {\r\n\t\tcase 'wield-map':\r\n\t\t\t// Get all maps from this field\r\n\t\t\tthis.mdlStage.loadMapsOfWield();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Get maps, sorted by name */\r\n\texports.prototype.getSortedVwmMaps = function () {\r\n\t\t// Sort by name\r\n\t\treturn ko.unwrap(this.listOfVwmMapOfWield).sort(function (a, b) {\r\n\t\t\treturn ko.unwrap(a.mdlMapOfWield.name) > ko.unwrap(b.mdlMapOfWield.name);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Create a new well group */\r\n\texports.prototype.addVwmWroup = function () {\r\n\t\tvar ths = this;\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\t$(inputName).prop({\r\n\t\t\t'required' : true\r\n\t\t}).addClass('form-control');\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\tmodalHelper.gnrtDom('Name', inputName));\r\n\r\n\t\tfunction submitFunction() {\r\n\t\t\tths.mdlStage.postWroup($(inputName).val());\r\n\r\n\t\t\tmodalHelper.closeModalWindow();\r\n\t\t}\r\n\r\n\t\tmodalHelper.openModalWindow('Well group', innerDiv, submitFunction);\r\n\t};\r\n\r\n\t/** Remove a viewmodel with model */\r\n\texports.prototype.removeVwmMapOfWield = function (vwmMapOfWield) {\r\n\t\tvar tmpModel = vwmMapOfWield.mdlMapOfWield;\r\n\t\tif (confirm('Are you sure you want to delete \"' + ko.unwrap(tmpModel.name) + '\"?')) {\r\n\t\t\tthis.mdlStage.removeMapOfWield(tmpModel);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Create map from file\r\n\t */\r\n\texports.prototype.createMapFromFile = function () {\r\n\t\tthis.unzOfSlcVwmSectionFmg(this.mdlStage.stageKey + '-map');\r\n\t\tvar ths = this;\r\n\t\tfunction mgrCallback() {\r\n\t\t\tths.fmgrModal.okError('');\r\n\r\n\t\t\tvar tmpSlcVwmSection = ko.unwrap(ths.slcVwmSectionFmg);\r\n\r\n\t\t\tif (!tmpSlcVwmSection) {\r\n\t\t\t\tthrow new Error('No selected section');\r\n\t\t\t}\r\n\r\n\t\t\t// Select file from file manager\r\n\t\t\tvar selectedFileSpecs = ko.unwrap(tmpSlcVwmSection.mdlSection.listOfFileSpec).filter(function (elem) {\r\n\t\t\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t\t\t});\r\n\r\n\t\t\tif (selectedFileSpecs.length !== 1) {\r\n\t\t\t\tths.fmgrModal.okError('need to select one file');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tths.mdlStage.postMapOfWield(selectedFileSpecs[0].id, ko.unwrap(selectedFileSpecs[0].name), function () {\r\n\t\t\t\tths.fmgrModal.hide();\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// Add to observable\r\n\t\tths.fmgrModal.okCallback(mgrCallback);\r\n\r\n\t\t// Notification\r\n\t\tths.fmgrModal.okDescription('Please select a file for a map');\r\n\r\n\t\t// Open file manager\r\n\t\tths.fmgrModal.show();\r\n\t};\r\n\r\n\t/** Get the selected viewmodel of a map of a well field */\r\n\texports.prototype.getSlcVwmMapOfWield = function () {\r\n\t\tvar tmpVid = ko.unwrap(this.vidOfSlcVwmMapOfWield);\r\n\t\tvar tmpListOfVwm = ko.unwrap(this.sortedListOfVwmMapOfWield);\r\n\t\tif (tmpVid) {\r\n\t\t\treturn tmpListOfVwm.filter(function (elem) {\r\n\t\t\t\treturn elem.vid === tmpVid;\r\n\t\t\t})[0];\r\n\t\t\t// CAUTION: few viewmodels from one field model\r\n\t\t} else {\r\n\t\t\tvar tmpFirstVwm = tmpListOfVwm[0];\r\n\t\t\tif (tmpFirstVwm) {\r\n\t\t\t\tthis.vidOfSlcVwmMapOfWield(tmpFirstVwm.vid);\r\n\t\t\t\t// Select first map if no selected\r\n\t\t\t\treturn tmpFirstVwm;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/** Build the list of viewmodels of maps */\r\n\texports.prototype.buildListOfVwmMapOfWield = function () {\r\n\t\tvar ths = this;\r\n\t\treturn ko.unwrap(this.mdlStage.WellFieldMaps).map(function (elem) {\r\n\t\t\t// Check if the viewmodel exists, then replace instead creation\r\n\t\t\treturn new VwmMapOfWield(elem, ths.vidOfSlcVwmMapOfWield, ko.observable({\r\n\t\t\t\t\tscale : 1,\r\n\t\t\t\t\ttranslate : [0, 0]\r\n\t\t\t\t}));\r\n\t\t});\r\n\t};\r\n\r\n\t/** Build the list of childs (well groups) */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\tvar ths = this;\r\n\t\treturn ko.unwrap(this.mdlStage.wroups).map(function (elem) {\r\n\t\t\treturn new VwmWroup(elem, ths, ths.defaultSlcData);\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/wegion',['jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/modal-helper',\r\n\t\t'helpers/app-helper',\r\n\t\t'viewmodels/wield',\r\n\t\t'base-viewmodels/stage-base'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tbootstrapModal,\r\n\t\tappHelper,\r\n\t\tVwmWield,\r\n\t\tVwmStageBase) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Well region view model\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/stage-base}\r\n\t */\r\n\tvar exports = function (mdlWegion, parentVwmCompany, defaultSlcData) {\r\n\t\t/**\r\n\t\t * Model wegion\r\n\t\t * @type {module:models/wegion}\r\n\t\t */\r\n\t\tthis.mdlStage = mdlWegion;\r\n\r\n\t\t/** Default data to select */\r\n\t\tthis.defaultSlcData_ = defaultSlcData;\r\n\r\n\t\t/** Unique id for view */\r\n\t\tthis.unq = this.mdlStage.id;\r\n\r\n\t\t/**\r\n\t\t * Get a parent viewmodel\r\n\t\t * @type {module:viewmodels/company}\r\n\t\t */\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn parentVwmCompany;\r\n\t\t};\r\n\r\n\t\tVwmStageBase.call(this, this.defaultSlcData_.wegionSectionId, parentVwmCompany.unqOfSlcVwmChild, this.defaultSlcData_.wieldId);\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\t/** Add new well field model and viewmodel */\r\n\texports.prototype.addVwmWield = function () {\r\n\t\tvar ths = this;\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\t$(inputName).prop({\r\n\t\t\t'required' : true\r\n\t\t}).addClass('form-control');\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\r\n\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\tbootstrapModal.gnrtDom('Name', inputName));\r\n\r\n\t\tfunction submitFunction() {\r\n\t\t\tths.mdlStage.postWield($(inputName).val());\r\n\t\t\tbootstrapModal.closeModalWindow();\r\n\t\t}\r\n\r\n\t\tbootstrapModal.openModalWindow('Well field', innerDiv, submitFunction);\r\n\t};\r\n\r\n\t/**\r\n\t * Build a list of viewmodels of childs\r\n\t * @returns {module:viewmodels/wield}\r\n\t */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\treturn ko.unwrap(this.mdlStage.wields).map(function (elem) {\r\n\t\t\treturn new VwmWield(elem, this, this.defaultSlcData_);\r\n\t\t}, this);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/company',['jquery',\r\n\t\t'knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'helpers/modal-helper',\r\n\t\t'viewmodels/wegion',\r\n\t\t'base-viewmodels/stage-base'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tappHelper,\r\n\t\tmodalHelper,\r\n\t\tVwmWegion,\r\n\t\tVwmStageBase) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Company view model\r\n\t * @constructor\r\n\t * @augments {module:base-viewmodels/stage-base}\r\n\t */\r\n\tvar exports = function (mdlCompany, vwmUproParent, defaultSlcData) {\r\n\r\n\t\t/** Getter for a parent viewmodel */\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn vwmUproParent;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Company data model\r\n\t\t * @type {module:models/company}\r\n\t\t */\r\n\t\tthis.mdlStage = mdlCompany;\r\n\r\n\t\tthis.unq = this.mdlStage.id;\r\n\r\n\t\t/**\r\n\t\t * Default values for selection\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis.defaultSlcData_ = defaultSlcData;\r\n\r\n\t\t/**\r\n\t\t * Base for all stages: with selected view of wegion\r\n\t\t */\r\n\t\tVwmStageBase.call(this, this.defaultSlcData_.companySectionId, vwmUproParent.unqOfSlcVwmChild, this.defaultSlcData_.wegionId);\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\t/** Build a list of children */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\tvar tmpListOfMdlWegion = ko.unwrap(this.mdlStage.wegions);\r\n\t\treturn tmpListOfMdlWegion.map(function (elem) {\r\n\t\t\treturn new VwmWegion(elem, this, this.defaultSlcData_);\r\n\t\t}, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Open a window to add well region\r\n\t */\r\n\texports.prototype.prePostVwmWegion = function () {\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\tvar jqrInput = $(inputName);\r\n\t\tjqrInput.prop({\r\n\t\t\t'required' : true\r\n\t\t}).addClass('form-control');\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\tmodalHelper.gnrtDom('Name', inputName));\r\n\r\n\t\tmodalHelper.openModalWindow('Well region',\r\n\t\t\tinnerDiv,\r\n\t\t\tthis.postVwmWegion.bind(this, jqrInput));\r\n\t};\r\n\r\n\texports.prototype.postVwmWegion = function (jqrInput) {\r\n\t\tthis.mdlStage.postWegion(jqrInput.val(), this.successPostVwmWegion.bind(this));\r\n\t};\r\n\r\n\texports.prototype.successPostVwmWegion = function (dataOfWegion) {\r\n\t\tthis.mdlStage.pushWegion(dataOfWegion);\r\n\t\tmodalHelper.closeModalWindow();\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('viewmodels/employee',['knockout',\r\n    'viewmodels/company'],\r\n    function (ko,\r\n        VwmCompany) {\r\n        'use strict';\r\n\r\n        /**\r\n        * Employee view model (user in company)\r\n        * @constructor\r\n        * @param {string} koUnqOfSlcVwmStage - Id of Selected view of employee in user-profile\r\n        */\r\n        var exports = function (mdlEmployee, vwmUproParent, defaultSlcData) {\r\n            var ths = this;\r\n\r\n            //koUnqOfSlcVwmStage\r\n            //unqOfSlcVwmChild\r\n            /**\r\n            * Data model for employee\r\n            * @type {module:models/employee}\r\n            */\r\n            this.mdlEmployee = mdlEmployee;\r\n\r\n            /**\r\n            * Main view model for company\r\n            * @type {module:viewmodels/company}\r\n            */\r\n            this.vwmCompany = new VwmCompany(ths.mdlEmployee.company, vwmUproParent, defaultSlcData);\r\n\r\n            /** Unique id of view: id of employee = id of company */\r\n            this.unq = ths.vwmCompany.unq;\r\n\r\n            /**\r\n            * Whether edit mode is turn on\r\n            * @type {boolean}\r\n            */\r\n            this.isEditMode = ko.observable(false);\r\n\r\n            /** Toggle edit mode: only if user can edit all */\r\n            this.toggleEditMode = function () {\r\n                if (ths.mdlEmployee.canEditAll) {\r\n                    ths.isEditMode(!ko.unwrap(ths.isEditMode));\r\n                }\r\n            };\r\n        };\r\n\r\n        return exports;\r\n    });\n","/** @module */\r\ndefine('viewmodels/user-profile',['knockout',\r\n\t\t'viewmodels/employee',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-viewmodels/stage-base'],\r\n\tfunction (ko,\r\n\t\tVwmEmployee,\r\n\t\tappHelper,\r\n\t\tVwmStageBase) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * User profile (can be as a guest - without logon)\r\n\t * @constructor\r\n\t * @param {object} defaultSlcData - Ids of models, which need to select automatically\r\n\t */\r\n\tvar exports = function (mdlUserProfile, defaultSlcData) {\r\n\r\n\t\t/**\r\n\t\t * Default data to select\r\n\t\t * @type {Object}\r\n\t\t * @private\r\n\t\t */\r\n\t\tthis.defaultSlcData_ = defaultSlcData;\r\n\r\n\t\t/**\r\n\t\t * No parent in userprofile: need only for StageBase behavior\r\n\t\t */\r\n\t\tthis.getParentVwm = function () {\r\n\t\t\treturn null;\r\n\t\t};\r\n\r\n\t\t// 1. Create model\r\n\t\t// 2.1 Create viewmodel, using model\r\n\t\t// 2.2 Start to load data to model (all employees)\r\n\r\n\t\t/**\r\n\t\t * Link to user profile data model\r\n\t\t * @type {module:models/user-profile}\r\n\t\t */\r\n\t\tthis.mdlStage = mdlUserProfile;\r\n\r\n\t\t/**\r\n\t\t * Unique value of this viewmodel (user profile's guid)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.unq = this.mdlStage.id;\r\n\r\n\t\t// 1. null - No default data to selection  (only one per website)\r\n\t\t// 2. If no other userprofiles then this upro is selected always\r\n\t\tVwmStageBase.call(this, null, ko.observable(this.unq), this.defaultSlcData_.companyId);\r\n\r\n\t\t// Other stagebase view\r\n\t\t// Has no sections and widgets - StageChildBase\r\n\t\t// Has no parent with few user profiles - StageParentBase\r\n\r\n\t\t/** Start to load inner data after creation user */\r\n\t\tthis.mdlStage.loadEmployees();\r\n\t};\r\n\r\n\t/** Inherit from a stage base viewmodel */\r\n\tappHelper.inherits(exports, VwmStageBase);\r\n\r\n\t/** Build a list of children */\r\n\texports.prototype.buildListOfVwmChild = function () {\r\n\t\tvar listOfMdlEmployee = ko.unwrap(this.mdlStage.employees);\r\n\t\treturn listOfMdlEmployee.map(function (elem) {\r\n\t\t\treturn new VwmEmployee(elem, this, this.defaultSlcData_);\r\n\t\t}, this);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('constants/global-css-constants',['require','exports','module'],function (require, exports, module) {\n/** @module constants/uom-constants */\r\n\r\n'use strict';\r\n\r\n/**\r\n * Css\r\n */\r\nexports = [{\r\n\t\tpath : 'css/main-light.css',\r\n\t\tlbl : 'Light theme'\r\n\t}, {\r\n\t\tpath : 'css/main-dark.css',\r\n\t\tlbl : 'Dark theme'\r\n\t}\r\n];\r\n\r\nmodule.exports = exports;\r\n\n});\n","define('viewmodels/workspace',['require','exports','module','jquery','knockout','helpers/history-helper','helpers/cookie-helper','viewmodels/user-profile','constants/global-css-constants'],function (require, exports, module) {\n/** @module viewmodels/workspace */\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar ko = require('knockout');\r\nvar historyHelper = require('helpers/history-helper');\r\nvar cookieHelper = require('helpers/cookie-helper');\r\nvar VwmUserProfile = require('viewmodels/user-profile');\r\nvar globalCssCnst = require('constants/global-css-constants');\r\n\r\n// http://stackoverflow.com/questions/8648892/convert-url-parameters-to-a-javascript-object\r\nfunction calcObjFromUrl(search) {\r\n\treturn search ? JSON.parse('{\"' + search.replace(/&/g, '\",\"').replace(/=/g, '\":\"') + '\"}',\r\n\t\tfunction (key, value) {\r\n\t\treturn key === \"\" ? value : decodeURIComponent(value);\r\n\t}) : {};\r\n}\r\n\r\nfunction handleAuthResult(nextFunc, authResult) {\r\n\tvar resultObj = calcObjFromUrl(authResult);\r\n\tconsole.log(resultObj);\r\n\t// Send a code to the api (change to sid)\r\n\r\n\tvar options = {\r\n\t\tcache : false,\r\n\t\ttype : 'POST',\r\n\t\t// need for CORS requests without preflight request\r\n\t\tcontentType : 'application/x-www-form-urlencoded; charset=UTF-8',\r\n\t\tdata : 'code=' + resultObj.code,\r\n\t\txhrFields : {\r\n\t\t\t// For CORS request to send cookies\r\n\t\t\twithCredentials : true\r\n\t\t}\r\n\t};\r\n\r\n\t$.ajax('//wfm-report.herokuapp.com' + '/api/session-manager', options).done(function (rr) {\r\n\t\tconsole.log('response from wfm-node', rr);\r\n\t\tnextFunc();\r\n\t}).fail(function (errr) {\r\n\t\tconsole.log('error from wfm-node', errr);\r\n\t\t//if (jqXhr.status === 422) {\r\n\t\t//  err = langHelper.translate(jqXhr.responseJSON.errId) || 'unknown error');\r\n\t\t//}\r\n\t});\r\n}\r\n\r\nvar cbkAuthInterval = function (redirectUri, authScope, next) {\r\n\tvar authLocation = authScope.authWindow.location;\r\n\r\n\tvar authLocationHref;\r\n\t// Uncaught SecurityError: Blocked a frame with origin \"http://127.0.0.1:12345\" from accessing\r\n\t// a frame with origin \"http://localhost:1337\". Protocols, domains, and ports must match.\r\n\ttry {\r\n\t\tauthLocationHref = authLocation.href;\r\n\t} catch (errSecurity) {}\r\n\r\n\tconsole.log(authLocationHref);\r\n\r\n\tif (authLocationHref) {\r\n\t\tvar hrefParts = authLocationHref.split('?');\r\n    \r\n    // if https://some.ru -> //some.ru\r\n\t\tif (hrefParts[0].indexOf(redirectUri) >= 0) {\r\n\t\t\t// Get code or error\r\n\t\t\tvar authResponse = hrefParts[1];\r\n\r\n\t\t\tclearInterval(authScope.authInterval);\r\n\t\t\t// Close popup\r\n\t\t\tauthScope.authWindow.close();\r\n\r\n\t\t\tnext(authResponse);\r\n\t\t}\r\n\t}\r\n\r\n};\r\n\r\nvar openAuthWindow = function (next) {\r\n\tvar redirectUri = '//wfm-client.azurewebsites.net' + '/handle-auth-code.html';\r\n\r\n\t// Object to catch changes in bind method\r\n\tvar authScope = {\r\n\t\tauthWindow : null,\r\n\t\tauthInterval : null\r\n\t};\r\n\r\n\tauthScope.authInterval = setInterval(cbkAuthInterval.bind(null, redirectUri, authScope, next), 1000);\r\n\r\n\tauthScope.authWindow = window.open('//petrohelp-auth.herokuapp.com' + '/dialog/authorize?response_type=code&client_id=abc123&redirect_uri=' + redirectUri, '_blank',\r\n\t\t\t'location=yes,height=570,width=520,scrollbars=yes,status=yes');\r\n};\r\n\r\n/**\r\n * A workspace view model: a root for knockout\r\n * @constructor\r\n */\r\nexports = function (mdlWorkspace) {\r\n\t/** Data model for this view */\r\n\tthis.mdlWorkspace = mdlWorkspace;\r\n\r\n\t/**\r\n\t * Whether left tree menu with well regions, groups, fields, wells is visible\r\n\t * @type {boolean}\r\n\t */\r\n\tthis.isVisibleMenu = ko.observable(true);\r\n\r\n\t/**\r\n\t * List of global csses\r\n\t *    from constants\r\n\t * @type {Array.<Object>}\r\n\t */\r\n\tthis.listOfGlobalCss = globalCssCnst;\r\n\r\n\t/**\r\n\t * Current global css\r\n\t * @type {string}\r\n\t */\r\n\tthis.curGlobalCss = ko.observable(null);\r\n\r\n\tthis.curGlobalCss.subscribe(this.changeGlobalCss, this);\r\n\r\n\t// /**\r\n\t// * Global css for the site\r\n\t// * @type {string}\r\n\t// */\r\n\t// this.wfmGlobalCss = ko.computed({\r\n\t// read : this.calcWfmGlobalCss,\r\n\t// deferEvaluation : true,\r\n\t// owner : this\r\n\t// });\r\n\r\n\tthis.sidebarWrapCss = ko.computed({\r\n\t\t\tread : this.calcSidebarWrapCss,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.workAreaCss = ko.computed({\r\n\t\t\tread : this.calcWorkAreaCss,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.sidebarToggleCss = ko.computed({\r\n\t\t\tread : this.calcSidebarToggleCss,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\t/**\r\n\t * Whether current employee in edit mode: fast access for view\r\n\t * @type {boolean}\r\n\t */\r\n\tthis.isEmployeeInEditMode = ko.computed({\r\n\t\t\tread : this.calcIsEmployeeInEditMode,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\t/**\r\n\t * Data from url to select need stages and sections: initialUrlData\r\n\t * @private\r\n\t */\r\n\tthis.defaultSlcData_ = historyHelper.getInitialData(document.location.hash.substring(1));\r\n\r\n\t/**\r\n\t * User profile view model\r\n\t * @type {module:viewmodels/user-profile}\r\n\t */\r\n\tthis.vwmUserProfile = ko.computed({\r\n\t\t\tread : this.buildVwmUserProfile,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\t/**\r\n\t * Changes when you click to Login button\r\n\t *    Back to false, when login proccess is ended\r\n\t * @type {Boolean}\r\n\t */\r\n\tthis.isLoginInProgress = ko.observable(false);\r\n\r\n\t/**\r\n\t * After initialization: try to load user\r\n\t * @todo #43! try to move to init commands, instead this model\r\n\t */\r\n\tthis.mdlWorkspace.tryToLoadUserProfile();\r\n\r\n\t/** Back, forward, re   fresh browser navigation */\r\n\t// TODO: back\r\n\t////window.onpopstate = function () {\r\n\t////    var stateData = historyHelper.getInitialData(document.location.hash.substring(1));\r\n\t////    // When load any info - do not push info to history again\r\n\t////    stateData.isHistory = true;\r\n\t////    // Reload all data\r\n\t////    ths.initialUrlData(stateData);\r\n\r\n\t////    console.log('location: ' + document.location.hash + ', state: ' + JSON.stringify(stateData));\r\n\r\n\t////    ths.userProfile.loadUserProfile();\r\n\t////};\r\n};\r\n\r\nexports.prototype.openAuth = function () {\r\n\tvar ths = this;\r\n\tthis.isLoginInProgress(true);\r\n\topenAuthWindow(handleAuthResult.bind(null, function () {\r\n\t\t\tths.mdlWorkspace.setUserProfile({\r\n\t\t\t\tId : null,\r\n\t\t\t\t// TODO^ #33! get email from the server\r\n\t\t\t\tEmail : 'todo@change.email',\r\n\t\t\t\tRoles : null\r\n\t\t\t});\r\n\t\t\tths.isLoginInProgress(false);\r\n\t\t}));\r\n};\r\n\r\n/**\r\n * End the session\r\n *    Logoff only from current cabinet (now, logic may changed)\r\n */\r\nexports.prototype.accountLogOff = function () {\r\n\tthis.mdlWorkspace.accountLogOff();\r\n};\r\n\r\n/** Build a viewmodel for user profile */\r\nexports.prototype.buildVwmUserProfile = function () {\r\n\tvar tmpMdlUserProfile = ko.unwrap(this.mdlWorkspace.userProfile);\r\n\tif (tmpMdlUserProfile) {\r\n\t\treturn new VwmUserProfile(tmpMdlUserProfile, this.defaultSlcData_);\r\n\t}\r\n};\r\n\r\n// Left tree menu with well regions, groups, fields, wells\r\nexports.prototype.toggleIsVisibleMenu = function () {\r\n\tthis.isVisibleMenu(!ko.unwrap(this.isVisibleMenu));\r\n};\r\n\r\n/**\r\n * Calculate, whether the employee in an edit mode\r\n * @returns {boolean}\r\n */\r\nexports.prototype.calcIsEmployeeInEditMode = function () {\r\n\tvar tmpVwmUserProfile = ko.unwrap(this.vwmUserProfile);\r\n\tif (tmpVwmUserProfile) {\r\n\t\tvar tmpEmployee = ko.unwrap(tmpVwmUserProfile.slcVwmChild);\r\n\t\tif (tmpEmployee) {\r\n\t\t\treturn ko.unwrap(tmpEmployee.isEditMode);\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * Calculate css for sidebar\r\n * @returns {string}\r\n */\r\nexports.prototype.calcSidebarToggleCss = function () {\r\n\treturn ko.unwrap(this.isVisibleMenu) ? 'sidebar-toggle-visible' : 'sidebar-toggle-hidden';\r\n};\r\n\r\n/**\r\n * Calculate css for a work area\r\n * @returns {string}\r\n */\r\nexports.prototype.calcWorkAreaCss = function () {\r\n\treturn ko.unwrap(this.isVisibleMenu) ? 'work-area' : '';\r\n};\r\n\r\n/**\r\n * Calculate css for a sidebar wrap\r\n * @returns {string}\r\n */\r\nexports.prototype.calcSidebarWrapCss = function () {\r\n\treturn ko.unwrap(this.isVisibleMenu) ? 'sidebar-wrap-visible' : 'hidden';\r\n};\r\n\r\n/**\r\n * Change href of the link in the head of the site\r\n *    change cookie\r\n */\r\nexports.prototype.changeGlobalCss = function (choosedCss) {\r\n\tif (!choosedCss) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar styleLinkElem = document.getElementById('wfm-style-link');\r\n\tstyleLinkElem.href = choosedCss.path + '?0.9.9';\r\n\r\n\tcookieHelper.createCookie('wfmstylelink', choosedCss.path, 30);\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/**\r\n * @module\r\n * @todo #33! Update filter by typing with delay\r\n *       update knockout to 3.1 firstly with a new method\r\n */\r\ndefine('models/file-spec',['knockout',\r\n\t\t'moment',\r\n\t\t'helpers/file-helper'],\r\n\tfunction (ko,\r\n\t\tappMoment,\r\n\t\tfileHelper) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * File specification\r\n\t * @param {object} data - File specification data\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * File guid\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * File url: generating on the server\r\n\t\t *    without right part, like /api/sections/some-file-id\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.fileUrl = '//wfm-report.herokuapp.com' + data.FileUrl;\r\n\r\n\t\t/**\r\n\t\t * File name (255)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t/**\r\n\t\t * File extension\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.extension = data.Extension;\r\n\r\n\t\t/**\r\n\t\t * Content type\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.contentType = data.ContentType;\r\n\r\n\t\t/**\r\n\t\t * File creation datetime, unix timestamp, in seconds\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.createdUnixTime = data.CreatedUnixTime;\r\n\r\n\t\t/**\r\n\t\t * File size, bytes,\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.length = data.Length;\r\n\r\n\t\t/**\r\n\t\t * Image width, in pixels (null for non-images)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.imgWidth = data.ImgWidth;\r\n\r\n\t\t/**\r\n\t\t * Image height, in pixels (null for non-images)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.imgHeight = data.ImgHeight;\r\n\r\n\t\t/**\r\n\t\t * File size, kilobytes\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.lengthInKb = parseInt(this.length / 1024, 10);\r\n\r\n\t\t/////**\r\n\t\t////* Image ratio, like 3*4 (null for non-images)\r\n\t\t////* @type {number}\r\n\t\t////*/\r\n\t\t////this.imgRatio = (ths.imgHeight && ths.imgWidth) ? (ths.imgWidth / ths.imgHeight) : null;\r\n\r\n\t\t/**\r\n\t\t * Full file decription for files on small screen\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.fullTitle = 'Size: ' + this.length +\r\n\t\t\t' bytes\\nExtension: ' + this.extension +\r\n\t\t\t'\\nCreated: ' + appMoment(this.createdUnixTime * 1000).format('YYYY-MM-DD HH:mm:ss');\r\n\r\n\t\t/** Name plus extension */\r\n\t\tthis.namePlusExtension = ko.computed({\r\n\t\t\t\tread : this.calcNamePlusExtension,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether file is selected (in file manager): TODO: create view for non-model properties\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSelected = ko.observable(false);\r\n\t};\r\n\r\n\t/** Calculate a full name of the file */\r\n\texports.prototype.calcNamePlusExtension = function () {\r\n\t\treturn ko.unwrap(this.name) + ko.unwrap(this.extension);\r\n\t};\r\n\r\n\t/** Convert to plain js */\r\n\texports.prototype.toPlainFileSpec = function () {\r\n\t\treturn {\r\n\t\t\tId : this.id,\r\n\t\t\tName : ko.unwrap(this.name),\r\n\t\t\tExtension : ko.unwrap(this.extension),\r\n\t\t\tCreatedUnixTime : ko.unwrap(this.createdUnixTime),\r\n\t\t\tLength : ko.unwrap(this.length),\r\n\t\t\tImgWidth : ko.unwrap(this.imgWidth),\r\n\t\t\tImgHeight : ko.unwrap(this.imgHeight)\r\n\t\t};\r\n\t};\r\n\r\n\t/** Download file */\r\n\texports.prototype.download = function () {\r\n\t\tfileHelper.downloadURL(this.fileUrl);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/widget',['helpers/ajax-request', 'constants/stage-constants'], function (ajaxRequest, stageConstants) {\r\n    'use strict';\r\n\r\n    /** Generate url for widget layout service */\r\n    var url = function (stageKey, idOfWidgock, idOfWidget) {\r\n        if (!stageConstants[stageKey]) { throw new ReferenceError('No such key for stage constants: ' + stageKey); }\r\n        return '//wfm-report.herokuapp.com/api/' + stageConstants[stageKey].plural + '/widget-blocks/' + idOfWidgock + '/widgets' + (idOfWidget ? ('/' + idOfWidget) : '');\r\n    };\r\n\r\n    /**\r\n    * Widget service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (stageKey, idOfWidgock, idOfWidget) {\r\n            return ajaxRequest('GET', url(stageKey, idOfWidgock, idOfWidget));\r\n        },\r\n        post: function (stageKey, idOfWidgock, widgetData) {\r\n            return ajaxRequest('POST', url(stageKey, idOfWidgock), widgetData);\r\n        },\r\n        put: function (stageKey, idOfWidgock, idOfWidget, widgetData) {\r\n            return ajaxRequest('PUT', url(stageKey, idOfWidgock, idOfWidget), widgetData);\r\n        },\r\n        remove: function (stageKey, idOfWidgock, idOfWidget) {\r\n            return ajaxRequest('DELETE', url(stageKey, idOfWidgock, idOfWidget));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('base-models/widget-base',['knockout',\r\n\t\t'services/widget'], function (ko, widgetService) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Widget: a base class for all widgets\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/** Getter for a parent */\r\n\t\tthis.getWidgock = function () {\r\n\t\t\treturn widgockItem;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Widget id\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\t\tthis.name = ko.observable(data.Name);\r\n\t\tthis.idOfSectionPattern = data.IdOfSectionPattern;\r\n\t\tthis.widgockId = data.WidgockId;\r\n\t\tthis.orderNumber = ko.observable(data.OrderNumber);\r\n\r\n\t\tvar typeOfCntxStage = this.idOfSectionPattern.split('-')[0]; // 'wegion'; //'company';\r\n\r\n    // This is a hack for company GUIDs and other stage INTEGERS ids\r\n\t\tif (typeOfCntxStage !== 'company') {\r\n\t\t\tthis.idOfCntxStage = parseInt(data.IdOfCntxStage); //6002;\r\n\t\t} else {\r\n\t\t\tthis.idOfCntxStage = data.IdOfCntxStage; // 'd14f9c04-4875-4519-9acb-dfe6046355e0';\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * A context of a stage model.\r\n\t\t *     Need for cases, where user adds widget on other stages\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tthis.mdlStageContext = this.getWidgock().getWidgout().getParent().findCognateStage(typeOfCntxStage, this.idOfCntxStage);\r\n\r\n\t\t/**\r\n\t\t * Widget template name: for summary - default summary section\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.widgetTpl = 'widget-tpl-' + (this.idOfSectionPattern.indexOf('-summary') > 0 ? 'default-summary' : this.idOfSectionPattern);\r\n\t};\r\n\r\n\t/** Save widget */\r\n\texports.prototype.putWidget = function (scsCallback) {\r\n\t\twidgetService.put(this.getWidgock().getWidgout().getParent().stageKey, this.widgockId, this.id, {\r\n\t\t\tid : ko.unwrap(this.id),\r\n\t\t\tname : ko.unwrap(this.name),\r\n\t\t\tidOfSectionPattern : ko.unwrap(this.idOfSectionPattern),\r\n\t\t\twidgockId : ko.unwrap(this.widgockId),\r\n\t\t\torderNumber : ko.unwrap(this.orderNumber),\r\n\t\t\tidOfCntxStage : this.idOfCntxStage,\r\n\t\t\topts : this.toPlainOpts()\r\n\t\t}).done(scsCallback);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-default-summary',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Widget for summary info: for all stages\r\n\t * @constructor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\t/**\r\n\t\t * Options for widget, like {isVisName: true, ...}\r\n\t\t *    data.Opts cannot be null or undefined\r\n\t\t *    it is a temporary string for a quick access to set observable parameters\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tthis.tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * All summary properties for current stage\r\n\t\t * @todo #24! Possible error:\r\n\t\t *       Cannot read property 'propSpecList' of undefined\r\n     *       Error occurs, during loading application, \r\n     *       if user click to the dashboard before loading is finished\r\n\t\t */\r\n\t\tvar propSpecList = this.mdlStageContext.propSpecList;\r\n\r\n\t\t/**\r\n\t\t * Widget options: 'IsVis' + stage property\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {};\r\n\r\n\t\t/**\r\n\t\t * Fill properties\r\n\t\t */\r\n\t\tpropSpecList.forEach(this.setPropSpec, this);\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/**\r\n\t * Set prop specs for a summary\r\n\t */\r\n\texports.prototype.setPropSpec = function (propSpec) {\r\n\t\t// Properties without type not needed, like a helpfull prop for a company logo\r\n\t\tif (propSpec.tpe) {\r\n\t\t\tthis.opts['isVis' + propSpec.serverId] = ko.observable(this.tmpOpts['isVis' + propSpec.serverId]);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Convert to the option string\r\n\t */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** \r\n* @module \r\n* @todo #32! Sort by date, even one of date is pointed\r\n*       from StartDate\r\n*       till EndDate\r\n*/\r\ndefine('models/widget-well-history',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * History widget with date filter, asc or desc\r\n\t * @constructor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * Start unix time\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tstartDate : ko.observable(tmpOpts['startDate']),\r\n\t\t\t/**\r\n\t\t\t * End unix time\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tendDate : ko.observable(tmpOpts['endDate']),\r\n\t\t\t/**\r\n\t\t\t * Filtered id of job type\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tjobTypeId : ko.observable(tmpOpts['jobTypeId']),\r\n\t\t\t/**\r\n\t\t\t * A sort order (1 or -1), by default -1 (from newer to older)\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tsortByDateOrder : ko.observable(tmpOpts['sortByDateOrder'] || -1)\r\n\t\t};\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/** Convert to string */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-well-map',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base: widget model for map of well\r\n\t * @constuctor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * An option: id of a selected map\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tidOfSlcMapOfWield : ko.observable(tmpOpts['idOfSlcMapOfWield']),\r\n\t\t\t/**\r\n\t\t\t * An option: a transform attribute for a map\r\n\t\t\t * @type {Object}\r\n\t\t\t */\r\n\t\t\ttransform : ko.observable({\r\n\t\t\t\tscale : tmpOpts.transform ? (tmpOpts.transform.scale || 1) : 1,\r\n\t\t\t\ttranslate : tmpOpts.transform ? (tmpOpts.transform.translate || [0, 0]) : [0, 0]\r\n\t\t\t})\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * A dictionary (name, value) to select need map\r\n\t\t */\r\n\t\tthis.dictOfMapMarker = ko.computed({\r\n\t\t\t\tread : this.buildDictOfMapMarker,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/** Convert to plain JSON to send to the server as widget settings */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\t/** Build a dictionary with key-values */\r\n\texports.prototype.buildDictOfMapMarker = function () {\r\n\t\t// Markers from the well (filtered by IdOfWell and IsDrilled)\r\n\t\tvar tmpMarkers = ko.unwrap(this.mdlStageContext.listOfMapMarker);\r\n\t\treturn tmpMarkers.map(function (markerItem) {\r\n\t\t\treturn {\r\n\t\t\t\toptValue : ko.unwrap(markerItem.idOfMapOfWield),\r\n\t\t\t\toptText : ko.unwrap(markerItem.nameOfMap)\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-well-monitoring',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A monitoring widget\r\n\t * @constructor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * Start monitoring\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tstartUnixTime : ko.observable(tmpOpts['startUnixTime']),\r\n\t\t\t/**\r\n\t\t\t * End monitoring\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tendUnixTime : ko.observable(tmpOpts['endUnixTime'])\r\n\t\t};\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/**\r\n\t * Convert to JSON string to save options on the server\r\n\t */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-well-perfomance',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * A perfomance widget\r\n\t * @constructor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\t/**\r\n\t\t * Options for widget, like {isVisName: true, ...}\r\n\t\t *    data.Opts cannot be null or undefined\r\n\t\t *    it is a temporary string for a quick access to set observable parameters\r\n\t\t * @type {Object}\r\n\t\t */\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * Filter: start year\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tstartYear : ko.observable(tmpOpts['startYear']),\r\n\t\t\t/**\r\n\t\t\t * Filter: end year\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tendYear : ko.observable(tmpOpts['endYear']),\r\n      /**\r\n\t\t\t * Filter: start month\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tstartMonth : ko.observable(tmpOpts['startMonth']),\r\n      /**\r\n\t\t\t * Filter: end month\r\n\t\t\t * @type {number}\r\n\t\t\t */\r\n\t\t\tendMonth : ko.observable(tmpOpts['endMonth']),\r\n      /**\r\n\t\t\t * Filter: selected squad of params\r\n\t\t\t * @type {string}\r\n\t\t\t */\r\n\t\t\tselectedAttrGroupId : ko.observable(tmpOpts['selectedAttrGroupId']),\r\n      /**\r\n\t\t\t * Whether the forecast is visible\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tisVisibleForecastData : ko.observable(tmpOpts['isVisibleForecastData'])\r\n\t\t};\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/** Convert to string */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-well-sketch',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Model: widget for sketch (image plus desc)\r\n\t * @constructor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * Whether the skech image is visible\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tisVisImg : ko.observable(tmpOpts['isVisImg']),\r\n\t\t\t/**\r\n\t\t\t * Whether the description is visible\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tisVisDescription : ko.observable(tmpOpts['isVisDescription'])\r\n\t\t};\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/** Convert to plain JSON to send to the server as widget settings */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/widget-wield-map',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'base-models/widget-base'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tWidget) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Base: widget model for map of well field\r\n\t * @constuctor\r\n\t * @augments {module:base-models/widget-base}\r\n\t */\r\n\tvar exports = function (data, widgockItem) {\r\n\t\tWidget.call(this, data, widgockItem);\r\n\r\n\t\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t\t/**\r\n\t\t * Widget options\r\n\t\t * @enum {Object.<string, Object>}\r\n\t\t */\r\n\t\tthis.opts = {\r\n\t\t\t/**\r\n\t\t\t * Model id of selected map viewmodel\r\n\t\t\t */\r\n\t\t\tidOfSlcMapOfWield : ko.observable(tmpOpts['idOfSlcMapOfWield']),\r\n\t\t\t/**\r\n\t\t\t * Whether the name of a map is visible\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tisVisName : ko.observable(tmpOpts['isVisName']),\r\n\t\t\t/**\r\n\t\t\t * Whether the map is visible\r\n\t\t\t * @type {boolean}\r\n\t\t\t */\r\n\t\t\tisVisImg : ko.observable(tmpOpts['isVisImg']),\r\n\t\t\t/**\r\n\t\t\t * A transform attribute\r\n\t\t\t *    two parameters in one observable object, to don't repeat redrawing,\r\n\t\t\t *    when both params are updated\r\n\t\t\t * @type {Object}\r\n\t\t\t */\r\n\t\t\ttransform : ko.observable({\r\n\t\t\t\tscale : tmpOpts.transform ? (tmpOpts.transform.scale || 1) : 1,\r\n\t\t\t\ttranslate : tmpOpts.transform ? (tmpOpts.transform.translate || [0, 0]) : [0, 0]\r\n\t\t\t})\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Dictionary for select box (value, text) with maps\r\n\t\t */\r\n\t\tthis.dictOfMap = ko.computed({\r\n\t\t\t\tread : this.getDictOfMap,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a widget model */\r\n\tappHelper.inherits(exports, Widget);\r\n\r\n\t/** Convert to plain JSON to send to the server as widget settings */\r\n\texports.prototype.toPlainOpts = function () {\r\n\t\treturn ko.toJSON(this.opts);\r\n\t};\r\n\r\n\t/**\r\n\t * Get a dictionary for a select box (select map)\r\n\t */\r\n\texports.prototype.getDictOfMap = function () {\r\n\t\t// getWidgock().getWidgout().getParent()\r\n\t\tconsole.log('mdl stage context from dict of map', this.mdlStageContext);\r\n\t\tvar allMaps = ko.unwrap(this.mdlStageContext.WellFieldMaps);\r\n\t\treturn allMaps.map(function (elem) {\r\n\t\t\treturn {\r\n\t\t\t\toptValue : ko.unwrap(elem.id),\r\n\t\t\t\toptText : ko.unwrap(elem.name)\r\n\t\t\t};\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('models/widget-wield-stat',['require','exports','module','knockout','helpers/app-helper','base-models/widget-base'],function (require, exports, module) {\n/** @module models/widget-wield-stat */\r\n\r\n'use strict';\r\n\r\nvar ko = require('knockout');\r\nvar appHelper = require('helpers/app-helper');\r\nvar Widget = require('base-models/widget-base');\r\n\r\n/**\r\n * Base: widget model for statistics\r\n * @constuctor\r\n * @augments {module:base-models/widget-base}\r\n */\r\nexports = function (data, widgockItem) {\r\n\tWidget.call(this, data, widgockItem);\r\n\r\n\tvar tmpOpts = JSON.parse(data.Opts);\r\n\r\n\t/**\r\n\t * Widget options\r\n\t * @enum {Object.<string, Object>}\r\n\t */\r\n\tthis.opts = {\r\n\t\t/**\r\n\t\t * Whether the active/non-active diagram is showed\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tisVisWellActivity : ko.observable(tmpOpts['isVisWellActivity']),\r\n\t};\r\n\r\n\t/**\r\n\t * List of wells for statistics\r\n\t */\r\n\tthis.listOfWell = ko.computed({\r\n\t\t\tread : this.mdlStageContext.calcListOfWell.bind(this.mdlStageContext),\r\n\t\t\tdeferEvaluation : true\r\n\t\t});\r\n\r\n\tthis.wellActivityData = ko.computed({\r\n\t\t\tread : this.calcWellActivityData,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n};\r\n\r\n/** Inherit from a widget model */\r\nappHelper.inherits(exports, Widget);\r\n\r\n/** Convert to plain JSON to send to the server as widget settings */\r\nexports.prototype.toPlainOpts = function () {\r\n\treturn ko.toJSON(this.opts);\r\n};\r\n\r\nexports.prototype.calcWellActivityData = function () {\r\n\tvar tmpListOfWell = ko.unwrap(this.listOfWell);\r\n\r\n\tvar activeCount = 0,\r\n\tnonActiveCount = 0;\r\n\r\n\ttmpListOfWell.forEach(function (tmpWell) {\r\n\t\tif (ko.unwrap(tmpWell.IsActive)) {\r\n\t\t\tactiveCount += 1;\r\n\t\t} else {\r\n\t\t\tnonActiveCount += 1;\r\n\t\t}\r\n\t});\r\n\r\n\treturn [{\r\n\t\t\tlbl : activeCount || '',\r\n\t\t\tval : activeCount,\r\n\t\t\tname : 'Active wells',\r\n\t\t\tcolor : '#79a0c1' // Color from main.css $brand-primary\r\n\t\t}, {\r\n\t\t\tlbl : nonActiveCount || '',\r\n\t\t\tval : nonActiveCount,\r\n\t\t\tname : 'Non-active wells',\r\n\t\t\tcolor : '#999'\r\n\t\t}\r\n\t];\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('models/widgock',['knockout',\r\n\t\t'constants/stage-constants',\r\n\t\t'services/widget',\r\n\t\t'models/widget-default-summary',\r\n\t\t'models/widget-well-history',\r\n\t\t'models/widget-well-map',\r\n\t\t'models/widget-well-monitoring',\r\n\t\t'models/widget-well-perfomance',\r\n\t\t'models/widget-well-sketch',\r\n\t\t'models/widget-wield-map',\r\n\t\t'models/widget-wield-stat'],\r\n\tfunction (ko,\r\n\t\tstageCnst,\r\n\t\twidgetService,\r\n\t\tMdlWidgetDefaultSummary,\r\n\t\tMdlWidgetWellHistory,\r\n\t\tMdlWidgetWellMap,\r\n\t\tMdlWidgetWellMonitoring,\r\n\t\tMdlWidgetWellPerfomance,\r\n\t\tMdlWidgetWellSketch,\r\n\t\tMdlWidgetWieldMap,\r\n\t\tMdlWidgetWieldStat) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Widget block of widget layout; Widget layout divides to widget blocks; Widget block divibed to widgets\r\n\t * @param {object} data - Widget block data\r\n\t * @param {module:models/widgout} widgoutItem - Layout - parent of this widget block\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, widgoutItem) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * Getter for a parent (widget layout)\r\n\t\t * @returns {module:models/widgout}\r\n\t\t */\r\n\t\tthis.getWidgout = function () {\r\n\t\t\treturn widgoutItem;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * An id of a widget block\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * An order number of the block\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.orderNumber = ko.observable(data.OrderNumber);\r\n\r\n\t\t/**\r\n\t\t * A number of the column, when placed this block\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.columnCount = ko.observable(data.ColumnCount);\r\n\r\n\t\t/**\r\n\t\t * A css class for this block\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.columnStyle = ko.computed({\r\n\t\t\t\tread : this.calcColumnStyle,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * A list of widgets\r\n\t\t */\r\n\t\tthis.widgetList = ko.observableArray([]);\r\n\r\n\t\t// Fill a widget list\r\n\t\tthis.importWidgetList(data.WidgetDtoList);\r\n\t};\r\n\r\n\t/** Fill the well widget layout list */\r\n\texports.prototype.importWidgetList = function (data) {\r\n\t\tthis.widgetList((data || []).map(this.buildWidget, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a column style\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.calcColumnStyle = function () {\r\n\t\treturn 'col-md-' + ko.unwrap(this.columnCount);\r\n\t};\r\n\r\n\t/** Remove a widget from a widget block */\r\n\texports.prototype.removeWidget = function (widgetToDelete) {\r\n\t\twidgetService.remove(this.getWidgout().getParent().stageKey, this.id, widgetToDelete.id)\r\n\t\t.done(this.removeWidgetFromList.bind(this, widgetToDelete));\r\n\t};\r\n\r\n\t/** Remove a widget from the main list */\r\n\texports.prototype.removeWidgetFromList = function (widgetToDelete) {\r\n\t\tthis.widgetList.remove(widgetToDelete);\r\n\t\t// Some message or some changes in a view\r\n\t};\r\n\r\n\t/** Create a widget */\r\n\texports.prototype.addWidget = function (tmpWidgetName,\r\n\t\ttmpIdOfSectionPattern,\r\n\t\ttmpIdOfCntxStage,\r\n\t\tscsCallback) {\r\n\t\tvar tmpWidgetList = ko.unwrap(this.widgetList);\r\n\r\n\t\t// Get order number of last widget\r\n\t\tvar lastOrderNumber;\r\n\r\n\t\tif (tmpWidgetList.length > 0) {\r\n\t\t\tlastOrderNumber = ko.unwrap(tmpWidgetList[tmpWidgetList.length - 1].orderNumber);\r\n\t\t} else {\r\n\t\t\tlastOrderNumber = 0;\r\n\t\t}\r\n\r\n\t\tvar tmpParentStage = this.getWidgout().getParent();\r\n\r\n\t\twidgetService.post(tmpParentStage.stageKey, this.id, {\r\n\t\t\tName : tmpWidgetName,\r\n\t\t\tIdOfSectionPattern : tmpIdOfSectionPattern,\r\n\t\t\tOrderNumber : lastOrderNumber + 1,\r\n\t\t\tOpts : '{}',\r\n\t\t\tWidgockId : this.id,\r\n\t\t\tIdOfCntxStage : tmpIdOfCntxStage\r\n\t\t}).done(scsCallback);\r\n\t};\r\n\r\n\t/**\r\n\t * Create a model for a widget from widget data\r\n\t */\r\n\texports.prototype.buildWidget = function (widgetData) {\r\n\t\tvar widgockItem = this;\r\n\r\n\t\tswitch (widgetData.IdOfSectionPattern) {\r\n\t\tcase stageCnst.well.ptrn.summary:\r\n\t\tcase stageCnst.wroup.ptrn.summary:\r\n\t\tcase stageCnst.wield.ptrn.summary:\r\n\t\tcase stageCnst.wegion.ptrn.summary:\r\n\t\tcase stageCnst.company.ptrn.summary:\r\n\t\t\treturn new MdlWidgetDefaultSummary(widgetData, widgockItem);\r\n\t\tcase stageCnst.well.ptrn.perfomance:\r\n\t\t\treturn new MdlWidgetWellPerfomance(widgetData, widgockItem);\r\n\t\tcase stageCnst.well.ptrn.monitoring:\r\n\t\t\treturn new MdlWidgetWellMonitoring(widgetData, widgockItem);\r\n\t\tcase stageCnst.well.ptrn.history:\r\n\t\t\treturn new MdlWidgetWellHistory(widgetData, widgockItem);\r\n\t\tcase stageCnst.well.ptrn.map:\r\n\t\t\treturn new MdlWidgetWellMap(widgetData, widgockItem);\r\n\t\tcase stageCnst.well.ptrn.sketch:\r\n\t\t\treturn new MdlWidgetWellSketch(widgetData, widgockItem);\r\n\t\tcase stageCnst.wield.ptrn.map:\r\n\t\t\treturn new MdlWidgetWieldMap(widgetData, widgockItem);\r\n\t\tcase stageCnst.wield.ptrn.stat:\r\n\t\t\treturn new MdlWidgetWieldStat(widgetData, widgockItem);\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/report',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\tvar reportUrl = function () {\r\n\t\treturn '//wfm-report.herokuapp.com/api/report';\r\n\t};\r\n\r\n\t/**\r\n\t * A report service static methods\r\n\t */\r\n\tvar exports = {\r\n\t\tpost : function (idOfWidgout, nameOfReport) {\r\n\t\t\treturn ajaxRequest('POST', reportUrl(), {\r\n\t\t\t\tidOfWidgout : idOfWidgout,\r\n\t\t\t\tnameOfReport : nameOfReport\r\n\t\t\t\t// desc, other data\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/**\r\n * @module\r\n */\r\ndefine('models/widgout',['knockout',\r\n\t\t'models/widgock',\r\n\t\t'services/widgout',\r\n\t\t'services/report'], function (ko,\r\n\t\tWidgock,\r\n\t\twidgoutService,\r\n\t\treportService) {\r\n\t'use strict';\r\n\r\n\t/** Import widget block list to layout */\r\n\tfunction importWidgocks(data, widgoutItem) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new Widgock(item, widgoutItem);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Widget layout\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, parent) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * Getter for a parent stage (well, group, field... )\r\n\t\t * @returns {module:base-models/stage-base}\r\n\t\t */\r\n\t\tthis.getParent = function () {\r\n\t\t\treturn parent;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Layout id (guid)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * A name of the layout\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t// Save, when a name is changed */\r\n\t\tthis.name.subscribe(this.saveWidgout, this);\r\n\r\n\t\t/**\r\n\t\t * Well widget block list\r\n\t\t * @type {Array.<module:models/widgock>}\r\n\t\t */\r\n\t\tthis.widgocks = ko.observableArray(importWidgocks(data.WidgockDtoList, this));\r\n\t};\r\n\r\n\t/** Save a layout */\r\n\texports.prototype.saveWidgout = function () {\r\n\t\t// Get well id as parent\r\n\t\tvar tmpStageId = this.getParent().Id || this.getParent().id;\r\n\r\n\t\twidgoutService.put(this.getParent().stageKey, tmpStageId, this.id, {\r\n\t\t\tid : this.id,\r\n\t\t\tname : ko.unwrap(this.name)\r\n\t\t});\r\n\t};\r\n\r\n\t/** Post a request */\r\n\texports.prototype.postReport = function (nameOfReport, scsCallback, errCallback) {\r\n\t\treportService.post(this.id, nameOfReport).done(scsCallback).fail(errCallback);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('base-models/stage-base',['knockout',\r\n\t\t'models/file-spec',\r\n\t\t'models/widgout',\r\n\t\t'services/widgout'],\r\n\tfunction (ko,\r\n\t\tFileSpec,\r\n\t\tWidgout,\r\n\t\twidgoutService) {\r\n\t'use strict';\r\n\r\n\t/** Import widget layouts to the stage */\r\n\tfunction importWidgouts(data, parentItem) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new Widgout(item, parentItem);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Base for all stages: well, group, region etc.\r\n\t *    every stage contains stageKey\r\n\t */\r\n\tvar exports = function (data) {\r\n\r\n\t\t/** Props values: all observables */\r\n\t\tthis.propSpecList.forEach(function (prop) {\r\n\t\t\tif (prop.tpe === 'FileLine') {\r\n\t\t\t\t// Create a new observable file specification\r\n\t\t\t\tthis[prop.clientId] = ko.observable();\r\n\t\t\t\t// If the file exists - create its object\r\n\t\t\t\tif (data[prop.serverId]) {\r\n\t\t\t\t\tthis[prop.clientId](new FileSpec(data[prop.serverId]));\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis[prop.clientId] = ko.observable(data[prop.serverId]);\r\n\t\t\t}\r\n\t\t}, this);\r\n\r\n\t\t/** List of sections */\r\n\t\tthis.listOfSection = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * List of section patterns for current stage (names, ids, etc.)\r\n\t\t *    Section patterns where idOfStage === stageKey\r\n\t\t * @type {Array.<module:models/section-pattern>}\r\n\t\t */\r\n\t\tthis.stagePatterns = ko.computed({\r\n\t\t\t\tread : this.calcStagePatterns,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Widget layouts of this stage */\r\n\t\tthis.widgouts = ko.observableArray([]).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Is loaded widget layouts\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedWidgouts = ko.observable(false);\r\n\r\n\t\t/** Possible widget layout list to insert */\r\n\t\tthis.widgoutTemplates = widgoutService.getWidgoutTemplates();\r\n\r\n\t\t/** Selected possible widget layout for adding to widget layout list */\r\n\t\tthis.slcWidgoutTemplate = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * A report section for this stage\r\n\t\t * @type {module:models/section-of-stage}\r\n\t\t */\r\n\t\tthis.reportSection = ko.computed({\r\n\t\t\t\tread : this.calcReportSection,\r\n\t\t\t\towner : this,\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Get a need property from array */\r\n\texports.prototype.getPropSpecByClientId = function (clientId) {\r\n\t\tvar filteredProps = this.propSpecList.filter(function (elem) {\r\n\t\t\t\treturn elem.clientId === clientId;\r\n\t\t\t});\r\n\r\n\t\treturn filteredProps[0];\r\n\t};\r\n\r\n\t/**\r\n\t * Delete only a link to the file - without removing physically and from section\r\n\t * @param {module/prop-spec} fileSpecProp - Property data\r\n\t */\r\n\texports.prototype.deleteImgFileSpec = function (fileSpecProp) {\r\n\t\t// Clean property of this image and nested property with image link (like FileSpec and idOfFileSpec)\r\n\t\tthis[fileSpecProp.addtData.nestedClientId](null);\r\n\t\tthis[fileSpecProp.clientId](null);\r\n\r\n\t\t// Every stage has a save method to save current state of model\r\n\t\tthis.save();\r\n\r\n\t\t////var tmpFileSpecElem = ko.unwrap(ths[fileSpecProp.clientId]);\r\n\t\t////if (!tmpFileSpecElem) { return; }\r\n\t\t////// Select file section with logos\r\n\r\n\t\t////var idOfFileSpec = tmpFileSpecElem.id;\r\n\t\t////console.log(idOfFileSpec);\r\n\t\t////var needSection = asdf('company-summary');\r\n\t\t////// Remove from file section + clean FileSpec (delete from logo tables)\r\n\t\t////needSection.deleteFileSpecById(idOfFileSpec, function () {\r\n\t\t////ths[fileSpecProp.addtData.nestedClientId](null);\r\n\t\t////ths[fileSpecProp.clientId](null);\r\n\t\t////});\r\n\t};\r\n\r\n\t/** Create a widget layout */\r\n\texports.prototype.postWidgout = function () {\r\n\t\tvar ths = this;\r\n\t\tvar tmpWidgoutTemlate = ko.unwrap(this.slcWidgoutTemplate);\r\n\t\tif (tmpWidgoutTemlate) {\r\n\t\t\twidgoutService.post(ths.stageKey, ths.id || ths.Id, tmpWidgoutTemlate).done(function (createdWellWidgoutData) {\r\n\t\t\t\tvar widgoutNew = new Widgout(createdWellWidgoutData, ths);\r\n\t\t\t\tths.widgouts.push(widgoutNew);\r\n\t\t\t\tths.slcWidgoutTemplate(null);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/** Remove a widget layout */\r\n\texports.prototype.removeWidgout = function (widgoutToRemove) {\r\n\t\tvar ths = this;\r\n\t\twidgoutService.remove(ths.stageKey, ths.id || ths.Id, widgoutToRemove.id).done(function () {\r\n\t\t\tths.widgouts.remove(widgoutToRemove);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Load widget layouts for a stage */\r\n\texports.prototype.loadWidgouts = function () {\r\n\t\tvar ths = this;\r\n\t\tif (ko.unwrap(ths.isLoadedWidgouts)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twidgoutService.get(ths.stageKey, ths.id || ths.Id).done(function (res) {\r\n\t\t\tths.widgouts(importWidgouts(res, ths));\r\n\t\t\tths.isLoadedWidgouts(true);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Calculate patterns for this stage */\r\n\texports.prototype.calcStagePatterns = function () {\r\n\t\t// List of all section patterns\r\n\t\tvar tmpAllPatterns = ko.unwrap(this.getRootMdl().ListOfSectionPatternDto);\r\n\t\treturn tmpAllPatterns;\r\n\t\t// return tmpAllPatterns.filter(function (elem) {\r\n\t\t// return elem.idOfStage === this.stageKey;\r\n\t\t// }, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Get cognate stages by stage key\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function () {\r\n\t\tthrow new Error('need to ovveride in sub-classes');\r\n\t};\r\n\r\n\t/**\r\n\t * Find a cognate stage\r\n\t *    When user has id of the stage from widget options\r\n\t *    he may to get cognate this stage by id and type\r\n\t */\r\n\texports.prototype.findCognateStage = function (keyOfStage, idOfStage) {\r\n\t\treturn this.getListOfStageByKey(keyOfStage).filter(function (elem) {\r\n\t\t\treturn elem.id === idOfStage;\r\n\t\t})[0];\r\n\t};\r\n\r\n\t/** Remove a child stage */\r\n\texports.prototype.removeChild = function () {\r\n\t\tthrow new Error('Need to override in a subclass');\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of a parent company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\tthrow new Error('Need to override in a subclass');\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a report section\r\n\t * @returns {module:models/section-of-stage}\r\n\t */\r\n\texports.prototype.calcReportSection = function () {\r\n\t\treturn ko.unwrap(this.listOfSection).filter(function (elem) {\r\n\t\t\treturn (elem.sectionPatternId === (this.stageKey + '-report'));\r\n\t\t}, this)[0];\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/map-of-wield',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Generate url for service\r\n    * @param {number} idOfWield - Id of parent (well field)\r\n    * @param {number} id - Id of this map\r\n    */\r\n    var url = function (idOfWield, id) {\r\n        return '//wfm-report.herokuapp.com/api/well-fields/' + idOfWield + '/maps' + (id ? ('/' + id) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service: map of field\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfWield, id) {\r\n            return ajaxRequest('GET', url(idOfWield, id));\r\n        },\r\n        ////getUrl: function (idOfWield, id) {\r\n        ////    return url(idOfWield, id);\r\n        ////},\r\n        post: function (idOfWield, data) {\r\n            return ajaxRequest('POST', url(idOfWield), data);\r\n        },\r\n        put: function (idOfWield, id, data) {\r\n            return ajaxRequest('PUT', url(idOfWield, id), data);\r\n        },\r\n        remove: function (idOfWield, id) {\r\n            return ajaxRequest('DELETE', url(idOfWield, id));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/area-of-map-of-wield',['jquery', 'knockout', 'services/datacontext', 'helpers/app-helper'], function ($, ko, datacontext, appHelper) {\r\n    'use strict';\r\n\r\n    function WellFieldMapArea(data, wellFieldMap) {\r\n        var self = this;\r\n        data = data || {};\r\n\r\n        self.getWellFieldMap = function () {\r\n            return wellFieldMap;\r\n        };\r\n\r\n        self.Id = data.Id;\r\n        self.Name = ko.observable(data.Name);\r\n        self.Description = ko.observable(data.Description);\r\n\r\n        // longitude, latitude ... string\r\n        // 115,129.6875 148,181.1875 102,213.6875 94.5,172.6875 115,129.6875\r\n        self.Coords = ko.observable(data.Coords);\r\n\r\n        self.WellFieldMapId = data.WellFieldMapId;\r\n        self.Opacity = ko.observable(data.Opacity);\r\n        self.StrokeWidth = ko.observable(data.StrokeWidth);\r\n        self.FillColor = ko.observable(data.FillColor);\r\n\r\n        // move to map model\r\n        var tileLength = 255;\r\n        var mapCoordScale = Math.max(self.getWellFieldMap().Width, self.getWellFieldMap().Height) / tileLength;\r\n\r\n        // <return>[[12,43], [23,43]]\r\n        self.coordsFromTopLeft = ko.computed(function () {\r\n            var needArr = [];\r\n            $.each(self.Coords().split(' '), function (elemIndex, elemValue) {\r\n                var tempArr = elemValue.split(',');\r\n                var longitude = parseFloat(tempArr[0]),\r\n                    latitude = parseFloat(tempArr[1]);\r\n\r\n                var coordX = latitude * mapCoordScale;\r\n                var coordY = (tileLength - longitude) * mapCoordScale;\r\n\r\n                needArr.push([coordX, coordY]);\r\n            });\r\n\r\n            return needArr;\r\n        });\r\n\r\n        self.deleteWellFieldMapArea = function () {\r\n            datacontext.deleteWellFieldMapArea(self).done(function () {\r\n                self.getWellFieldMap().WellFieldMapAreas.remove(self);\r\n            });\r\n        };\r\n\r\n        self.saveChangedWellFieldMapArea = function () {\r\n            datacontext.saveChangedWellFieldMapArea(self);\r\n        };\r\n\r\n        self.areaSize = ko.computed(function () {\r\n            var squareCoeff = Math.pow(self.getWellFieldMap().ScaleCoefficient(), 2);\r\n            var area = appHelper.getArea(appHelper.stringToTwoDimArray(self.Coords())); // square meters\r\n\r\n            // convert to feet 1 feet = 0.3048 m, 1 sq ft = Math.pow(0.3048, 2)\r\n            area = area / Math.pow(0.3048, 2);\r\n\r\n            return area * squareCoeff;\r\n        });\r\n\r\n        self.toPlainJson = function () { return ko.toJS(self); };\r\n    }\r\n\r\n    datacontext.createWellFieldMapArea = function (item, wellFieldMapParent) {\r\n        return new WellFieldMapArea(item, wellFieldMapParent);\r\n    };\r\n});\n","/** @module */\r\ndefine('services/well-marker-of-map-of-wield',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Generate url for service\r\n    * @param {number} idOfMapOfWield - Id of parent (map of well field)\r\n    * @param {number} idOfWell - Id of well\r\n    */\r\n    var url = function (idOfMapOfWield, idOfWell) {\r\n        return '//wfm-report.herokuapp.com/api/well-fields/maps/' + idOfMapOfWield + '/well-markers' + (idOfWell ? ('/' + idOfWell) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service: well marker of map of field\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfMapOfWield, idOfWell) {\r\n            return ajaxRequest('GET', url(idOfMapOfWield, idOfWell));\r\n        },\r\n        post: function (idOfMapOfWield, data) {\r\n            return ajaxRequest('POST', url(idOfMapOfWield), data);\r\n        },\r\n        put: function (idOfMapOfWield, idOfWell, data) {\r\n            return ajaxRequest('PUT', url(idOfMapOfWield, idOfWell), data);\r\n        },\r\n        remove: function (idOfMapOfWield, idOfWell) {\r\n            return ajaxRequest('DELETE', url(idOfMapOfWield, idOfWell));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/well-marker-of-map-of-wield',['knockout',\r\n\t\t'services/well-marker-of-map-of-wield'],\r\n\tfunction (ko,\r\n\t\twellMarkerService) {\r\n\r\n\t/**\r\n\t * Model: well in map of well field\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, wellFieldMap) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/** Getter for a map parent */\r\n\t\tthis.getWellFieldMap = function () {\r\n\t\t\treturn wellFieldMap;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Pixels from top-left of map image (1. longitude and 2.latitude)\r\n\t\t * @type {Array}\r\n\t\t */\r\n\t\tthis.coords = ko.observable([data.CoordX, data.CoordY]);\r\n\r\n\t\t/**\r\n\t\t * Whether this well is drilled on this map (active)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isDrilled = ko.observable(data.IsDrilled);\r\n\r\n\t\t/**\r\n\t\t * Id of map\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfMapOfWield = data.IdOfMapOfWield;\r\n\r\n\t\t/**\r\n\t\t * Id of well\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWell = data.IdOfWell;\r\n\r\n\t\t/**\r\n\t\t * A style of the marker, depend from whether drilled\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.markerStyle = ko.computed({\r\n\t\t\t\tread : this.calcMarkerStyle,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t////var tileLength = 255;\r\n\t\t////var mapCoordScale = Math.max(ths.getWellFieldMap().Width, ths.getWellFieldMap().Height) / tileLength;\r\n\r\n\t\t////this.coordX = ko.computed(function () {\r\n\t\t////    return ths.latitude() * mapCoordScale;\r\n\t\t////});\r\n\r\n\t\t////this.coordY = ko.computed(function () {\r\n\t\t////    return (tileLength - ths.longitude()) * mapCoordScale;\r\n\t\t////});\r\n\r\n\t\t////var tileLength = 255;\r\n\t\t////var coordX = 0, coordY = 0;\r\n\t\t////// if width > height\r\n\t\t////var mapCoordScale = Math.max(ths.Width, ths.Height) / tileLength;\r\n\r\n\t\t////coordX = latitude * mapCoordScale;\r\n\t\t////coordY = (tileLength - longitude) * mapCoordScale;\r\n\r\n\t\t/**\r\n\t\t * Well name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.wellName = ko.computed({\r\n\t\t\t\tread : this.calcWellName,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * A name of the map\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.nameOfMap = ko.computed({\r\n\t\t\t\tread : this.calcNameOfMap,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Save coords when change */\r\n\t\tthis.coords.subscribe(this.save, this);\r\n\r\n\t\t////this.toPlainJson = function () { return ko.toJS(ths); };\r\n\t};\r\n\r\n\t/** Calculate a name of the map (parent) */\r\n\texports.prototype.calcNameOfMap = function () {\r\n\t\treturn ko.unwrap(this.getWellFieldMap().name);\r\n\t};\r\n\r\n\t/** Save marker */\r\n\texports.prototype.save = function () {\r\n\t\tvar ths = this;\r\n\t\twellMarkerService.put(ths.idOfMapOfWield, ths.idOfWell, {\r\n\t\t\t'IdOfMapOfWield' : ths.idOfMapOfWield,\r\n\t\t\t'IdOfWell' : ths.idOfWell,\r\n\t\t\t'CoordX' : ko.unwrap(ths.coords)[0],\r\n\t\t\t'CoordY' : ko.unwrap(ths.coords)[1],\r\n\t\t\t'IsDrilled' : ko.unwrap(ths.isDrilled)\r\n\t\t});\r\n\t};\r\n\r\n\t/** Calculate a style for the marker */\r\n\texports.prototype.calcMarkerStyle = function () {\r\n\t\tvar tmpIsDrilled = ko.unwrap(this.isDrilled);\r\n\t\tif (tmpIsDrilled === true) {\r\n\t\t\treturn 'well-marker_drilled';\r\n\t\t} else if (tmpIsDrilled === false) {\r\n\t\t\treturn 'well-marker_non-drilled';\r\n\t\t} else {\r\n      // Pre-created markers\r\n\t\t\treturn 'well-marker_pre-created';\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate a name of the well */\r\n\texports.prototype.calcWellName = function () {\r\n\t\tvar tmpWell = this.getWell();\r\n\t\tif (tmpWell) {\r\n\t\t\treturn ko.unwrap(tmpWell.Name);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Get well for this marker */\r\n\texports.prototype.getWell = function () {\r\n\t\tvar wellFieldItem = this.getWellFieldMap().getWellField();\r\n\t\tvar listOfWroup = ko.unwrap(wellFieldItem.wroups);\r\n\t\tvar tmpIdOfWell = this.idOfWell;\r\n\t\tfor (var keyOfWroup = 0; keyOfWroup < listOfWroup.length; keyOfWroup += 1) {\r\n\t\t\tvar listOfWell = ko.unwrap(listOfWroup[keyOfWroup].wells);\r\n\t\t\tfor (var keyOfWell = 0; keyOfWell < listOfWell.length; keyOfWell += 1) {\r\n\t\t\t\tif (listOfWell[keyOfWell].id === tmpIdOfWell) {\r\n\t\t\t\t\treturn listOfWell[keyOfWell];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/map-of-wield',['jquery', 'knockout', 'services/datacontext', 'helpers/modal-helper',\r\n\t\t'helpers/app-helper', 'models/file-spec', 'services/map-of-wield', 'viewmodels/map-of-wield',\r\n\t\t'models/area-of-map-of-wield', 'models/well-marker-of-map-of-wield', 'services/well-marker-of-map-of-wield'],\r\n\tfunction ($, ko, datacontext, bootstrapModal, appHelper, FileSpec, mapOfWieldService, MapOfWieldVwm,\r\n\t\tAreaOfMapOfWield, WellOfMapOfWield, wellMarkerService) {\r\n\t'use strict';\r\n\r\n\tfunction importAreas(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn datacontext.createWellFieldMapArea(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importWellMarkers(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new WellOfMapOfWield(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Well field map model\r\n\t * @param {object} data - Map data\r\n\t * @param {WellField} wellField - Well field\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, wellField) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/** Gettter for well field (parent) */\r\n\t\tthis.getWellField = function () {\r\n\t\t\treturn wellField;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Map id: alternative property name\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Map name (by default - file name)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t/**\r\n\t\t * Id of file specification (guid)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n\t\t/**\r\n\t\t * Map file specification\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.fileSpec = new FileSpec(data.FileSpecDto);\r\n\r\n\t\t/**\r\n\t\t * Map description\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.description = ko.observable(data.Description);\r\n\r\n\t\t/**\r\n\t\t * Pixels in one unit of measurement (m, cm, foot etc)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.scaleCoefficient = ko.observable(data.ScaleCoefficient);\r\n\r\n\t\t/**\r\n\t\t * Well field (parent) id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWield = data.WellFieldId;\r\n\r\n\t\t/**\r\n\t\t * Map areas\r\n\t\t * @type {Array.<WellFieldMapArea>}\r\n\t\t */\r\n\t\tthis.areas = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Well markers on this map\r\n\t\t * @type {Array.<Well>}\r\n\t\t */\r\n\t\tthis.wellMarkers = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Field wells, not in this map\r\n\t\t * @type {Array.<module:models/well>}\r\n\t\t */\r\n\t\tthis.outWellsOfWield = ko.computed({\r\n\t\t\t\tread : this.getOutWellsOfWield,\r\n\t\t\t\tdeferEvaluation : true,\r\n        owner: this\r\n\t\t\t});\r\n\r\n\t\t// Load data (async) after all props\r\n\r\n\t\t/** Load markers */\r\n\t\tthis.wellMarkers(importWellMarkers(data.ListOfDtoOfWellMarker, this));\r\n\r\n\t\t/** Load areas */\r\n\t\tthis.areas(importAreas(data.WellFieldMapAreasDto, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Post well marker\r\n\t */\r\n\texports.prototype.postWellMarker = function (idOfWell, coords, isDrilled) {\r\n\t\tvar ths = this;\r\n\r\n\t\twellMarkerService.post(ths.id, {\r\n\t\t\tIdOfWell : idOfWell,\r\n\t\t\tIdOfMapOfWield : ths.id,\r\n\t\t\tCoordX : coords[0],\r\n\t\t\tCoordY : coords[1],\r\n      IsDrilled: isDrilled\r\n\t\t}).done(function (r) {\r\n\t\t\tths.wellMarkers.push(new WellOfMapOfWield(r, ths));\r\n\t\t});\r\n\t};\r\n\r\n\t/** Remove well marker from this map */\r\n\texports.prototype.removeWellMarker = function (wellMarkerToRemove) {\r\n\t\tvar ths = this;\r\n\r\n\t\twellMarkerService.remove(ths.id, wellMarkerToRemove.idOfWell).done(function () {\r\n\t\t\tths.wellMarkers.remove(wellMarkerToRemove);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Convert to plain json */\r\n\texports.prototype.toPlainJson = function () {\r\n\t\treturn ko.toJS(this);\r\n\t};\r\n\r\n\t/** TODO: Change #33! */\r\n\texports.prototype.editWellFieldMap = function () {\r\n\t\tvar ths = this;\r\n\t\tvar inputName = document.createElement('input');\r\n\t\tinputName.type = 'text';\r\n\t\t$(inputName).val(ko.unwrap(ths.name)).prop({\r\n\t\t\t'required' : true\r\n\t\t});\r\n\r\n\t\tvar inputDescription = document.createElement('input');\r\n\t\tinputDescription.type = 'text';\r\n\t\t$(inputDescription).val(ko.unwrap(ths.description));\r\n\r\n\t\tvar inputScaleCoefficient = document.createElement('input');\r\n\t\tinputScaleCoefficient.type = 'text';\r\n\t\t$(inputScaleCoefficient).val(ko.unwrap(ths.scaleCoefficient)).prop({\r\n\t\t\t'required' : true\r\n\t\t});\r\n\r\n\t\tvar innerDiv = document.createElement('div');\r\n\t\t$(innerDiv).addClass('form-horizontal').append(\r\n\t\t\tbootstrapModal.gnrtDom('Name', inputName),\r\n\t\t\tbootstrapModal.gnrtDom('Description', inputDescription),\r\n\t\t\tbootstrapModal.gnrtDom('ScaleCoefficient, 1:', inputScaleCoefficient));\r\n\r\n\t\tfunction submitFunction() {\r\n\t\t\tths.name($(inputName).val());\r\n\t\t\tths.description($(inputDescription).val());\r\n\t\t\tths.scaleCoefficient($(inputScaleCoefficient).val());\r\n\t\t\tmapOfWieldService.put(ths.idOfWield, ths.id, ths.toPlainJson()).done(function (result) {\r\n\t\t\t\tths.name(result.Name);\r\n\t\t\t\tths.description(result.Description);\r\n\t\t\t\tths.scaleCoefficient(result.ScaleCoefficient);\r\n\t\t\t});\r\n\t\t\tbootstrapModal.closeModalWindow();\r\n\t\t}\r\n\r\n\t\tbootstrapModal.openModalWindow('Well field map', innerDiv, submitFunction);\r\n\t};\r\n\r\n  /**\r\n  * Get wells, which are not in selected list\r\n  */\r\n\texports.prototype.getOutWellsOfWield = function () {\r\n\t\tvar ths = this;\r\n\t\tvar wellMarkersOnMap = ko.unwrap(ths.wellMarkers);\r\n\r\n\t\t/** IDs of wells, which placed on this map */\r\n\t\tvar idsOfWellsOfMap = wellMarkersOnMap.map(function (wellMarkerItem) {\r\n\t\t\t\treturn wellMarkerItem.idOfWell;\r\n\t\t\t});\r\n\r\n\t\tvar wroupsOfWield = ko.unwrap(ths.getWellField().wroups);\r\n\r\n\t\tvar wellsOfWield = [];\r\n\r\n\t\twroupsOfWield.forEach(function (wroupItem) {\r\n\t\t\twellsOfWield = wellsOfWield.concat(ko.unwrap(wroupItem.wells));\r\n\t\t});\r\n\r\n\t\treturn wellsOfWield.filter(function (wellItem) {\r\n\t\t\treturn ($.inArray(wellItem.id, idsOfWellsOfMap) === -1);\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/file-spec',['constants/stage-constants', 'helpers/ajax-request'], function (stageConstants, ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/** Generate url */\r\n\tvar url = function (stageKey, idOfSection, idOfFileSpec) {\r\n\t\tvar stagePlural = stageConstants[stageKey].plural;\r\n\t\treturn '//wfm-report.herokuapp.com/api/' + stagePlural + '/sections/' + idOfSection + '/file-specs' + (idOfFileSpec ? ('/' + idOfFileSpec) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * File spec service\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\t// Get url for posting new file\r\n\t\tgetUrl : function (stageKey, idOfSection, idOfFileSpec) {\r\n\t\t\treturn url(stageKey, idOfSection, idOfFileSpec);\r\n\t\t},\r\n\t\tget : function (stageKey, idOfSection) {\r\n\t\t\treturn ajaxRequest('GET', url(stageKey, idOfSection));\r\n\t\t},\r\n\t\tgetColumnAttributes : function (stageKey, idOfSection, idOfFileSpec) {\r\n\t\t\treturn ajaxRequest('GET', url(stageKey, idOfSection, idOfFileSpec) + '/column-attributes');\r\n\t\t},\r\n\t\tgetPerfomanceFragment : function (stageKey, idOfSection, idOfFileSpec, indexOfStartRow, countOfRows) {\r\n\t\t\treturn ajaxRequest('GET', url(stageKey, idOfSection, idOfFileSpec) + '/perfomance-fragment/' + indexOfStartRow + '/' + countOfRows);\r\n\t\t},\r\n    postPerfomanceData: function(stageKey, idOfSection, idOfFileSpec, indexOfStartRow, listOfColumnAttrData){\r\n      // {idOfFileSpec:guid}/perfomance-data/{indexOfStartRow:int}\r\n      return ajaxRequest('POST', url(stageKey, idOfSection, idOfFileSpec) + '/perfomance-data/' + indexOfStartRow, listOfColumnAttrData);\r\n    },\r\n    put: function(stageKey, idOfSection, idOfFileSpec, mdlData){\r\n      return ajaxRequest('PUT', url(stageKey, idOfSection, idOfFileSpec), mdlData);\r\n    },\r\n\t\t// Delete few files in one request\r\n\t\tdeleteArray : function (stageKey, idOfSection, listOfFileSpec) {\r\n\t\t\treturn ajaxRequest('DELETE', url(stageKey, idOfSection), listOfFileSpec);\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/pre-file',['knockout'], function (ko) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Pre file\r\n\t * @constructor\r\n\t * @param {string} optName - A name of the file\r\n\t * @param {number} optSize - A size of the file\r\n\t * @param {string} optContentType - A type of the file\r\n\t */\r\n\tvar exports = function (optName, optSize, optContentType, regExpString, maxSizeOfFile, abortCallback) {\r\n\t\t/**\r\n\t\t * A name of the file\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = optName;\r\n\r\n\t\t/**\r\n\t\t * A size of the file\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.size = optSize;\r\n\r\n\t\t/**\r\n\t\t * File size, kilobytes (2 after point)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.sizeInKb = parseInt((this.size * 100) / 1024, 10) / 100;\r\n\r\n    /**\r\n    * File size, megabytes\r\n    * @type {number}\r\n    */\r\n    this.sizeInMb = parseInt((this.size * 100) / 1024 / 1024, 10) / 100;\r\n    \r\n\t\t/**\r\n\t\t * A content type of the file\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.contentType = optContentType;\r\n\r\n    /**\r\n    * Count of loaded bytes\r\n    * @type {number}\r\n    */\r\n    this.bytesLoaded = ko.observable(0);\r\n    \r\n    /**\r\n    * Loaded in KB\r\n    * @type {number}\r\n    */\r\n    this.bytesLoadedInKb = ko.computed({\r\n      read: this.calcBytesLoadedInKb,\r\n      deferEvaluation: true,\r\n      owner: this\r\n    });\r\n    \r\n\t\t/**\r\n\t\t * Progress of uploading, percents\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.progressPercent = ko.computed({\r\n      read: this.calcProgressPercent,\r\n      deferEvaluation: true,\r\n      owner: this\r\n    });\r\n\r\n\t\t/**\r\n\t\t * A string, like 60% for a bar title and a width property\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.progressPercentString = ko.computed({\r\n\t\t\t\tread : this.calcProgressPercentString,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Max size of a file, in bytes\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.maxSize = maxSizeOfFile;\r\n\r\n\t\t/**\r\n\t\t * A regular expression string for type\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.regExpString = regExpString;\r\n\r\n\t\t/**\r\n\t\t * A string of supported types\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.supportedTypes = this.regExpString.replace(/[\\\\,\\$,\\^]/g, '').split('|').join(', ');\r\n\r\n\t\t/**\r\n\t\t * Whether is type of file is success\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSuccessType = new RegExp(this.regExpString).test(this.contentType) === true;\r\n\r\n\t\t/**\r\n\t\t * Whether tht size of file is success\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSuccessSize = this.size <= this.maxSize;\r\n\r\n\t\t/**\r\n\t\t * Whether this file is succes for adding to the list of file\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSuccess = this.isSuccessSize && this.isSuccessType;\r\n\r\n\t\t/** Abort uploading */\r\n\t\tthis.abortUploading = function () {\r\n      console.log('abort callback');\r\n\t\t\tabortCallback();\r\n\t\t\t// remove this pre-file\r\n\t\t};\r\n\t};\r\n\r\n  /** Calculate percent of loading progress */\r\n  exports.prototype.calcProgressPercent = function(){\r\n    return parseInt((ko.unwrap(this.bytesLoaded) / this.size) * 100, 10);\r\n  };\r\n  \r\n  /** \r\n  * Calculate a loading progress in KB (123.45)\r\n  * @returns {number}\r\n  */\r\n  exports.prototype.calcBytesLoadedInKb = function(){\r\n    return (parseInt((ko.unwrap(this.bytesLoaded) / 1024) * 100, 10) / 100);\r\n  };\r\n  \r\n\t/** Calculate string of percent */\r\n\texports.prototype.calcProgressPercentString = function () {\r\n\t\treturn ko.unwrap(this.progressPercent) + '%';\r\n\t};\r\n  \r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/section-of-stage',['knockout',\r\n\t\t'constants/stage-constants',\r\n\t\t'helpers/app-helper',\r\n\t\t'models/file-spec',\r\n\t\t'services/file-spec',\r\n\t\t'models/pre-file'],\r\n\tfunction (ko,\r\n\t\tstageCnst,\r\n\t\tappHelper,\r\n\t\tFileSpec,\r\n\t\tfileSpecService,\r\n\t\tPreFile) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Import file specification to the list\r\n\t * @param {object} data - Server data with file specs\r\n\t */\r\n\tfunction importFileSpecs(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new FileSpec(item);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Section base: shared props for other types of sections - insert using call method\r\n\t * @constructor\r\n\t * @param {object} data - Section data\r\n\t */\r\n\tvar exports = function (data, parentStage, idOfParentStage) {\r\n\t\t/** Get parent (well) */\r\n\t\tthis.getParent = function () {\r\n\t\t\treturn parentStage;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Id of parent stage of section. Duplicated in section.parentId and section.parent.id\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfParentStage = idOfParentStage;\r\n\r\n\t\t/**\r\n\t\t * Stage, like 'well', 'wield', 'wroup', 'wegion', 'company'\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = this.getParent().stageKey;\r\n\r\n\t\t/**\r\n\t\t * Section guid\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Whether the section is visible as a view: can ovveride default checkbox from section pattern (isView)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisible = ko.observable(data.IsVisible);\r\n\r\n\t\t/**\r\n\t\t * Id of section pattern: contains info like section Name and other\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.sectionPatternId = data.SectionPatternId;\r\n\r\n\t\t/**\r\n\t\t * Section pattern (default name, file formats and other params for section)\r\n\t\t * @type {module:models/section-pattern}\r\n\t\t */\r\n\t\tthis.sectionPattern = ko.computed({\r\n\t\t\t\tread : this.calcSectionPattern,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//{ #region HACK-VIEW-PROPS\r\n\r\n\t\t/**\r\n\t\t * A hack property, needed for the section-panel-well partial\r\n\t\t *    to show a perfomance menu with groups (a select input)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSectionPatternIdIsWellPerfomance = this.sectionPatternId === stageCnst.well.ptrn.perfomance;\r\n\r\n\t\t/**\r\n\t\t * A hack property, needed for the section-panel-well partial\r\n\t\t *    to show a joined menu: volume and sketch\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSectionPatternIdIsWellSketch = this.sectionPatternId === stageCnst.well.ptrn.sketch;\r\n\r\n\t\t/**\r\n\t\t * A hack property, needed for the section-panel-well partial\r\n\t\t *    to show a joined menu: volume and sketch\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSectionPatternIdIsWellVolume = this.sectionPatternId === stageCnst.well.ptrn.volume;\r\n\r\n\t\t//} #endregion HACK-VIEW-PROPS\r\n\r\n\t\t/**\r\n\t\t * Whether section is visible as view: calculated using section checkbox and pattern checkbox\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisibleAsView = ko.computed({\r\n\t\t\t\tread : this.calcIsVisibleAsView,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of file specifications\r\n\t\t * @type {Array.<module:models/file-spec>}\r\n\t\t */\r\n\t\tthis.listOfFileSpec = ko.observableArray([]);\r\n\r\n\t\t/**\r\n\t\t * A list of uploading files\r\n\t\t * @type {Array.<module:models/pre-file>}\r\n\t\t */\r\n\t\tthis.listOfPreFile = ko.observableArray([]);\r\n\r\n\t\t/**\r\n\t\t * Sorted and filtered list of files: ready to view\r\n\t\t * @type {Array.<module:models/file-spec>}\r\n\t\t */\r\n\t\tthis.readyListOfFileSpec = ko.computed({\r\n\t\t\t\tread : this.buildReadyListOfFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t}).trackHasItems();\r\n\r\n\t\t/**\r\n\t\t * Whether files are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedListOfFileSpec = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * A list of selected files\r\n\t\t * @type {Array.<module:models/file-spec>}\r\n\t\t */\r\n\t\tthis.listOfSlcFileSpec = ko.computed({\r\n\t\t\t\tread : this.calcListOfSlcFileSpec,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Max size of a file, in bytes (10MB)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.maxSizeOfFile = 10485760;\r\n\r\n\t\t/**\r\n\t\t * Max size in megabytes\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.maxSizeOfFileInMb = this.maxSizeOfFile / 1024 / 1024;\r\n\r\n\t\t/**\r\n\t\t * Whether are selected all files\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isSlcAllFiles = ko.computed({\r\n\t\t\t\tread : this.calcIsSlcAllFiles,\r\n\t\t\t\twrite : this.setIsSlcAllFiles,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Select or unselect all files */\r\n\texports.prototype.setIsSlcAllFiles = function (isSlc) {\r\n\t\tko.unwrap(this.listOfFileSpec).forEach(function (tmpFileSpec) {\r\n\t\t\ttmpFileSpec.isSelected(isSlc);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Update section after removing files\r\n\t */\r\n\texports.prototype.updateSectionAfterRemovingFiles = function (idOfSectionPattern) {\r\n\t\tswitch (idOfSectionPattern) {\r\n\t\tcase 'well-volume':\r\n\t\t\tthis.getParent().isLoadedVolumes(false);\r\n\t\t\tthis.getParent().loadVolumes();\r\n\t\t\tbreak;\r\n\t\tcase 'well-sketch':\r\n\t\t\tthis.getParent().sketchOfWell.isLoaded(false);\r\n\t\t\tthis.getParent().sketchOfWell.load();\r\n\t\t\tbreak;\r\n\t\tcase 'well-history':\r\n\t\t\tthis.getParent().isLoadedHistoryList(false);\r\n\t\t\tthis.getParent().loadWellHistoryList();\r\n\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate a list of selected files */\r\n\texports.prototype.calcListOfSlcFileSpec = function () {\r\n\t\treturn ko.unwrap(this.listOfFileSpec).filter(function (elem) {\r\n\t\t\treturn ko.unwrap(elem.isSelected);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Delete selected files from this section */\r\n\texports.prototype.removeSlcFileSpecs = function (tmpSelectedList) {\r\n\t\t// Need to send to the server (only ids - to define and remove files on the server)\r\n\t\tvar tmpIdList = tmpSelectedList.map(function (elem) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid : elem.id\r\n\t\t\t\t};\r\n\t\t\t});\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t// Remove from the server\r\n\t\tfileSpecService.deleteArray(ths.stageKey, ths.id, tmpIdList).done(function () {\r\n\t\t\t// If success\r\n\t\t\t// Remove from client file list (all selected files)\r\n\t\t\ttmpSelectedList.forEach(function (elem) {\r\n\t\t\t\tths.listOfFileSpec.remove(elem);\r\n\t\t\t\tths.updateSectionAfterRemovingFiles(ths.sectionPatternId);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Get file spec by id\r\n\t * @param {string} idOfFileSpec\r\n\t * @returns {module:models/file-spec}\r\n\t */\r\n\texports.prototype.getFileSpecById = function (idOfFileSpec) {\r\n\t\treturn ko.unwrap(this.listOfFileSpec).filter(function (elem) {\r\n\t\t\treturn elem.id === idOfFileSpec;\r\n\t\t})[0];\r\n\t};\r\n\r\n\t/**\r\n\t * Delete file spec by id\r\n\t * @param {string} idOfFileSpec\r\n\t * @param {function} callback\r\n\t */\r\n\texports.prototype.deleteFileSpecById = function (idOfFileSpec, callback) {\r\n\t\tvar ths = this;\r\n\t\t// Remove from server\r\n\t\tfileSpecService.deleteArray(this.stageKey, this.id, [{\r\n\t\t\t\t\tid : idOfFileSpec\r\n\t\t\t\t}\r\n\t\t\t]).done(function () {\r\n\t\t\t// If success\r\n\t\t\t// Remove from client file list if exists\r\n\t\t\tvar removedFileSpec = ths.getFileSpecById(idOfFileSpec);\r\n\t\t\tif (removedFileSpec) {\r\n\t\t\t\tths.listOfFileSpec.remove(removedFileSpec);\r\n\t\t\t}\r\n\r\n\t\t\tif (callback) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t/** Save a file specification */\r\n\texports.prototype.saveFileSpec = function (fileSpecToSave) {\r\n\t\tfileSpecService.put(this.stageKey, this.id, fileSpecToSave.id, fileSpecToSave.toPlainFileSpec());\r\n\t};\r\n\r\n\t/** Load list of file spec from the server */\r\n\texports.prototype.loadListOfFileSpec = function () {\r\n\t\tconsole.log('load list of file specs');\r\n\r\n\t\t// Do not load if loaded already\r\n\t\tif (ko.unwrap(this.isLoadedListOfFileSpec)) {\r\n\t\t\t// Unselect all files in this section\r\n\t\t\tko.unwrap(this.listOfFileSpec).forEach(function (elem) {\r\n\t\t\t\telem.isSelected(false);\r\n\t\t\t});\r\n\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Loaded files are unselected by default\r\n\t\tfileSpecService.get(this.stageKey, this.id).done(this.scsLoadListOfFileSpec.bind(this));\r\n\t};\r\n\r\n\texports.prototype.scsLoadListOfFileSpec = function (r) {\r\n\t\t// Import data to objects\r\n\t\tthis.listOfFileSpec(importFileSpecs(r));\r\n\t\t// Set flag (do not load again)\r\n\t\tthis.isLoadedListOfFileSpec(true);\r\n\t};\r\n\r\n\t/** Sorted list, for a view */\r\n\texports.prototype.buildReadyListOfFileSpec = function () {\r\n\t\tvar tmpList = ko.unwrap(this.listOfFileSpec);\r\n\t\treturn tmpList.sort(function (a, b) {\r\n\t\t\treturn b.createdUnixTime - a.createdUnixTime;\r\n\t\t});\r\n\t};\r\n\r\n\t/** Calculate a pattern id for this section */\r\n\texports.prototype.calcSectionPattern = function () {\r\n\t\tvar tmpListOfSectionPattern = ko.unwrap(this.getParent().stagePatterns);\r\n\t\tvar tmpSectionPatternId = this.sectionPatternId;\r\n\t\tvar byId = tmpListOfSectionPattern.filter(function (arrElem) {\r\n\t\t\t\treturn arrElem.id === tmpSectionPatternId;\r\n\t\t\t});\r\n\r\n\t\tif (byId.length === 1) {\r\n\t\t\treturn byId[0];\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calculate whether this section is visible as a view */\r\n\texports.prototype.calcIsVisibleAsView = function () {\r\n\t\tvar tmpSectionPattern = ko.unwrap(this.sectionPattern);\r\n\t\tvar tmpIsVisible = ko.unwrap(this.isVisible);\r\n\t\tif (tmpSectionPattern) {\r\n\t\t\treturn tmpSectionPattern.isView && tmpIsVisible;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\t/** Get settings for file loader: only after defining of SectionPattern */\r\n\texports.prototype.getSectionFiloader = function () {\r\n\t\tvar ths = this;\r\n\t\tvar progressInterval = 100; //https://github.com/blueimp/jQuery-File-Upload/wiki/Options\r\n\t\tvar regExpString = ko.unwrap(ths.sectionPattern).fileTypeRegExp;\r\n\t\tvar tmpMaxSizeOfFile = this.maxSizeOfFile;\r\n\t\treturn {\r\n\t\t\turl : fileSpecService.getUrl(ths.stageKey, this.id),\r\n\t\t\taddCallback : function (data) {\r\n\t\t\t\tvar tmpFile = data.files[0];\r\n\t\t\t\tif (!tmpFile) {\r\n\t\t\t\t\tthrow new Error('No file is selected');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// data._progress is changed automatically\r\n\t\t\t\tvar tmpPreFile = new PreFile(tmpFile.name,\r\n\t\t\t\t\t\ttmpFile.size,\r\n\t\t\t\t\t\ttmpFile.type,\r\n\t\t\t\t\t\tregExpString,\r\n\t\t\t\t\t\ttmpMaxSizeOfFile,\r\n\t\t\t\t\t\tfunction () {\r\n\t\t\t\t\t\tdata.abort();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\tths.listOfPreFile.push(tmpPreFile);\r\n\r\n\t\t\t\tconsole.log('tmpPreFile', tmpPreFile, data);\r\n\r\n\t\t\t\t// If a file is not success\r\n\t\t\t\tif (tmpPreFile.isSuccess === false) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log('successful upload');\r\n\r\n\t\t\t\t// Update progress percent\r\n\t\t\t\tvar progressIntervalId = window.setInterval(function () {\r\n\t\t\t\t\t\t//var tmpProgressPercent = parseInt((data._progress.loaded / data._progress.total) * 100, 10);\r\n\r\n\t\t\t\t\t\t// if (appHelper.isNumeric(tmpProgressPercent)) {\r\n\t\t\t\t\t\t// tmpPreFile.progressPercent(tmpProgressPercent);\r\n\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t// // Check warnings, may be Nan\r\n\t\t\t\t\t\t// console.log(tmpProgressPercent + ' is not a number');\r\n\t\t\t\t\t\t// }\r\n\r\n\t\t\t\t\t\ttmpPreFile.bytesLoaded(data._progress.loaded);\r\n\r\n\t\t\t\t\t\t// Stop the time when fully loaded\r\n\t\t\t\t\t\tif (data._progress.loaded === tmpPreFile.size) {\r\n\t\t\t\t\t\t\twindow.clearInterval(progressIntervalId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, progressInterval);\r\n\r\n\t\t\t\tdata.submit()\r\n\t\t\t\t.done(function (result) {\r\n\t\t\t\t\t// Remove from pre files\r\n\t\t\t\t\tths.listOfPreFile.remove(tmpPreFile);\r\n\t\t\t\t\t// Insert to the main list of files\r\n\t\t\t\t\tths.listOfFileSpec.push(new FileSpec(result[0]));\r\n\t\t\t\t})\r\n\t\t\t\t.fail(function (jqXhr, textStatus, errorThrown) {\r\n\t\t\t\t\twindow.clearInterval(progressIntervalId);\r\n\t\t\t\t\tif (textStatus === 'abort') {\r\n\t\t\t\t\t\tths.listOfPreFile.remove(tmpPreFile);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log(jqXhr, textStatus, errorThrown);\r\n\t\t\t\t\t\talert(textStatus + ': ' + jqXhr.responseText + ' (' + errorThrown + ')');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t}\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * Remove a pre-file\r\n\t */\r\n\texports.prototype.removePreFile = function (preFileToRemove) {\r\n\t\tconsole.log('remove a pre file');\r\n\t\tthis.listOfPreFile.remove(preFileToRemove);\r\n\t};\r\n\r\n\t/** Calculate, whether all file are selected */\r\n\texports.prototype.calcIsSlcAllFiles = function () {\r\n\t\tvar tmpList = ko.unwrap(this.listOfFileSpec);\r\n\t\t// If no files - false\r\n\t\tif (tmpList.length === 0) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\t// If there is at least one unselected file - false\r\n\t\treturn (tmpList.filter(function (tmpFileSpec) {\r\n\t\t\t\treturn (ko.unwrap(tmpFileSpec.isSelected) === false);\r\n\t\t\t}).length === 0);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/production-data',['jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'moment'], function ($,\r\n\t\tko,\r\n\t\tdatacontext,\r\n\t\tappMoment) {\r\n\t'use strict';\r\n\r\n\tvar calcParamIdList = ['LiquidRate', 'WaterRate', 'OilCum', 'WaterCum', 'LiquidCum', 'GasCum', 'GOR'];\r\n\r\n\tfunction getCalcValue(prmId, prfItem) {\r\n\t\tif (prmId === 'LiquidRate') {\r\n\t\t\tvar tmpOilRate = ko.unwrap(prfItem['OilRate']);\r\n\t\t\tvar tmpWaterRate = ko.unwrap(prfItem['WaterRate']);\r\n\r\n\t\t\tif ($.isNumeric(tmpOilRate) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'OilRate',\r\n\t\t\t\t\t\tmainParam : 'LiquidRate'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif ($.isNumeric(tmpWaterRate) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'WaterRate',\r\n\t\t\t\t\t\tmainParam : 'LiquidRate'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tresponse : tmpOilRate + tmpWaterRate\r\n\t\t\t};\r\n\t\t} else if (prmId === 'WaterRate') {\r\n\t\t\tvar tmpLiquidRate = ko.unwrap(prfItem['LiquidRate']);\r\n\t\t\tvar tmpWaterCut = ko.unwrap(prfItem['WaterCut']);\r\n\t\t\tif ($.isNumeric(tmpLiquidRate) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'LiquidRate',\r\n\t\t\t\t\t\tmainParam : 'WaterRate'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif ($.isNumeric(tmpWaterCut) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'WaterCut',\r\n\t\t\t\t\t\tmainParam : 'WaterRate'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tresponse : tmpLiquidRate * (tmpWaterCut / 100)\r\n\t\t\t};\r\n\t\t} else if (prmId === 'GOR') {\r\n\t\t\tvar gorGasRate = ko.unwrap(prfItem['GasRate']);\r\n\t\t\tvar gorOilRate = ko.unwrap(prfItem['OilRate']);\r\n\r\n\t\t\tif ($.isNumeric(gorGasRate) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'GasRate',\r\n\t\t\t\t\t\tmainParam : 'GOR'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif ($.isNumeric(gorOilRate) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : 'OilRate',\r\n\t\t\t\t\t\tmainParam : 'GOR'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tif (gorOilRate === 0) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'can not be 0',\r\n\t\t\t\t\t\tparam : 'OilRate',\r\n\t\t\t\t\t\tmainParam : 'GOR'\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tresponse : gorGasRate / gorOilRate\r\n\t\t\t};\r\n\t\t} else if (prmId === 'OilCum' || prmId === 'WaterCum' || prmId === 'LiquidCum' || prmId === 'GasCum') {\r\n\t\t\tvar accordRateId = prmId.replace(\"Cum\", \"Rate\");\r\n\t\t\tvar accordRateValue = ko.unwrap(prfItem[accordRateId]);\r\n\t\t\tif ($.isNumeric(accordRateValue) === false) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\terror : {\r\n\t\t\t\t\t\tmsg : 'required as a number',\r\n\t\t\t\t\t\tparam : accordRateId,\r\n\t\t\t\t\t\tmainParam : prmId\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tvar arr = ko.unwrap(prfItem.getWell().perfomanceOfWell.hstProductionDataSet);\r\n\r\n\t\t\tvar cumSum = 0;\r\n\t\t\tfor (var i = 0, imax = arr.length; i < imax; i += 1) {\r\n\t\t\t\tif (arr[i].unixTime <= prfItem.unixTime) {\r\n\t\t\t\t\tcumSum += parseInt(arr[i].ProdDays, 10) * parseFloat(ko.unwrap(arr[i][accordRateId]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tresponse : cumSum\r\n\t\t\t};\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Production data\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, well) {\r\n\t\tvar self = this;\r\n\t\tdata = data || {};\r\n\r\n\t\tself.getWell = function () {\r\n\t\t\treturn well;\r\n\t\t};\r\n\r\n\t\t// Unix time, or POSIX time, is a system for describing instances in time,\r\n\t\t// defined as the number of seconds that have elapsed\r\n\t\t// since 00:00:00 Coordinated Universal Time (UTC), 1 January 1970,\r\n\t\t// not counting leap seconds.\r\n\t\tself.unixTime = data.UnixTime;\r\n\t\tself.WellId = data.WellId;\r\n\t\tself.ProdDays = data.ProdDays;\r\n\r\n\t\tself.prfYear = new Date(self.unixTime * 1000).getFullYear();\r\n\t\tself.prfMonthStr = appMoment(self.unixTime * 1000).format('MMM');\r\n\r\n\t\t// forecast data have no calculated properties, but you can construct forecast by last calculated row (other than last normal row)\r\n\t\tself.isForecast = data.IsForecast;\r\n\r\n\t\tfor (var dictItem in data.Dict) {\r\n\t\t\tif (data.Dict.hasOwnProperty(dictItem)) {\r\n\t\t\t\t// if param is not calculated\r\n\t\t\t\tif ($.inArray(calcParamIdList, dictItem) === -1) {\r\n\t\t\t\t\tif ($.isNumeric(data.Dict[dictItem])) {\r\n\t\t\t\t\t\tself[dictItem] = ko.observable(+data.Dict[dictItem]);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconsole.log('Production data parameter is not float [' + dictItem + ': ' + data.Dict[dictItem] + ']');\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// calculated props\r\n\t\t$.each(calcParamIdList, function (prmIdIndex, prmId) {\r\n\t\t\tself[prmId] = ko.computed({\r\n\t\t\t\t\tread : function () {\r\n\t\t\t\t\t\t//if (self.isForecast) { return; }\r\n\t\t\t\t\t\t// Find from all params:\r\n\t\t\t\t\t\tvar needGroupParam = $.grep(ko.unwrap(self.getWell().getWellGroup().listOfWfmParameterOfWroup), function (arrElem) {\r\n\t\t\t\t\t\t\t\treturn arrElem.wfmParameterId === prmId;\r\n\t\t\t\t\t\t\t})[0];\r\n\r\n\t\t\t\t\t\tif (!needGroupParam) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (ko.unwrap(needGroupParam.isCalc) === false) {\r\n\t\t\t\t\t\t\tif (typeof data.Dict[prmId] !== 'undefined') {\r\n\t\t\t\t\t\t\t\tif ($.isNumeric(data.Dict[prmId])) {\r\n\t\t\t\t\t\t\t\t\treturn +data.Dict[prmId];\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tconsole.log('Production data parameter is not float [' + prmId + ': ' + data.Dict[prmId] + ']');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar jpg = getCalcValue(prmId, self);\r\n\r\n\t\t\t\t\t\t\tif (jpg.error) {\r\n\t\t\t\t\t\t\t\tneedGroupParam.isCalc(false);\r\n\t\t\t\t\t\t\t\tconsole.log(needGroupParam.isCalc());\r\n\t\t\t\t\t\t\t\talert(jpg.error.mainParam + ' calculation: ' + jpg.error.param + ' ' + jpg.error.msg);\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn jpg.response;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tdeferEvaluation : true\r\n\t\t\t\t});\r\n\t\t});\r\n\r\n\t\tself.toPlainJson = function () {\r\n\t\t\treturn ko.toJS(self);\r\n\t\t};\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/forecast-evolution',[\r\n\t\t'jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext'],\r\n\tfunction (\r\n\t\t$,\r\n\t\tko,\r\n\t\tdatacontext) {\r\n\t'use strict';\r\n\r\n\t// const properties\r\n\t////self.DZALiquidEvolutionA = ko.observable(3702.02084750191);\r\n\t////self.DZALiquidEvolutionB = ko.observable(-0.000001203411267578);\r\n\r\n\t////self.DZAWCTEvolutionC = ko.observable(33.6757313921082);\r\n\t////self.DZAWCTEvolutionD = ko.observable(362.928904098989);\r\n\r\n\t////self.DZAGOREvolutionF = ko.observable(-406.624470555493);\r\n\t////self.DZAGOREvolutionG = ko.observable(5837.35653403327);\r\n\r\n\t/**\r\n\t * Format and description of the forecast evolution\r\n   *    can be load from external resources\r\n   * @todo: GOR foreacst evolution -507 - browser not respond (overfill maybe) #LH!\r\n   *        Try to change without forecast graph\r\n\t */\r\n\tvar libForecastEvolution = {\r\n\t\tdesc : {\r\n\t\t\tLiquidEvolutionA : 'Liquid evolution A',\r\n\t\t\tLiquidEvolutionB : 'Liquid evolution B',\r\n\t\t\tWctEvolutionC : 'WCT evolution C',\r\n\t\t\tWctEvolutionD : 'WCT evolution D',\r\n\t\t\tGorEvolutionF : 'GOR evolution F',\r\n\t\t\tGorEvolutionG : 'GOR evolution G'\r\n\t\t},\r\n\t\tformat : {\r\n\t\t\tLiquidEvolutionA : 'A * exp(B*X)',\r\n\t\t\tLiquidEvolutionB : 'A * exp(B*X)',\r\n\t\t\tWctEvolutionC : 'C * Ln(X) - D',\r\n\t\t\tWctEvolutionD : 'C * Ln(X) - D',\r\n\t\t\tGorEvolutionF : 'F * Ln(X) + G',\r\n\t\t\tGorEvolutionG : 'F * Ln(X) + G'\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Forecast evolution\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, wellItem) {\r\n\t\tvar self = this;\r\n\t\tdata = data || {};\r\n\r\n\t\tself.getWell = function () {\r\n\t\t\treturn wellItem;\r\n\t\t};\r\n\r\n\t\t// props\r\n\t\tself.WellId = data.WellId;\r\n\r\n\t\tself.Dict = ko.observable({});\r\n\r\n\t\t// functions\r\n\t\tself.save = function () {\r\n\t\t\tdatacontext.postForecastEvolution(self);\r\n\t\t};\r\n\r\n\t\tself.Lib = libForecastEvolution;\r\n\t\tself.EvoList = Object.keys(self.Lib.desc);\r\n\r\n\t\t// load empty values for dynamic properties (all evolutions)\r\n\t\t$.each(self.EvoList, function (evoIndex, evoKey) {\r\n\t\t\tself.Dict()[evoKey] = ko.observable();\r\n\t\t\t////self.Dict()[evoKey].subscribe(self.save);\r\n\t\t});\r\n\r\n\t\tself.isLoadedDict = ko.observable(false);\r\n\r\n\t\t// Load data to empty values\r\n\t\tself.getDict = function () {\r\n\t\t\tif (!ko.unwrap(self.isLoadedDict)) {\r\n\t\t\t\tdatacontext.getForecastEvolution(self.WellId).done(function (response) {\r\n\t\t\t\t\t$.each(self.EvoList, function (evoIndex, evoKey) {\r\n\t\t\t\t\t\tko.unwrap(self.Dict)[evoKey](response.Dict[evoKey]);\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tself.isLoadedDict(true);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Not a number evolution parameter array\r\n\t\tself.requiredForecastEvoListNaN = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpDict = ko.unwrap(self.Dict);\r\n\t\t\t\t\treturn $.grep(self.EvoList, function (evoKey) {\r\n\t\t\t\t\t\treturn $.isNumeric(ko.unwrap(tmpDict[evoKey])) === false;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tself.requiredForecastEvoListNaNString = ko.computed(function () {\r\n\t\t\t\treturn ko.unwrap(self.requiredForecastEvoListNaN).join(', ');\r\n\t\t\t});\r\n\r\n\t\tself.toPlainJson = function () {\r\n\t\t\treturn ko.toJS(self);\r\n\t\t};\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/perfomance-of-well',['jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'services/file-spec',\r\n\t\t'helpers/app-helper',\r\n\t\t'moment',\r\n\t\t'models/production-data',\r\n\t\t'models/forecast-evolution'\r\n\t], function ($,\r\n\t\tko,\r\n\t\tdatacontext,\r\n\t\tfileSpecService,\r\n\t\tappHelper,\r\n\t\tappMoment,\r\n\t\tProductionData,\r\n\t\tForecastEvolution) {\r\n\t'use strict';\r\n\r\n\t// ProductionDataSet (convert data objects into array)\r\n\tfunction importProductionDataSetDto(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new ProductionData(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Perfomance partial (property set)\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (wellObj) {\r\n\r\n\t\tvar prtl = this;\r\n\r\n\t\tprtl.getWellObj = function () {\r\n\t\t\treturn wellObj;\r\n\t\t};\r\n\r\n\t\t// History data\r\n\t\tprtl.hstProductionDataSet = ko.observableArray();\r\n\r\n\t\tprtl.isLoadedHstProductionData = ko.observable(false);\r\n\r\n\t\tprtl.prdColumnAttributeList = ko.observableArray();\r\n\r\n\t\tprtl.deleteWellProductionData = function () {\r\n\t\t\tdatacontext.deleteWellProductionData(wellObj.id).done(function () {\r\n\t\t\t\tprtl.hstProductionDataSet([]);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Get fragment (start columns) of production data to match columns\r\n\t\t * @todo: fix: get data #HL!\r\n\t\t */\r\n\t\tprtl.getPerfomanceFragment = function (stageKey, idOfSection, idOfFileSpec, indexOfStartRow, countOfRows, scsCallback) {\r\n\t\t\tfileSpecService.getPerfomanceFragment(stageKey, idOfSection, idOfFileSpec, indexOfStartRow, countOfRows).done(function (r) {\r\n\t\t\t\tscsCallback(r);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Import perfomance data from a file to table\r\n\t\t */\r\n\t\tprtl.postPerfomanceData = function (stageKey, idOfSection, idOfFileSpec, indexOfStartRow, listOfColumnAttrData, scsCallback, errCallback) {\r\n\t\t\tfileSpecService.postPerfomanceData(stageKey, idOfSection, idOfFileSpec, indexOfStartRow, listOfColumnAttrData).done(scsCallback).fail(errCallback);\r\n\t\t};\r\n\r\n\t\t//{ #region FORECAST\r\n\r\n\t\t// forecast parameters to build graph\r\n\t\tprtl.forecastEvolution = new ForecastEvolution({\r\n\t\t\t\tWellId : wellObj.Id\r\n\t\t\t});\r\n\r\n\t\t// forecast length\r\n\t\tprtl.forecastDayCount = ko.observable(3600); // 50 years = 18250 //3600\r\n\r\n\t\t// First element in history production data\r\n\t\tprtl.LastProductionData = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(prtl.hstProductionDataSet)[0];\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t// forecast panel with properties and evolutions and differences\r\n\t\tprtl.isVisibleForecastPanel = ko.observable(false);\r\n\r\n\t\t// TODO: Start\r\n\t\t// Evolutions\r\n\t\tprtl.DZADiffLiquid = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tif (ko.unwrap(prtl.LastProductionData)) {\r\n\t\t\t\t\t\tvar cum = ko.unwrap(ko.unwrap(prtl.LastProductionData)['LiquidCum']);\r\n\t\t\t\t\t\tif ($.isNumeric(cum)) {\r\n\t\t\t\t\t\t\tvar evoDict = ko.unwrap(ko.unwrap(prtl.forecastEvolution).Dict);\r\n\t\t\t\t\t\t\tvar evoLiquidA = ko.unwrap(evoDict['LiquidEvolutionA']),\r\n\t\t\t\t\t\t\tevoLiquidB = ko.unwrap(evoDict['LiquidEvolutionB']);\r\n\r\n\t\t\t\t\t\t\tif ($.isNumeric(evoLiquidA) === true && $.isNumeric(evoLiquidB) === true) {\r\n\t\t\t\t\t\t\t\treturn +evoLiquidA * Math.exp(+evoLiquidB * +cum);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.DZADiffLiquidResult = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar ddl = ko.unwrap(prtl.DZADiffLiquid);\r\n\r\n\t\t\t\t\tif ($.isNumeric(ddl)) {\r\n\t\t\t\t\t\tvar llr = ko.unwrap(ko.unwrap(prtl.LastProductionData)['LiquidRate']);\r\n\t\t\t\t\t\tif ($.isNumeric(llr)) {\r\n\t\t\t\t\t\t\treturn +ddl - +llr;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t\t// DZA diff liquid END ===============================\r\n\r\n\t\t// DZA diff WaterCut =================================\r\n\t\tprtl.DZADiffWCT = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tif (ko.unwrap(prtl.LastProductionData)) {\r\n\t\t\t\t\t\tvar cum = ko.unwrap(ko.unwrap(prtl.LastProductionData)['OilCum']);\r\n\t\t\t\t\t\tif ($.isNumeric(cum)) {\r\n\t\t\t\t\t\t\tvar evoDict = ko.unwrap(ko.unwrap(prtl.forecastEvolution).Dict);\r\n\t\t\t\t\t\t\tvar evoWctC = ko.unwrap(evoDict['WctEvolutionC']),\r\n\t\t\t\t\t\t\tevoWctD = ko.unwrap(evoDict['WctEvolutionD']);\r\n\t\t\t\t\t\t\tif ($.isNumeric(evoWctC) && $.isNumeric(evoWctD)) {\r\n\t\t\t\t\t\t\t\treturn +evoWctC * Math.log(+cum) - +evoWctD;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.DZADiffWCTResult = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar ddw = ko.unwrap(prtl.DZADiffWCT);\r\n\t\t\t\t\tif ($.isNumeric(ddw)) {\r\n\t\t\t\t\t\tvar wct = ko.unwrap(ko.unwrap(prtl.LastProductionData)['WaterCut']);\r\n\t\t\t\t\t\tif ($.isNumeric(wct)) {\r\n\t\t\t\t\t\t\treturn +ddw - (+wct);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t\t// DZA diff WaterCut END ================================\r\n\r\n\t\t// DZA diff GOR =========================================\r\n\t\tprtl.DZADiffGOR = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tif (ko.unwrap(prtl.LastProductionData)) {\r\n\t\t\t\t\t\tvar cum = ko.unwrap(ko.unwrap(prtl.LastProductionData)['OilCum']);\r\n\t\t\t\t\t\tif ($.isNumeric(cum)) {\r\n\t\t\t\t\t\t\tvar evoDict = ko.unwrap(ko.unwrap(prtl.forecastEvolution).Dict);\r\n\t\t\t\t\t\t\tvar evoGorF = ko.unwrap(evoDict['GorEvolutionF']),\r\n\t\t\t\t\t\t\tevoGorG = ko.unwrap(evoDict['GorEvolutionG']);\r\n\r\n\t\t\t\t\t\t\tif ($.isNumeric(evoGorF) && $.isNumeric(evoGorG)) {\r\n\t\t\t\t\t\t\t\treturn (+evoGorF) * Math.log(+cum) + (+evoGorG);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.DZADiffGORResult = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar ddg = ko.unwrap(prtl.DZADiffGOR);\r\n\t\t\t\t\tif ($.isNumeric(ddg)) {\r\n\t\t\t\t\t\tvar gor = ko.unwrap(ko.unwrap(prtl.LastProductionData)['GOR']);\r\n\t\t\t\t\t\tif ($.isNumeric(gor)) {\r\n\t\t\t\t\t\t\treturn +ddg - +gor;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t\t// DZA diff GOR END ====================================\r\n\r\n\t\t// ============= Required forecast params list ===============================================\r\n\r\n\t\tprtl.requiredForecastParamListNaN = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar lastHistoryPD = ko.unwrap(prtl.LastProductionData);\r\n\t\t\t\t\tvar requiredForecastParamList = ['OilCum', 'WaterCum', 'GasCum', 'LiquidRate', 'LiquidCum', 'GOR'];\r\n\t\t\t\t\tif (!lastHistoryPD) {\r\n\t\t\t\t\t\t// if no last pd then need all params\r\n\t\t\t\t\t\treturn requiredForecastParamList;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn $.grep(requiredForecastParamList, function (arrElem) {\r\n\t\t\t\t\t\treturn $.isNumeric(ko.unwrap(lastHistoryPD[arrElem])) === false;\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.requiredForecastParamListNaNString = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(prtl.requiredForecastParamListNaN).join(', ');\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.firstForecastPd = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar lastHistoryPD = ko.unwrap(prtl.LastProductionData);\r\n\t\t\t\t\tif (!lastHistoryPD) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if some required param is NaN then return\r\n\t\t\t\t\tif ((ko.unwrap(prtl.requiredForecastParamListNaN)).length > 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ((ko.unwrap(prtl.forecastEvolution.requiredForecastEvoListNaN)).length > 0) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// all these parameters calculates from required params (check above requred params before checking these params)\r\n\t\t\t\t\tif ($.isNumeric(ko.unwrap(prtl.DZADiffLiquidResult)) === false) {\r\n\t\t\t\t\t\tconsole.log('DZADiffLiquidResult is not number');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ($.isNumeric(ko.unwrap(prtl.DZADiffWCTResult)) === false) {\r\n\t\t\t\t\t\tconsole.log('DZADiffWCTResult is not number');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ($.isNumeric(ko.unwrap(prtl.DZADiffGORResult)) === false) {\r\n\t\t\t\t\t\tconsole.log('DZADiffGORResult is not number');\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar fddDict = {\r\n\t\t\t\t\t\tOilCum : +ko.unwrap(lastHistoryPD.OilCum),\r\n\t\t\t\t\t\tGasCum : +ko.unwrap(lastHistoryPD.GasCum),\r\n\t\t\t\t\t\tWaterCum : +ko.unwrap(lastHistoryPD.WaterCum)\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Dictionary with forecast evolution parameters\r\n\t\t\t\t\tvar evoDict = ko.unwrap(ko.unwrap(prtl.forecastEvolution).Dict);\r\n\r\n\t\t\t\t\tvar evoLiquidA = +ko.unwrap(evoDict['LiquidEvolutionA']),\r\n\t\t\t\t\tevoLiquidB = +ko.unwrap(evoDict['LiquidEvolutionB']),\r\n\t\t\t\t\tevoWctC = +ko.unwrap(evoDict['WctEvolutionC']),\r\n\t\t\t\t\tevoWctD = +ko.unwrap(evoDict['WctEvolutionD']),\r\n\t\t\t\t\tevoGorF = +ko.unwrap(evoDict['GorEvolutionF']),\r\n\t\t\t\t\tevoGorG = +ko.unwrap(evoDict['GorEvolutionG']);\r\n\r\n\t\t\t\t\tvar diffLiquid = +ko.unwrap(prtl.DZADiffLiquidResult),\r\n\t\t\t\t\tdiffWct = +ko.unwrap(prtl.DZADiffWCTResult),\r\n\t\t\t\t\tdiffGor = +ko.unwrap(prtl.DZADiffGORResult);\r\n\r\n\t\t\t\t\t// calculated\r\n\t\t\t\t\tfddDict.LiquidCum = fddDict.OilCum + fddDict.WaterCum;\r\n\t\t\t\t\tfddDict.LiquidRate = evoLiquidA * Math.exp(evoLiquidB * fddDict.LiquidCum) - diffLiquid;\r\n\t\t\t\t\tfddDict.WaterCut = evoWctC * Math.log(fddDict.OilCum) - evoWctD - diffWct;\r\n\t\t\t\t\tfddDict.OilRate = (100 - fddDict.WaterCut) * fddDict.LiquidRate / 100;\r\n\t\t\t\t\tfddDict.WaterRate = fddDict.LiquidRate - fddDict.OilRate;\r\n\t\t\t\t\tfddDict.GOR = evoGorF * Math.log(fddDict.OilCum) + evoGorG - diffGor;\r\n\t\t\t\t\tfddDict.GasRate = fddDict.GOR * fddDict.OilRate;\r\n\r\n\t\t\t\t\t// first item in forecast - it's equals last actual production data by main parameters\r\n\r\n\t\t\t\t\treturn new ProductionData({\r\n\t\t\t\t\t\tWellId : +ko.unwrap(wellObj.Id),\r\n\t\t\t\t\t\tUnixTime : +ko.unwrap(lastHistoryPD.unixTime),\r\n\t\t\t\t\t\tProdDays : +ko.unwrap(lastHistoryPD.ProdDays),\r\n\t\t\t\t\t\tDict : fddDict,\r\n\t\t\t\t\t\tIsForecast : true\r\n\t\t\t\t\t}, wellObj);\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.startForecastUnixTime = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpFirstForecastPd = ko.unwrap(prtl.firstForecastPd);\r\n\t\t\t\t\tif (tmpFirstForecastPd) {\r\n\t\t\t\t\t\treturn tmpFirstForecastPd.unixTime + tmpFirstForecastPd.ProdDays * 24 * 60 * 60;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.endForecastUnixTime = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tif (ko.unwrap(prtl.startForecastUnixTime)) {\r\n\t\t\t\t\t\treturn ko.unwrap(prtl.startForecastUnixTime) + ko.unwrap(prtl.forecastDayCount) * 24 * 60 * 60;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.histYearList = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar yearList = [];\r\n\r\n\t\t\t\t\tvar result = ko.unwrap(prtl.hstProductionDataSet);\r\n\t\t\t\t\tvar rlength = result.length;\r\n\t\t\t\t\tif (rlength > 0) {\r\n\t\t\t\t\t\tvar startDate = new Date(ko.unwrap(result[rlength - 1].unixTime) * 1000);\r\n\t\t\t\t\t\tvar endDate = new Date(ko.unwrap(result[0].unixTime) * 1000);\r\n\r\n\t\t\t\t\t\t// set available years\r\n\r\n\t\t\t\t\t\tfor (var i = endDate.getFullYear(), ilim = startDate.getFullYear(); i >= ilim; i -= 1) {\r\n\t\t\t\t\t\t\tyearList.push(i);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Update according fields\r\n\t\t\t\t\t\t// Can be updated after loading date or automatically by select boxes\r\n\t\t\t\t\t\t////prtl.WPDDateStartYear(yearList.length > 1 ? (endDate.getFullYear() - 1) : endDate.getFullYear());\r\n\t\t\t\t\t\t////prtl.WPDDateEndYear(endDate.getFullYear());\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn yearList;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.forecastYearList = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar resultYearList = [];\r\n\r\n\t\t\t\t\tvar tmpStartForecastUnixTime = ko.unwrap(prtl.startForecastUnixTime);\r\n\t\t\t\t\tvar tmpEndForecastUnixTime = ko.unwrap(prtl.endForecastUnixTime);\r\n\r\n\t\t\t\t\tif (tmpStartForecastUnixTime && tmpEndForecastUnixTime) {\r\n\t\t\t\t\t\tresultYearList = appHelper.getYearList(new Date(tmpStartForecastUnixTime * 1000).getFullYear() + 1, new Date(tmpEndForecastUnixTime * 1000).getFullYear());\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn resultYearList;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t// All history data: without any filters\r\n\t\t// If need to update data then\r\n\t\t// 1. Set loaded to off\r\n\t\t// 2. Run method\r\n\t\t// Caution: when import new data through FileManager:\r\n\t\t// 1. set ProductionDataSet to []\r\n\t\t// 2. set isLoaded to false\r\n\t\tprtl.getHstProductionDataSet = function () {\r\n\t\t\tif (ko.unwrap(prtl.isLoadedHstProductionData)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdatacontext.getProductionData({\r\n\t\t\t\twell_id : wellObj.Id\r\n\t\t\t}).done(function (result) {\r\n\t\t\t\tprtl.hstProductionDataSet(importProductionDataSetDto(result, wellObj));\r\n        console.log('prodData', prtl.hstProductionDataSet());\r\n\t\t\t\tprtl.isLoadedHstProductionData(true);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\tprtl.isForecastPossible = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\treturn ko.unwrap(prtl.firstForecastPd) ? true : false;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\tprtl.dcaProductionDataSet = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar forecastArr = [];\r\n\r\n\t\t\t\t\t// set first elem in forecast collection\r\n\t\t\t\t\tvar lastDca = ko.unwrap(prtl.firstForecastPd);\r\n\r\n\t\t\t\t\t// only if forecast possible\r\n\t\t\t\t\tif (lastDca) {\r\n\t\t\t\t\t\tforecastArr.push(lastDca);\r\n\r\n\t\t\t\t\t\tvar startForecastUnixTime = +ko.unwrap(prtl.startForecastUnixTime);\r\n\t\t\t\t\t\tvar endForecastUnixTime = +ko.unwrap(prtl.endForecastUnixTime);\r\n\r\n\t\t\t\t\t\tvar evoDict = ko.unwrap(ko.unwrap(prtl.forecastEvolution).Dict);\r\n\r\n\t\t\t\t\t\tvar evoLiquidA = +ko.unwrap(evoDict['LiquidEvolutionA']),\r\n\t\t\t\t\t\tevoLiquidB = +ko.unwrap(evoDict['LiquidEvolutionB']),\r\n\t\t\t\t\t\tevoWctC = +ko.unwrap(evoDict['WctEvolutionC']),\r\n\t\t\t\t\t\tevoWctD = +ko.unwrap(evoDict['WctEvolutionD']),\r\n\t\t\t\t\t\tevoGorF = +ko.unwrap(evoDict['GorEvolutionF']),\r\n\t\t\t\t\t\tevoGorG = +ko.unwrap(evoDict['GorEvolutionG']);\r\n\r\n\t\t\t\t\t\tvar diffLiquid = +ko.unwrap(prtl.DZADiffLiquidResult),\r\n\t\t\t\t\t\tdiffWct = +ko.unwrap(prtl.DZADiffWCTResult),\r\n\t\t\t\t\t\tdiffGor = +ko.unwrap(prtl.DZADiffGORResult);\r\n\r\n\t\t\t\t\t\tvar k = startForecastUnixTime;\r\n\t\t\t\t\t\twhile (k < endForecastUnixTime) {\r\n\t\t\t\t\t\t\t// from OADate to daysInMonth\r\n\t\t\t\t\t\t\tvar daysInMonth = appMoment(k * 1000).daysInMonth();\r\n\r\n\t\t\t\t\t\t\tvar tmpDict = {};\r\n\r\n\t\t\t\t\t\t\ttmpDict.LiquidRate = evoLiquidA * Math.exp(evoLiquidB * +ko.unwrap(lastDca.LiquidCum)) - diffLiquid;\r\n\t\t\t\t\t\t\ttmpDict.WaterCut = evoWctC * Math.log(+ko.unwrap(lastDca.OilCum)) - evoWctD - diffWct;\r\n\t\t\t\t\t\t\ttmpDict.OilRate = (100 - tmpDict.WaterCut) * tmpDict.LiquidRate / 100;\r\n\t\t\t\t\t\t\ttmpDict.WaterRate = tmpDict.LiquidRate - tmpDict.OilRate;\r\n\t\t\t\t\t\t\ttmpDict.OilCum = +ko.unwrap(lastDca.OilCum) + (daysInMonth * tmpDict.OilRate);\r\n\t\t\t\t\t\t\ttmpDict.GOR = evoGorF * Math.log(tmpDict.OilCum) + evoGorG - diffGor;\r\n\t\t\t\t\t\t\ttmpDict.GasRate = tmpDict.GOR * tmpDict.OilRate;\r\n\t\t\t\t\t\t\ttmpDict.GasCum = +ko.unwrap(lastDca.GasCum) + tmpDict.GasRate * daysInMonth;\r\n\t\t\t\t\t\t\ttmpDict.WaterCum = +ko.unwrap(lastDca.WaterCum) + tmpDict.WaterRate * daysInMonth;\r\n\t\t\t\t\t\t\ttmpDict.LiquidCum = tmpDict.WaterCum + tmpDict.OilCum;\r\n\r\n\t\t\t\t\t\t\t// set as last DCA\r\n\t\t\t\t\t\t\t// decline curve analyze unit\r\n\t\t\t\t\t\t\tlastDca = new ProductionData({\r\n\t\t\t\t\t\t\t\t\tUnixTime : k,\r\n\t\t\t\t\t\t\t\t\tProdDays : daysInMonth, // or 30.5 as standart\r\n\t\t\t\t\t\t\t\t\tDict : tmpDict,\r\n\t\t\t\t\t\t\t\t\tIsForecast : true\r\n\t\t\t\t\t\t\t\t}, wellObj);\r\n\r\n\t\t\t\t\t\t\tforecastArr.unshift(lastDca);\r\n\r\n\t\t\t\t\t\t\t// add one month\r\n\t\t\t\t\t\t\tk += daysInMonth * 24 * 60 * 60;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn forecastArr;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t//} #endregion FORECAST\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/sketch-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    function sketchOfWellUrl(idOfWell) {\r\n        return '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/sketches';\r\n    }\r\n\r\n    var exports = {\r\n        get: function (idOfWell) {\r\n            return ajaxRequest('GET', sketchOfWellUrl(idOfWell));\r\n        },\r\n        put: function (idOfWell, modelData) {\r\n            return ajaxRequest('PUT', sketchOfWellUrl(idOfWell), modelData);\r\n        },\r\n        remove: function (idOfWell) {\r\n            return ajaxRequest('DELETE', sketchOfWellUrl(idOfWell));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/**\r\n* @module\r\n*/\r\ndefine('models/sketch-of-well',['knockout', 'models/file-spec', 'services/sketch-of-well'], function (ko, FileSpec, sketchOfWellService) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Sketch of well\r\n    * @constructor\r\n    */\r\n    var exports = function (well) {\r\n        /** Alternative */\r\n        var ths = this;\r\n\r\n        /** Get well (parent) */\r\n        this.getWell = function () {\r\n            return well;\r\n        };\r\n\r\n        /**\r\n        * Id of well\r\n        * @type {number}\r\n        */\r\n        this.idOfWell = ths.getWell().Id;\r\n\r\n        /**\r\n        * Id of file (guid): can not be changed: when select new file - recreate WellSketch model\r\n        * @type {string}\r\n        */\r\n        this.idOfFileSpec = ko.observable();\r\n\r\n        /**\r\n        * File spec\r\n        * @type {module:models/file-spec}\r\n        */\r\n        this.fileSpec = ko.observable();\r\n\r\n        /**\r\n        * Name of sketch\r\n        * @type {string}\r\n        */\r\n        this.name = ko.observable();\r\n\r\n        /**\r\n        * Description of sketch (html code)\r\n        * @type {string}\r\n        */\r\n        this.description = ko.observable();\r\n\r\n        this.isLoaded = ko.observable(false);\r\n\r\n        /** Load well sketches: get only first elem of array: one sketch per well */\r\n        this.load = function () {\r\n            // Load only if not loaded already\r\n            if (ko.unwrap(ths.isLoaded)) { return; }\r\n\r\n            // return array of sketch: get only first\r\n            sketchOfWellService.get(ths.idOfWell).done(function (r) {\r\n                if (r.length > 0) {\r\n                    var resSketch = r[0];\r\n\r\n                    ths.name(resSketch.Name);\r\n                    ths.description(resSketch.Description);\r\n                    ths.idOfFileSpec(resSketch.IdOfFileSpec);\r\n                    ths.fileSpec(new FileSpec(resSketch.FileSpecDto));\r\n                }\r\n                else {\r\n                    ths.name(null);\r\n                    ths.description(null);\r\n                    ths.idOfFileSpec(null);\r\n                    ths.fileSpec(null);\r\n                }\r\n\r\n                ths.isLoaded(true);\r\n            });\r\n\r\n        };\r\n\r\n        this.save = function () {\r\n            sketchOfWellService.put(ths.idOfWell, {\r\n                idOfWell: ths.idOfWell,\r\n                idOfFileSpec: ko.unwrap(ths.idOfFileSpec),\r\n                name: ko.unwrap(ths.name),\r\n                description: ko.unwrap(ths.description)\r\n            }).done(function (resSketch) {\r\n                ths.name(resSketch.Name);\r\n                ths.description(resSketch.Description);\r\n                ths.idOfFileSpec(resSketch.IdOfFileSpec);\r\n                ths.fileSpec(new FileSpec(resSketch.FileSpecDto));\r\n            });\r\n        };\r\n\r\n        this.clearSketchOfWell = function () {\r\n            if (confirm('Are you sure you want to delete \"' + ko.unwrap(ths.name) + '\"?')) {\r\n                sketchOfWellService.remove(ths.idOfWell).done(function () {\r\n                    // Remove from well on the client\r\n                    ths.name(null);\r\n                    ths.description(null);\r\n                    ths.idOfFileSpec(null);\r\n                    ths.fileSpec(null);\r\n                });\r\n            }\r\n        };\r\n\r\n        this.putSketchOfWell = function (tmpIdOfFileSpec, tmpName, scsCallback) {\r\n            // Change sketch (create if not exists)\r\n            sketchOfWellService.put(ths.idOfWell, {\r\n                idOfWell: ths.idOfWell,\r\n                idOfFileSpec: tmpIdOfFileSpec,\r\n                name: tmpName || '',\r\n                description: ko.unwrap(ths.description) || ''\r\n            }).done(function (resSketch) {\r\n                ths.name(resSketch.Name);\r\n                ths.description(resSketch.Description);\r\n                ths.idOfFileSpec(resSketch.IdOfFileSpec);\r\n                ths.fileSpec(new FileSpec(resSketch.FileSpecDto));\r\n                scsCallback();\r\n            });\r\n        };\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/prop-spec',[], function () {\r\n    'use strict';\r\n\r\n    /**\r\n    * Property specification\r\n    * @constructor\r\n    */\r\n    var exports = function (clientId, serverId, ttl, tpe, addtData) {\r\n        /**\r\n        * Id, used on the client side: can be different then server side id\r\n        * @type {string}\r\n        */\r\n        this.clientId = clientId;\r\n\r\n        /**\r\n        * Id, used on the server side: when server id is changed, then no need to change client id\r\n        * @type {string}\r\n        */\r\n        this.serverId = serverId;\r\n\r\n        /**\r\n        * Property title\r\n        * @type {string}\r\n        */\r\n        this.ttl = ttl;\r\n\r\n        /**\r\n        * Property type: SingleLine, MultiLine, DateLine, ImgUrl: defines representation of this property\r\n        * @type {string}\r\n        */\r\n        this.tpe = tpe;\r\n\r\n        /**\r\n        * Additional data, specific for every type\r\n        * @type {object}\r\n        */\r\n        this.addtData = addtData;\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('services/well',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    var url = function (uqp) {\r\n        return '//wfm-report.herokuapp.com/api/well/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function () {\r\n            return ajaxRequest('GET', url());\r\n        },\r\n        post: function (data) {\r\n            return ajaxRequest('POST', url(), data);\r\n        },\r\n        put: function (id, data) {\r\n            return ajaxRequest('PUT', url({ id: id }), data);\r\n        },\r\n        remove: function (id) {\r\n            return ajaxRequest('DELETE', url({ id: id }));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/integrity-of-well',['knockout', 'models/file-spec'], function (ko, FileSpec) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Model: integrity of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data) {\r\n\t\tdata = data || {};\r\n\r\n\t\t////var ths = this;\r\n\r\n\t\t/**\r\n\t\t * Id of parent\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWell = data.IdOfWell;\r\n\r\n\t\t/**\r\n\t\t * Guid of file specification: can not be changed - only re-creation whole object\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n\t\t/**\r\n\t\t * Name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t/**\r\n\t\t * Description\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.description = ko.observable(data.Description);\r\n\r\n\t\t/**\r\n\t\t * File specification\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.fileSpec = new FileSpec(data.FileSpecDto);\r\n\t};\r\n\r\n\treturn exports;\r\n});\n","/** @module */\r\ndefine('services/integrity-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t * @param {number} idOfWell - Id of parent (well)\r\n\t * @param {string} idOfFileSpec - Id of file specification: guid\r\n\t */\r\n\tvar url = function (idOfWell, idOfFileSpec) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/integrities' + (idOfFileSpec ? ('/' + idOfFileSpec) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Data service: nodal analysis\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function (idOfWell, idOfFileSpec) {\r\n\t\t\treturn ajaxRequest('GET', url(idOfWell, idOfFileSpec));\r\n\t\t},\r\n\t\tpost : function (idOfWell, data) {\r\n\t\t\treturn ajaxRequest('POST', url(idOfWell), data);\r\n\t\t},\r\n\t\tput : function (idOfWell, idOfFileSpec, data) {\r\n\t\t\treturn ajaxRequest('PUT', url(idOfWell, idOfFileSpec), data);\r\n\t\t},\r\n\t\tremove : function (idOfWell, idOfFileSpec) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfWell, idOfFileSpec));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/nodal-analysis-of-well',['knockout', 'models/file-spec'], function (ko, FileSpec) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Model: nodal analysis of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data) {\r\n\t\tdata = data || {};\r\n\r\n\t\t////var ths = this;\r\n\r\n\t\t/**\r\n\t\t * Id of parent\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWell = data.IdOfWell;\r\n\r\n\t\t/**\r\n\t\t * Guid of file specification: can not be changed - only re-creation whole object\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n\t\t/**\r\n\t\t * Name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t/**\r\n\t\t * Description\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.description = ko.observable(data.Description);\r\n\r\n\t\t/**\r\n\t\t * File specification\r\n\t\t * @type {module:models/file-spec}\r\n\t\t */\r\n\t\tthis.fileSpec = new FileSpec(data.FileSpecDto);\r\n\t};\r\n\r\n\treturn exports;\r\n});\n","/** @module */\r\ndefine('services/nodal-analysis-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t * @param {number} idOfWell - Id of parent (well)\r\n\t * @param {string} idOfFileSpec - Id of file specification: guid\r\n\t */\r\n\tvar url = function (idOfWell, idOfFileSpec) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/nodal-analyzes' + (idOfFileSpec ? ('/' + idOfFileSpec) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Data service: nodal analysis\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function (idOfWell, idOfFileSpec) {\r\n\t\t\treturn ajaxRequest('GET', url(idOfWell, idOfFileSpec));\r\n\t\t},\r\n\t\tpost : function (idOfWell, data) {\r\n\t\t\treturn ajaxRequest('POST', url(idOfWell), data);\r\n\t\t},\r\n\t\tput : function (idOfWell, idOfFileSpec, data) {\r\n\t\t\treturn ajaxRequest('PUT', url(idOfWell, idOfFileSpec), data);\r\n\t\t},\r\n\t\tremove : function (idOfWell, idOfFileSpec) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfWell, idOfFileSpec));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\n","/** @module */\r\ndefine('models/volume-of-well',['knockout', 'models/file-spec'], function (ko, FileSpec) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Volume of well model\r\n    * @constructor\r\n    */\r\n    var exports = function (data) {\r\n        data = data || {};\r\n        \r\n        ////var ths = this;\r\n\r\n        /**\r\n        * Id of parent\r\n        * @type {number}\r\n        */\r\n        this.idOfWell = data.IdOfWell;\r\n\r\n        /**\r\n        * Guid of file specification: can not be changed - only re-creation whole object\r\n        * @type {string}\r\n        */\r\n        this.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n        /** Volume name */\r\n        this.name = ko.observable(data.Name);\r\n\r\n        /** Volume description */\r\n        this.description = ko.observable(data.Description);\r\n\r\n        /**\r\n        * File specification \r\n        * @type {module:models/file-spec}\r\n        */\r\n        this.fileSpec = new FileSpec(data.FileSpecDto);\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('services/volume-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Generate url for service\r\n    * @param {number} idOfWell - Id of parent (well)\r\n    * @param {string} idOfFileSpec - Id of file for this volume: guid\r\n    */\r\n    var url = function (idOfWell, idOfFileSpec) {\r\n        return '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/volumes' + (idOfFileSpec ? ('/' + idOfFileSpec) : '');\r\n    };\r\n\r\n    /**\r\n    * Volume of well service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfWell, idOfFileSpec) {\r\n            return ajaxRequest('GET', url(idOfWell, idOfFileSpec));\r\n        },\r\n        post: function (idOfWell, data) {\r\n            return ajaxRequest('POST', url(idOfWell), data);\r\n        },\r\n        put: function (idOfWell, idOfFileSpec, data) {\r\n            return ajaxRequest('PUT', url(idOfWell, idOfFileSpec), data);\r\n        },\r\n        remove: function (idOfWell, idOfFileSpec) {\r\n            return ajaxRequest('DELETE', url(idOfWell, idOfFileSpec));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/file-spec-of-history-of-well',['knockout', 'models/file-spec'], function (ko, FileSpec) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Model: file spec of history of well\r\n    * @constructor\r\n    */\r\n    var exports = function (data) {\r\n        data = data || {};\r\n\r\n        this.idOfHistoryOfWell = data.IdOfHistoryOfWell;\r\n        this.idOfFileSpec = data.IdOfFileSpec;\r\n        this.description = ko.observable(data.Description);\r\n\r\n        /**\r\n        * File specification\r\n        * @type {module:models/file-spec}\r\n        */\r\n        this.fileSpec = new FileSpec(data.FileSpecDto);\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('services/file-spec-of-history-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /** Url */\r\n    var url = function (idOfHistoryOfWell, idOfFileSpec) {\r\n        return '//wfm-report.herokuapp.com/api/well-histories/' + idOfHistoryOfWell + '/history-files' + (idOfFileSpec ? ('/' + idOfFileSpec) : '');\r\n    };\r\n\r\n    /**\r\n    * Service: file specification of history of well\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfHistoryOfWell, idOfFileSpec) {\r\n            return ajaxRequest('GET', url(idOfHistoryOfWell, idOfFileSpec));\r\n        },\r\n        post: function (idOfHistoryOfWell, data) {\r\n            return ajaxRequest('POST', url(idOfHistoryOfWell), data);\r\n        },\r\n        ////put: function (idOfHistoryOfWell, idOfFileSpec, data) {\r\n        ////    return ajaxRequest('PUT', url(idOfHistoryOfWell, idOfFileSpec), data);\r\n        ////},\r\n        remove: function (idOfHistoryOfWell, idOfFileSpec) {\r\n            return ajaxRequest('DELETE', url(idOfHistoryOfWell, idOfFileSpec));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/wfm-image',['models/file-spec'], function (FileSpec) {\r\n    'use strict';\r\n\r\n    /**\r\n    * WFM image: cropped image\r\n    * @constructor\r\n    */\r\n    var exports = function (data) {\r\n        data = data || {};\r\n\r\n        ////var ths = this;\r\n\r\n        /** Id of image */\r\n        this.id = data.Id;\r\n\r\n        this.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n        this.fileSpec = new FileSpec(data.FileSpecDto);\r\n\r\n        //// Name of image: previous url\r\n        ////this.Name = data.Name;\r\n\r\n        this.x1 = data.X1;\r\n        this.y1 = data.Y1;\r\n        this.x2 = data.X2;\r\n        this.y2 = data.Y2;\r\n        this.cropXUnits = data.CropXUnits;\r\n        this.cropYUnits = data.CropYUnits;\r\n\r\n        /**\r\n        * Cropped image url: creaded from file url and all coords\r\n        * @type {string}\r\n        */\r\n        this.croppedImageUrl = data.CroppedImageUrl;\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('services/image-of-history-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /** Url */\r\n    var url = function (idOfHistoryOfWell, id) {\r\n        return '//wfm-report.herokuapp.com/api/well-histories/' + idOfHistoryOfWell + '/history-images' + (id ? ('/' + id) : '');\r\n    };\r\n\r\n    /**\r\n    * Service: cropped image (xerox) of history of well\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfHistoryOfWell, id) {\r\n            return ajaxRequest('GET', url(idOfHistoryOfWell, id));\r\n        },\r\n        post: function (idOfHistoryOfWell, data) {\r\n            return ajaxRequest('POST', url(idOfHistoryOfWell), data);\r\n        },\r\n        remove: function (idOfHistoryOfWell, id) {\r\n            return ajaxRequest('DELETE', url(idOfHistoryOfWell, id));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/history-of-well',['jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'helpers/app-helper',\r\n\t\t'models/file-spec-of-history-of-well',\r\n\t\t'services/file-spec-of-history-of-well',\r\n\t\t'models/wfm-image',\r\n\t\t'services/image-of-history-of-well'],\r\n\tfunction ($, ko, datacontext, appHelper,\r\n\t\tFileSpecOfHistoryOfWell, fileSpecOfHistoryOfWellService,\r\n\t\tWfmImage, imageOfHistoryOfWellService) {\r\n\t'use strict';\r\n\r\n\t// convert data objects into array\r\n\tfunction importWellHistoryFiles(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new FileSpecOfHistoryOfWell(item);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importWfmImagesDto(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new WfmImage(item);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * History of well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, well) {\r\n\t\tdata = data || {};\r\n\r\n\t\tthis.getWell = function () {\r\n\t\t\treturn well;\r\n\t\t};\r\n\r\n\t\t// Properties\r\n\t\tthis.id = data.Id;\r\n\t\tthis.historyText = ko.observable(data.HistoryText);\r\n\t\tthis.startUnixTime = ko.observable(data.StartUnixTime);\r\n\t\tthis.endUnixTime = ko.observable(data.EndUnixTime);\r\n\t\tthis.jobTypeId = data.JobTypeId ? ko.observable(data.JobTypeId) : ko.observable();\r\n\t\tthis.wellId = data.WellId;\r\n\r\n\t\tthis.WfmImages = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * A list of history files\r\n\t\t * @type {Array.<module:models/file-spec>}\r\n\t\t */\r\n\t\tthis.WellHistoryFiles = ko.observableArray(importWellHistoryFiles(data.WellHistoryFiles));\r\n\r\n\t\t/**\r\n\t\t * A list of job types of this company\r\n\t\t * @type {module:models/job-type}\r\n\t\t */\r\n\t\tthis.listOfJobTypeOfCompany = ko.computed({\r\n\t\t\t\tread : this.calcListOfJobTypeOfCompany,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t// Load job type id\r\n\t\t// Extract from root.companyJobTypeList by id\r\n\t\t// Computed\r\n\t\tthis.jobType = ko.computed({\r\n\t\t\t\tread : this.calcJobTypeById,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether the end time block is visible\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isVisibleEndUnixTime = ko.computed({\r\n\t\t\t\tread : this.calcIsVisEndUnixTime,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.startUnixTime.subscribe(this.putWellHistory, this);\r\n\t\tthis.endUnixTime.subscribe(this.putWellHistory, this);\r\n\t\tthis.jobTypeId.subscribe(this.putWellHistory, this);\r\n\r\n\t\tif (data.WfmImagesDto) {\r\n\t\t\tthis.WfmImages(importWfmImagesDto(data.WfmImagesDto));\r\n\t\t}\r\n\r\n\t\t// No needs. Extracted from root.jobTypeList\r\n\t\t////if (data.JobTypeDto) {\r\n\t\t////    ths.jobType(new JobType(data.JobTypeDto));\r\n\t\t////}\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a list with job types\r\n\t * @private\r\n\t * @returns {Array.<module:models/job-type>}\r\n\t */\r\n\texports.prototype.calcListOfJobTypeOfCompany = function () {\r\n\t\treturn ko.unwrap(this.getWell().getWellGroup().getWellField().getWellRegion().getCompany().jobTypeList);\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a job type using id\r\n\t * @return {module:models/job-type\r\n\t */\r\n\texports.prototype.calcJobTypeById = function () {\r\n\t\tvar tmpJobTypeId = ko.unwrap(this.jobTypeId);\r\n\t\tif (tmpJobTypeId) {\r\n\t\t\tvar companyJobTypeList = ko.unwrap(this.listOfJobTypeOfCompany);\r\n\t\t\treturn appHelper.getElementByPropertyValue(companyJobTypeList, 'id', tmpJobTypeId);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Calc visibility of the end time block\r\n\t * @return {boolean}\r\n\t */\r\n\texports.prototype.calcIsVisEndUnixTime = function () {\r\n\t\treturn ko.unwrap(this.startUnixTime) !== ko.unwrap(this.endUnixTime);\r\n\t};\r\n\r\n\t/**\r\n\t * Save a history\r\n\t */\r\n\texports.prototype.putWellHistory = function () {\r\n\t\tdatacontext.putWellHistory({\r\n\t\t\tid : ko.unwrap(this.id),\r\n\t\t\tstartUnixTime : ko.unwrap(this.startUnixTime),\r\n\t\t\tendUnixTime : ko.unwrap(this.endUnixTime),\r\n\t\t\twellId : ko.unwrap(this.wellId),\r\n\t\t\thistoryText : ko.unwrap(this.historyText),\r\n\t\t\tjobTypeId : ko.unwrap(this.jobTypeId)\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Remove an image from history\r\n\t */\r\n\texports.prototype.removeWfmImage = function (itemForDelete) {\r\n\t\tif (confirm('Are you sure you want to delete?')) {\r\n\t\t\tvar ths = this;\r\n\t\t\timageOfHistoryOfWellService.remove(this.id, itemForDelete.id).done(function () {\r\n\t\t\t\tths.WfmImages.remove(itemForDelete);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/** Remove file spec of history of well */\r\n\texports.prototype.removeFileSpecOfHistoryOfWell = function (fileSpecOfHistoryOfWellToRemove) {\r\n\t\tif (confirm('Are you sure you want to delete this file?')) {\r\n\t\t\tvar ths = this;\r\n\t\t\tfileSpecOfHistoryOfWellService.remove(ths.id, fileSpecOfHistoryOfWellToRemove.idOfFileSpec).done(function () {\r\n\t\t\t\tths.WellHistoryFiles.remove(fileSpecOfHistoryOfWellToRemove);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Create file spec of history of well from well section\r\n\t */\r\n\texports.prototype.postFileSpecOfHistoryOfWell = function (tmpIdOfFileSpec, scsCallback, errCallback) {\r\n\t\tvar ths = this;\r\n\t\tfileSpecOfHistoryOfWellService.post(ths.id, {\r\n\t\t\tidOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\tidOfHistoryOfWell : ths.id,\r\n\t\t\tdescription : ''\r\n\t\t}).done(function (res) {\r\n\t\t\tths.WellHistoryFiles.push(new FileSpecOfHistoryOfWell(res));\r\n\t\t\t// Hide window\r\n\t\t\tscsCallback();\r\n\t\t}).fail(errCallback);\r\n\t};\r\n\r\n\t/**\r\n\t * Create cropped well history image from file spec\r\n\t */\r\n\texports.prototype.postImageOfHistoryOfWell = function (tmpIdOfFileSpec, coords, scsCallback) {\r\n    var ths = this;\r\n\t\timageOfHistoryOfWellService.post(ths.id, {\r\n\t\t\tIdOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\tX1 : coords[0],\r\n\t\t\tX2 : coords[2],\r\n\t\t\tY1 : coords[1],\r\n\t\t\tY2 : coords[3],\r\n\t\t\tCropXUnits : 0,\r\n\t\t\tCropYUnits : 0\r\n\t\t}).done(function (res) {\r\n\t\t\tths.WfmImages.push(new WfmImage(res));\r\n\t\t\tscsCallback();\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/log-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Generate url for service\r\n    * @param {number} idOfWell - Id of parent (well)\r\n    * @param {string} id - Id of this log: guid\r\n    */\r\n    var url = function (idOfWell, id) {\r\n        return '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/logs' + (id ? ('/' + id) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service: log of well\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfWell, id) {\r\n            return ajaxRequest('GET', url(idOfWell, id));\r\n        },\r\n        getUrl: function (idOfWell, id) {\r\n            return url(idOfWell, id);\r\n        },\r\n        post: function (idOfWell, data) {\r\n            return ajaxRequest('POST', url(idOfWell), data);\r\n        },\r\n        put: function (idOfWell, id, data) {\r\n            return ajaxRequest('PUT', url(idOfWell, id), data);\r\n        },\r\n        remove: function (idOfWell, id) {\r\n            return ajaxRequest('DELETE', url(idOfWell, id));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/svg-elem',['knockout'], function (ko) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Figure on image: arrow, line, text, etc.\r\n    * @constructor\r\n    */\r\n    var exports = function (data) {\r\n        data = data || {};\r\n\r\n        /**\r\n        * Figure id\r\n        * @type {string}\r\n        */\r\n        this.id = data.Id;\r\n\r\n        /**\r\n        * Figure color in hex mode\r\n        * @type {string}\r\n        */\r\n        this.color = ko.observable(data.Color);\r\n\r\n        /**\r\n        * Figure type, like 'arrow', 'line', 'text'\r\n        * @type {string}\r\n        */\r\n        this.tpe = data.Tpe;\r\n\r\n        /**\r\n        * Options, specified for this figure\r\n        */\r\n        this.opts = ko.observable(JSON.parse(data.Opts));\r\n\r\n        /** Convert to server data transfer object */\r\n        this.toDto = function () {\r\n            return {\r\n                Id: this.id,\r\n                Color: ko.unwrap(this.color),\r\n                Tpe: ko.unwrap(this.tpe),\r\n                Opts: JSON.stringify(ko.unwrap(this.opts))\r\n            };\r\n        };\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('services/svg-elem-of-log-of-well',['helpers/ajax-request'], function (ajaxRequest) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Generate url for service\r\n    * @param {number} idOfLogOfWell - Id of parent (log of well)\r\n    * @param {string} id - Id of this figure: guid\r\n    */\r\n    var url = function (idOfLogOfWell, id) {\r\n        return '//wfm-report.herokuapp.com/api/well-logs/' + idOfLogOfWell + '/svg-elements' + (id ? ('/' + id) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service: img figure of log of well\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function (idOfLogOfWell, id) {\r\n            return ajaxRequest('GET', url(idOfLogOfWell, id));\r\n        },\r\n        ////getUrl: function (idOfWell, id) {\r\n        ////    return url(idOfWell, id);\r\n        ////},\r\n        post: function (idOfLogOfWell, data) {\r\n            return ajaxRequest('POST', url(idOfLogOfWell), data);\r\n        },\r\n        ////put: function (idOfWell, id, data) {\r\n        ////    return ajaxRequest('PUT', url(idOfWell, id), data);\r\n        ////},\r\n        remove: function (idOfLogOfWell, id) {\r\n            return ajaxRequest('DELETE', url(idOfLogOfWell, id));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/log-of-well',['jquery', 'knockout',\r\n    'services/log-of-well',\r\n    'models/svg-elem', 'services/svg-elem-of-log-of-well'], function ($, ko, logOfWellService, ImgFigure, svgElemOfLogOfWellService) {\r\n        'use strict';\r\n\r\n        /**\r\n        * Import image figures to the log image\r\n        */\r\n        function importImgFigures(data) {\r\n            return (data || []).map(function (item) {\r\n                return new ImgFigure(item);\r\n            });\r\n        }\r\n\r\n        /**\r\n        * Log of well model\r\n        * @constructor\r\n        */\r\n        var exports = function (data) {\r\n            data = data || {};\r\n\r\n            /** Alterntative */\r\n            var ths = this;\r\n\r\n            /**\r\n            * Id of log (guid)\r\n            * @type {string}\r\n            */\r\n            this.id = data.Id;\r\n\r\n            /**\r\n            * Id of parent\r\n            * @type {number}\r\n            */\r\n            this.idOfWell = data.IdOfWell;\r\n\r\n            /**\r\n            * Guid of file specification: can not be changed - only re-creation whole object\r\n            * @type {string}\r\n            */\r\n            this.idOfFileSpec = data.IdOfFileSpec;\r\n\r\n            /** Log name */\r\n            this.name = ko.observable(data.Name);\r\n\r\n            /** Log description */\r\n            this.description = ko.observable(data.Description);\r\n\r\n            /**\r\n            * Url of log image, generated from log file\r\n            * @type {string}\r\n            */\r\n            this.representationUrl = logOfWellService.getUrl(ths.idOfWell, ths.id);\r\n\r\n            /**\r\n            * Figures in this log image: loaded with log-of-well\r\n            */\r\n            this.imgFigures = ko.observableArray(importImgFigures(data.ListOfSvgElemDto));\r\n\r\n            /**\r\n            * Whether saving is enabled \r\n            * @type {boolean}\r\n            */\r\n            this.isEnabledSavingSvgElems = ko.observable(true);\r\n\r\n            /**\r\n            * Add new figures and remove deleted figures\r\n            */\r\n            this.saveSvgElems = function () {\r\n                var tmpImgFigures = ko.unwrap(ths.imgFigures);\r\n\r\n                // Figures without ids: created figures\r\n                var createdImgFigures = tmpImgFigures.filter(function (elem) {\r\n                    return (!elem.id);\r\n                });\r\n\r\n                // Nothing to save\r\n                if (createdImgFigures.length === 0) { return; }\r\n\r\n                ths.isEnabledSavingSvgElems(false);\r\n\r\n                // Add every element\r\n                // TODO: try to make one request: one request per few figures: it's like a put well log event\r\n                createdImgFigures.forEach(function (elem, elemIndex) {\r\n                    svgElemOfLogOfWellService.post(ths.id, elem.toDto()).done(function (res) {\r\n                        // After adding new figures - set ids\r\n                        elem.id = res.Id;\r\n\r\n                        // Allow retry saving\r\n                        if (elemIndex === createdImgFigures.length - 1) {\r\n                            ths.isEnabledSavingSvgElems(true);\r\n                        }\r\n                    });\r\n                });\r\n            };\r\n\r\n            /** Checbox with tools: by default - hand */\r\n            this.checkedLogTool = ko.observable('tool-hand');\r\n        };\r\n\r\n        return exports;\r\n    });\n","/** @module */\r\ndefine('services/test-data',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t */\r\n\tvar url = function (idOfTestScope, numberOfHour) {\r\n    var uqp = {\r\n      testscope_id: idOfTestScope,\r\n      hournumber: numberOfHour\r\n    };\r\n    \r\n\t\treturn '//wfm-report.herokuapp.com/api/testdata' + (idOfTestScope ? ('?' + $.param(uqp)) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Volume of well service\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tpost : function (data) {\r\n\t\t\treturn ajaxRequest('POST', url(), data);\r\n\t\t},\r\n\t\tput : function (idOfTestScope, numberOfHour, data) {\r\n\t\t\treturn ajaxRequest('PUT', url(idOfTestScope, numberOfHour), data);\r\n\t\t},\r\n\t\tremove : function (idOfTestScope, numberOfHour) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfTestScope, numberOfHour));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('models/test-data',['require','exports','module','jquery','knockout','services/test-data'],function (require, exports, module) {\n/**\r\n * @module models/test-data\r\n * @todo: feat: migrate to perfomance #MH!\r\n *        after approving test data - put this data to the perfomance table and graph\r\n *        when disapprove - remove this data from perfomance table and graph\r\n * @todo: refactor: last approved well test in well group table #MM!\r\n */\r\n\r\n'use strict';\r\n\r\nvar $ = require('jquery');\r\nvar ko = require('knockout');\r\nvar testDataService = require('services/test-data');\r\n\r\n/**\r\n * Model: test data - test record from test scope\r\n * @constructor\r\n */\r\nexports = function (data, testScopeItem) {\r\n\tdata = data || {};\r\n\r\n\tthis.getTestScope = function () {\r\n\t\treturn testScopeItem;\r\n\t};\r\n\r\n\tthis.hourNumber = data.HourNumber;\r\n\tthis.testScopeId = data.TestScopeId;\r\n\tthis.comment = ko.observable(data.Comment);\r\n\r\n\tthis.dict = data.Dict;\r\n\r\n\tthis.isEdit = ko.observable(false);\r\n\r\n\t/**\r\n\t * Data for cancelling saving\r\n\t */\r\n\tthis.cancelData = null;\r\n};\r\n\r\n/**\r\n * Go to edit mode\r\n */\r\nexports.prototype.editTestData = function () {\r\n\tthis.cancelData = {\r\n\t\tcomment : ko.unwrap(this.comment),\r\n\t\tdict : $.extend({}, this.dict)\r\n\t};\r\n\r\n\tthis.isEdit(true);\r\n};\r\n\r\n/**\r\n * Cancel edit mode\r\n */\r\nexports.prototype.cancelEditTestData = function () {\r\n\tthis.comment(this.cancelData.comment);\r\n\tthis.dict = $.extend({}, this.cancelData.dict);\r\n\tthis.isEdit(false);\r\n};\r\n\r\n/**\r\n * Handle saving\r\n * @private\r\n */\r\nexports.prototype.cbkSaveTestData = function (response) {\r\n\tthis.getTestScope().testDataListUpdateDate(new Date());\r\n\tthis.comment(response.Comment);\r\n\tthis.dict = response.Dict;\r\n\tthis.isEdit(false);\r\n};\r\n\r\n/** Save a test record */\r\nexports.prototype.saveTestData = function () {\r\n\ttestDataService.put(this.testScopeId, this.hourNumber, ko.toJS(this))\r\n\t.done(this.cbkSaveTestData.bind(this));\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('services/test-scope',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t */\r\n\tvar url = function (uqp) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/testscope/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Volume of well service\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function (idOfWell) {\r\n\t\t\treturn ajaxRequest('GET', url({\r\n\t\t\t\t\twell_id : idOfWell\r\n\t\t\t\t}));\r\n\t\t},\r\n\t\tpost : function (data) {\r\n\t\t\treturn ajaxRequest('POST', url(), data);\r\n\t\t},\r\n\t\tput : function (idOfTestScope, data) {\r\n\t\t\treturn ajaxRequest('PUT', url({\r\n\t\t\t\t\tid : idOfTestScope\r\n\t\t\t\t}), data);\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('models/test-scope',['require','exports','module','knockout','moment','models/test-data','services/test-data','services/test-scope'],function (require, exports, module) {\n/** @module models/test-scope */\r\n'use strict';\r\n\r\nvar ko = require('knockout');\r\nvar appMoment = require('moment');\r\nvar TestData = require('models/test-data');\r\nvar testDataService = require('services/test-data');\r\nvar testScopeService = require('services/test-scope');\r\n\r\nfunction importTestDataDtoList(data, testScopeItem) {\r\n\treturn (data || []).map(function (item) {\r\n\t\treturn new TestData(item, testScopeItem);\r\n\t});\r\n}\r\n\r\n/**\r\n * Model: test scope - parent of test records (test data)\r\n * @constructor\r\n */\r\nexports = function (data, wellItem) {\r\n\tdata = data || {};\r\n\r\n\tthis.getWell = function () {\r\n\t\treturn wellItem;\r\n\t};\r\n\r\n\t// Guid\r\n\tthis.id = data.Id;\r\n\tthis.wellId = data.WellId;\r\n\tthis.startUnixTime = ko.observable(data.StartUnixTime);\r\n\tthis.isApproved = ko.observable(data.IsApproved);\r\n\tthis.conductedBy = ko.observable(data.ConductedBy);\r\n\tthis.certifiedBy = ko.observable(data.CertifiedBy);\r\n\r\n\tthis.startUnixTimeDateView = ko.computed({\r\n\t\t\tread : this.calcStartUnixTimeDateView,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\tthis.testDataList = ko.observableArray();\r\n\r\n\tthis.testDataListUpdateDate = ko.observable(new Date());\r\n\r\n\t// contains total for test data list dictionary properties\r\n\t// total - AVE or SUM (for day)\r\n\tthis.testDataTotal = ko.computed({\r\n\t\t\tread : this.calcTestDataTotal,\r\n\t\t\tdeferEvaluation : true,\r\n\t\t\towner : this\r\n\t\t});\r\n\r\n\t// fill test data list\r\n\tthis.testDataList(importTestDataDtoList(data.TestDataDtoList, this));\r\n};\r\n\r\n/*\r\n * Save a test scope\r\n */\r\nexports.prototype.saveTestScope = function () {\r\n\ttestScopeService.put(this.id, this.toPlainJson());\r\n};\r\n\r\n/** Convert to plain JSON object */\r\nexports.prototype.toPlainJson = function () {\r\n\tvar copy = ko.toJS(this);\r\n\tdelete copy.startUnixTimeDateView;\r\n\tdelete copy.testDataTotal;\r\n\tdelete copy.testDataListUpdateDate;\r\n\treturn copy;\r\n};\r\n\r\n/**\r\n * Remove from cur array\r\n */\r\nexports.prototype.unsetTestData = function (testDataItem) {\r\n\tthis.testDataList.remove(testDataItem);\r\n};\r\n\r\n/**\r\n * Add to an array\r\n */\r\nexports.prototype.setTestData = function (response) {\r\n\tthis.testDataList.push(new TestData(response, this));\r\n};\r\n\r\n/**\r\n * Delete a test record\r\n */\r\nexports.prototype.deleteTestData = function (testDataItem) {\r\n\tif (confirm('Are you sure you want to delete?') === true) {\r\n\t\ttestDataService.remove(testDataItem.testScopeId, testDataItem.hourNumber)\r\n\t\t.done(this.unsetTestData.bind(this, testDataItem));\r\n\t}\r\n};\r\n\r\n/** Create a test record */\r\nexports.prototype.addTestData = function () {\r\n\ttestDataService.post({\r\n\t\tComment : '',\r\n\t\tHourNumber : ko.unwrap(this.testDataList).length,\r\n\t\tTestScopeId : this.id,\r\n\t\tDict : {}\r\n\t}).done(this.setTestData.bind(this));\r\n};\r\n\r\n/**\r\n * Approve test\r\n */\r\nexports.prototype.setStatusToApproved = function () {\r\n\tthis.isApproved(true);\r\n\tthis.saveTestScope();\r\n};\r\n\r\n/**\r\n * Decline test\r\n */\r\nexports.prototype.setStatusToDeclined = function () {\r\n\tthis.isApproved(false);\r\n\tthis.saveTestScope();\r\n};\r\n\r\n/**\r\n * Clear declined of approved status of this test\r\n */\r\nexports.prototype.setStatusToNull = function () {\r\n\tthis.isApproved(null);\r\n\tthis.saveTestScope();\r\n};\r\n\r\nvar calcEachTestData = function (tempArr, paramValue, testDataValue) {\r\n\tif (typeof testDataValue.dict[paramValue.wfmParameterId] !== \"undefined\" && testDataValue.dict[paramValue.wfmParameterId] !== null) {\r\n\t\ttempArr.push(parseFloat((testDataValue.dict[paramValue.wfmParameterId])));\r\n\t}\r\n};\r\n\r\n/**\r\n * Calc each total\r\n * @private\r\n */\r\nexports.prototype.calcEachTotal = function (result, paramValue) {\r\n\tvar tempArr = [];\r\n\tko.unwrap(this.testDataList).forEach(calcEachTestData.bind(null, tempArr, paramValue));\r\n\r\n\tif (tempArr.length > 0) {\r\n\t\tvar sum = tempArr.reduce(function (a, b) {\r\n\t\t\t\treturn a + b;\r\n\t\t\t});\r\n\t\tresult[paramValue.wfmParameterId] = parseFloat(sum / tempArr.length).toFixed(2);\r\n\t\tif (ko.unwrap(paramValue.wfmParameter().isCumulative) === true) {\r\n\t\t\tresult[paramValue.wfmParameterId] *= 24;\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/** Calculate total row */\r\nexports.prototype.calcTestDataTotal = function () {\r\n\tvar result = {};\r\n\tif (ko.unwrap(this.testDataList).length > 0) {\r\n\t\t// check for release computed value\r\n\t\tif (ko.unwrap(this.testDataListUpdateDate)) {\r\n\t\t\tko.unwrap(this.getWell().getWellGroup().listOfWfmParameterOfWroup)\r\n\t\t\t.forEach(this.calcEachTotal.bind(this, result));\r\n\t\t}\r\n\t}\r\n\r\n\treturn result;\r\n};\r\n\r\n/**\r\n * Calc date view\r\n */\r\nexports.prototype.calcStartUnixTimeDateView = function () {\r\n\treturn appMoment(ko.unwrap(this.startUnixTime) * 1000).format('YYYY-MM-DD HH:mm');\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('services/procent-border',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Url to get, post, delete procent borders for some well\r\n\t */\r\n\tvar url = function (idOfWell, idOfWfmParameter) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/procent-borders' + (idOfWfmParameter ? ('/' + idOfWfmParameter) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Url to get procent borders for all wells\r\n\t */\r\n\tvar urlForAllWells = function (idOfWroup) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/well-groups/' + idOfWroup + '/wells/all/procent-borders';\r\n\t};\r\n\r\n\t/**\r\n\t * Model: procent border service\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n    // Not used\r\n    // More effectively to load all together using the GetForAllWell method\r\n\t\tget : function (idOfWell) {\r\n\t\t\treturn ajaxRequest('GET', url(idOfWell));\r\n\t\t},\r\n\t\tinsertOrUpdate : function (idOfWell, mdlData) {\r\n\t\t\treturn ajaxRequest('POST', url(idOfWell), mdlData);\r\n\t\t},\r\n\t\tremove : function (idOfWell, idOfWfmParameter) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfWell, idOfWfmParameter));\r\n\t\t},\r\n\t\tgetForAllWells : function (idOfWroup) {\r\n\t\t\treturn ajaxRequest('GET', urlForAllWells(idOfWroup));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/procent-border',['jquery', \r\n  'knockout',\r\n  'services/procent-border'], \r\n  function ($, \r\n  ko,\r\n  procentBorderService) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Model: procent border for a WFM parameter in every well\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data, wellItem) {\r\n    data = data || {};\r\n    \r\n    /** Alternative */\r\n    var ths = this;\r\n    \r\n    /**\r\n    * Id of well (parent)\r\n    * @type {number}\r\n    */\r\n    this.idOfWell = data.IdOfWell;\r\n    \r\n    /**\r\n    * Id of wfm parameter\r\n    * @type {string}\r\n    */\r\n    this.idOfWfmParameter = data.IdOfWfmParameter;\r\n    \r\n    /**\r\n    * Procent value: 0 to 100%\r\n    * @type {number}\r\n    */\r\n    this.procent = ko.observable(data.Procent);\r\n    \r\n    /**\r\n    * Whether saving is in progress\r\n    * @type {bool}\r\n    */\r\n    this.isSaveProgress = ko.observable(false);\r\n    \r\n    /**\r\n    * Insert of update procent border\r\n    */\r\n    this.save = function(){\r\n      ths.isSaveProgress(true);\r\n      procentBorderService.insertOrUpdate(ths.idOfWell, {\r\n        IdOfWell: ths.idOfWell,\r\n        IdOfWfmParameter: ths.idOfWfmParameter,\r\n        Procent: ko.unwrap(ths.procent)\r\n      }).done(function(){\r\n        ths.isSaveProgress(false);\r\n      });\r\n    };\r\n    \r\n    /**\r\n    * Subscribe on changing: check and save when change\r\n    */\r\n    this.procent.subscribe(function(newValue){\r\n      if ($.isNumeric(newValue) === false || +newValue < 0 || +newValue > 100){\r\n        wellItem.removeProcentBorder(ths);\r\n        // Clear the input\r\n        ths.procent(null);\r\n        return;\r\n      }\r\n      else {\r\n        ths.save();\r\n      }\r\n    });\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/monitoring-record',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t */\r\n\tvar url = function (idOfWell, unixTime) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/monitoring-records' + (unixTime ? ('/' + unixTime) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Generate url to getting filtered data\r\n\t */\r\n\tvar urlForFilteredData = function (idOfWell, startUnixTime, endUnixTime) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wells/' + idOfWell + '/monitoring-records/time-start/' + startUnixTime + '/time-end/' + endUnixTime;\r\n\t};\r\n\r\n\t/**\r\n\t * Url to get data for all wells\r\n\t */\r\n\tvar urlForListOfScope = function (idOfWroup, unixTime) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/well-groups/' + idOfWroup + '/wells/all/monitoring-records/' + unixTime;\r\n\t};\r\n\r\n\t/**\r\n\t * Volume of well service\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tgetListOfScope : function (idOfWroup, unixTime) {\r\n\t\t\treturn ajaxRequest('GET', urlForListOfScope(idOfWroup, unixTime));\r\n\t\t},\r\n    getFilteredData: function(idOfWell, startUnixTime, endUnixTime){\r\n      return ajaxRequest('GET', urlForFilteredData(idOfWell, startUnixTime, endUnixTime));\r\n    },\r\n\t\tupsert : function (idOfWell, unixTime, mdlData) {\r\n\t\t\treturn ajaxRequest('POST', url(idOfWell, unixTime), mdlData);\r\n\t\t},\r\n    removeAll : function(idOfWell){\r\n      return ajaxRequest('DELETE', url(idOfWell));\r\n    },\r\n\t\tremove : function (idOfWell, unixTime) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfWell, unixTime));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/monitoring-record',['knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'services/monitoring-record'],\r\n\tfunction (ko, appHelper, monitoringRecordService) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Model: a monitoring record (for a well and well field monitoring section)\r\n\t * @constructor\r\n   * @param {Object} mtnrParams - Monitored parameters from a well group\r\n   *        Need to calculate and load monitored params before generate this record\r\n\t * @param {Object} koObjProcentBorders - to make computed properties:\r\n\t *        difference between the aveDict and the dict with some procent border\r\n\t *        red and green values in the table\r\n\t */\r\n\tvar exports = function (data, mntrParams, koObjProcentBorders) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * Observable procent's borders\r\n\t\t */\r\n\t\tthis.koObjProcentBorders = koObjProcentBorders;\r\n\r\n\t\t/**\r\n\t\t * Id of parent\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWell = data.IdOfWell;\r\n\r\n\t\t/**\r\n\t\t * Time in unix format, in seconds. Can not be changed (at this time)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.unixTime = ko.observable(data.UnixTime);\r\n\r\n\t\t// Need to create inputs for all monitoring properties\r\n\t\t// If a user removes some property (or checkoff monitoring status)\r\n\t\t//    then need to recreate all properties\r\n\t\t// When a user changes the value of some property, then need to upsert this record to the server\r\n\t\t//   a button or a subscribe event for every property\r\n\r\n\t\t/**\r\n\t\t * Whether saving in progress\r\n\t\t * @type {bool}\r\n\t\t */\r\n\t\tthis.isSaveProgress = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * A dictionary with values of parameters\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.dict = {}; //data.Dict;\r\n\r\n\t\t/**\r\n\t\t * A dictionary with average values of parameters (per last 30 days from unixTime, exclude current unixTime)\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.aveDict = {};\r\n\r\n\t\t/**\r\n\t\t * A dictionary with differences between usual values and average values\r\n\t\t *    in a procent view: whether difference is greater than the procent border value\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.diffDict = {};\r\n\r\n\t\t/**\r\n\t\t * A dictionary with classes for difference results\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.diffClassDict = {};\r\n\r\n\t\t/**\r\n\t\t * Load all data\r\n\t\t */\r\n\t\tthis.loadData(data, mntrParams);\r\n\t};\r\n\r\n\t/**\r\n\t * Load all data\r\n\t */\r\n\texports.prototype.loadData = function (data, mntrParams) {\r\n\t\t// May be null if no average data\r\n\t\t// Convert to empty object, to show null values of this object\r\n\t\t// Fill usual values for parameters\r\n\t\tmntrParams.forEach(this.loadItem.bind(this,\r\n\t\t\t\t(data.Dict || {}),\r\n\t\t\t\t(data.AverageDict || {})));\r\n\t};\r\n\r\n\t/**\r\n\t * Load each item during the foreach cycle\r\n\t */\r\n\texports.prototype.loadItem = function (mainData, aveData, elem) {\r\n\t\tthis.dict[elem.wfmParameterId] = ko.observable(mainData[elem.wfmParameterId]);\r\n\t\tthis.dict[elem.wfmParameterId].subscribe(this.upsertMonitoringRecord, this);\r\n\t\t// Fill average values for parameters (per last 30 days, exclude today)\r\n\t\tthis.aveDict[elem.wfmParameterId] = ko.observable(aveData[elem.wfmParameterId]);\r\n\r\n\t\t// Fill a dictionary with differences results\r\n\t\tthis.diffDict[elem.wfmParameterId] = ko.computed({\r\n\t\t\t\tread : this.genDiffDictItem.bind(this, elem),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t// Fill classes for differences results\r\n\t\tthis.diffClassDict[elem.wfmParameterId] = ko.computed({\r\n\t\t\t\tread : this.genDiffClassItem.bind(this, elem),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Generate a class for a record\r\n\t */\r\n\texports.prototype.genDiffClassItem = function (elem) {\r\n\t\tvar tmpIsDiff = ko.unwrap(this.diffDict[elem.wfmParameterId]);\r\n\t\tif (tmpIsDiff === true) {\r\n\t\t\treturn 'danger';\r\n\t\t}\r\n\t\tif (tmpIsDiff === false) {\r\n\t\t\treturn 'success';\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Generate data for a record\r\n\t */\r\n\texports.prototype.genDiffDictItem = function (elem) {\r\n\t\tvar tmpProcentBorder = ko.unwrap(this.koObjProcentBorders)[elem.wfmParameterId];\r\n\t\tif (tmpProcentBorder) {\r\n\t\t\tvar tmpProcentValue = ko.unwrap(tmpProcentBorder.procent);\r\n\t\t\t// Number from 0 to 100 (procents)\r\n\t\t\tif (appHelper.isNumeric(tmpProcentValue)) {\r\n\t\t\t\t// Convert to number\r\n\t\t\t\ttmpProcentValue = +tmpProcentValue;\r\n\t\t\t\tvar tmpUsualVal = ko.unwrap(this.dict[elem.wfmParameterId]);\r\n\t\t\t\tif (appHelper.isNumeric(tmpUsualVal)) {\r\n\t\t\t\t\t// Convert to number\r\n\t\t\t\t\ttmpUsualVal = +tmpUsualVal;\r\n\t\t\t\t\tvar tmpAveVal = ko.unwrap(this.aveDict[elem.wfmParameterId]);\r\n\t\t\t\t\tif (appHelper.isNumeric(tmpAveVal)) {\r\n\t\t\t\t\t\t// Convert to number\r\n\t\t\t\t\t\ttmpAveVal = +tmpAveVal;\r\n\t\t\t\t\t\tvar absoluteProcent = tmpAveVal * (tmpProcentValue / 100); // result = number\r\n\r\n\t\t\t\t\t\tconsole.log('procent for elem ', elem.wfmParameterId, tmpProcentValue, absoluteProcent);\r\n\r\n\t\t\t\t\t\tif (tmpUsualVal > (tmpAveVal + absoluteProcent)) {\r\n\t\t\t\t\t\t\t// is out of the top border\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else if (tmpUsualVal < (tmpAveVal - absoluteProcent)) {\r\n\t\t\t\t\t\t\t// is out of the bottom border\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// is in borders (false - no warning)\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Insert or update the record\r\n\t */\r\n\texports.prototype.upsertMonitoringRecord = function () {\r\n\t\t// Check dict to numbers\r\n\t\t// And convert to numbers from string\r\n\r\n\t\tvar tmpDict = ko.toJS(this.dict);\r\n\r\n\t\tfor (var tmpKey in tmpDict) {\r\n\t\t\tif (tmpDict.hasOwnProperty(tmpKey)) {\r\n\t\t\t\tif (appHelper.isNumeric(tmpDict[tmpKey])) {\r\n\t\t\t\t\ttmpDict[tmpKey] = +tmpDict[tmpKey];\r\n\t\t\t\t} else if (!tmpDict[tmpKey]) { // check all exclude zero (zero - is number)\r\n\t\t\t\t\ttmpDict[tmpKey] = null; // set to null when empty\r\n\t\t\t\t} else {\r\n\t\t\t\t\talert('Only numbers for ' + tmpKey + ': ' + tmpDict[tmpKey]);\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.isSaveProgress(true);\r\n\r\n\t\tmonitoringRecordService.upsert(this.idOfWell, ko.unwrap(this.unixTime), {\r\n\t\t\tIdOfWell : this.idOfWell,\r\n\t\t\tUnixTime : ko.unwrap(this.unixTime),\r\n\t\t\tDict : tmpDict\r\n\t\t}).done(this.scsUpsertMonitoringRecord.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Success callback for upserting\r\n\t */\r\n\texports.prototype.scsUpsertMonitoringRecord = function () {\r\n\t\tthis.isSaveProgress(false);\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/well',[\r\n\t\t'jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'helpers/file-helper',\r\n\t\t'helpers/app-helper',\r\n\t\t'moment',\r\n\t\t'base-models/stage-base',\r\n\t\t'models/perfomance-of-well',\r\n\t\t'models/section-of-stage',\r\n\t\t'models/sketch-of-well',\r\n\t\t'models/prop-spec',\r\n\t\t'services/well',\r\n\t\t'models/integrity-of-well',\r\n\t\t'services/integrity-of-well',\r\n\t\t'models/nodal-analysis-of-well',\r\n\t\t'services/nodal-analysis-of-well',\r\n\t\t'constants/stage-constants',\r\n\t\t'models/volume-of-well',\r\n\t\t'services/volume-of-well',\r\n\t\t'models/history-of-well',\r\n\t\t'models/log-of-well',\r\n\t\t'services/log-of-well',\r\n\t\t'services/file-spec',\r\n\t\t'models/column-attribute',\r\n\t\t'models/test-scope',\r\n\t\t'services/test-scope',\r\n\t\t'models/procent-border',\r\n\t\t'services/procent-border',\r\n\t\t'models/monitoring-record',\r\n\t\t'services/monitoring-record'\r\n\t], function ($, ko, datacontext, fileHelper,\r\n\t\tappHelper,\r\n\t\tappMoment,\r\n\t\tStageBase,\r\n\t\tPerfomanceOfWell,\r\n\t\tSectionOfWell, SketchOfWell,\r\n\t\tPropSpec, wellService,\r\n\t\tIntegrityOfWell, integrityOfWellService,\r\n\t\tNodalAnalysisOfWell, nodalAnalysisOfWellService,\r\n\t\tstageCnst, VolumeOfWell,\r\n\t\tvolumeOfWellService, HistoryOfWell,\r\n\t\tLogOfWell, logOfWellService,\r\n\t\tfileSpecService, ColumnAttribute, TestScope, testScopeService,\r\n\t\tProcentBorder, procentBorderService,\r\n\t\tMonitoringRecord, monitoringRecordService) {\r\n\t'use strict';\r\n\r\n\tfunction importVolumes(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new VolumeOfWell(item);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importLogsOfWell(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new LogOfWell(item);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importListOfNodalAnalysisOfWell(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new NodalAnalysisOfWell(item);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importListOfIntegrityOfWell(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new IntegrityOfWell(item);\r\n\t\t});\r\n\t}\r\n\r\n\t/** ColumnAttributes (convert data objects into array) */\r\n\tfunction importColumnAttributes(data) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new ColumnAttribute(item);\r\n\t\t});\r\n\t}\r\n\r\n\t/** WellHistory (convert data objects into array) */\r\n\tfunction importWellHistoryDto(data, parent) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new HistoryOfWell(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Import all sections of well */\r\n\tfunction importListOfSection(data, wellItem) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new SectionOfWell(item, wellItem);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Well property specifications: will be good to manage this params on the server side */\r\n\tvar wellPropSpecList = [\r\n\t\tnew PropSpec('Name', 'Name', 'Well name', 'SingleLine', {\r\n\t\t\tmaxLength : 255\r\n\t\t}),\r\n\t\tnew PropSpec('Description', 'Description', 'Description', 'MultiLine', {}),\r\n\t\tnew PropSpec('IsActive', 'IsActive', 'Is active', 'BoolLine', {}),\r\n\t\tnew PropSpec('DrillingDate', 'DrillingDate', 'Drilling date', 'DateLine', {}),\r\n\t\tnew PropSpec('ProductionHistory', 'ProductionHistory', 'Production history', 'MultiLine', {}),\r\n\t\tnew PropSpec('CompletionType', 'CompletionType', 'Completion type', 'MultiLine', {}),\r\n\t\tnew PropSpec('FormationCompleteState', 'FormationCompleteState', 'Formation complete state', 'MultiLine', {}),\r\n\t\tnew PropSpec('IntegrityStatus', 'IntegrityStatus', 'Integrity status', 'MultiLine', {}),\r\n\t\tnew PropSpec('LastInterventionType', 'LastInterventionType', 'Last intervention type', 'MultiLine', {}),\r\n\t\tnew PropSpec('LastInterventionDate', 'LastInterventionDate', 'Last intervention date', 'DateLine', {}),\r\n\t\tnew PropSpec('PerforationDepth', 'PerforationDepth', 'Perforation depth', 'MultiLine', {}),\r\n\t\tnew PropSpec('PressureData', 'PressureData', 'Pressure data', 'MultiLine', {}),\r\n\t\tnew PropSpec('Pvt', 'Pvt', 'PVT', 'MultiLine', {}),\r\n\t\tnew PropSpec('ReservoirData', 'ReservoirData', 'Reservoir data', 'MultiLine', {})\r\n\t];\r\n\r\n\t/**\r\n\t * Well model\r\n\t * @param {object} data - Well data\r\n\t * @param {WellGroup} wellGroup - Well group\r\n\t * @constructor\r\n\t * @augments {module:base-models/stage-base}\r\n\t */\r\n\tvar exports = function (data, wellGroup) {\r\n\t\tdata = data || {};\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t/** Get well group */\r\n\t\tthis.getWellGroup = function () {\r\n\t\t\treturn wellGroup;\r\n\t\t};\r\n\r\n\t\t/** Get workspace view model */\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn this.getWellGroup().getRootMdl();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Well id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.Id = data.Id;\r\n\r\n\t\t/** Alternative for caps Id */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Well type\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.WellType = ko.observable(data.WellType);\r\n\r\n\t\t/**\r\n\t\t * Flow type\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.FlowType = ko.observable(data.FlowType);\r\n\r\n\t\t/** Well property specifications */\r\n\t\tthis.propSpecList = wellPropSpecList;\r\n\r\n\t\t/**\r\n\t\t * Stage key: equals file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageCnst.well.id;\r\n\r\n\t\t/** Add props to constructor */\r\n\t\tStageBase.call(this, data);\r\n\r\n\t\t/**\r\n\t\t * Well comment\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.Comment = ko.observable(data.Comment);\r\n\r\n\t\t/**\r\n\t\t * Well group id (foreign key - parent)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.WellGroupId = data.WellGroupId;\r\n\r\n\t\t/** Sketch of well: by default - empty */\r\n\t\tthis.sketchOfWell = new SketchOfWell(ths);\r\n\r\n\t\t//{ #region MAP\r\n\r\n\t\t/**\r\n\t\t * Well markers on a well field map\r\n\t\t * @type {Array.<module:well-marker-of-map-of-wield>}\r\n\t\t */\r\n\t\tthis.listOfMapMarker = ko.computed({\r\n\t\t\t\tread : this.calcMarkersForWell,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t// /**\r\n\t\t// * Field maps for this well\r\n\t\t// * @type {Array.<WellFieldMap>}\r\n\t\t// */\r\n\t\t// this.listOfMapForWell = ko.computed({\r\n\t\t// read : this.filterMapsForWell,\r\n\t\t// deferEvaluation : true,\r\n\t\t// owner : this\r\n\t\t// });\r\n\r\n\t\t//} #endregion MAP\r\n\r\n\t\t//{ #region TEST\r\n\r\n\t\tthis.listOfTestScope = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Last approved test scope for potential section in well group\r\n\t\t * @type {module:models/test-scope}\r\n\t\t */\r\n\t\tthis.lastApprovedTestScope = ko.computed({\r\n\t\t\t\tread : this.calcLastApprovedTestScope,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/** Unix time data for creating new test scope */\r\n\t\tthis.testScopeNewStartUnixTime = {\r\n\t\t\tunixDate : ko.observable(),\r\n\t\t\thour : ko.observable(0),\r\n\t\t\tminute : ko.observable(0)\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Whether the user can add a new test scope\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isEnabledPostTestScope = ko.computed({\r\n\t\t\t\tread : this.calcIsEnabledPostTestScope,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t//} #endregion TEST\r\n\r\n\t\t//{ #region LOG\r\n\r\n\t\t/**\r\n\t\t * Well logs\r\n\t\t * @type {Array.<module:models/log-of-well>}\r\n\t\t */\r\n\t\tthis.logsOfWell = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether well logs are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedLogsOfWell = ko.observable(false);\r\n\r\n\t\t/** Load well logs */\r\n\t\tthis.loadLogsOfWell = function () {\r\n\t\t\tif (ko.unwrap(ths.isLoadedLogsOfWell)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlogOfWellService.get(ths.id).done(function (res) {\r\n\t\t\t\tths.logsOfWell(importLogsOfWell(res));\r\n\t\t\t\tths.isLoadedLogsOfWell(true);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Get columns for log file\r\n\t\t */\r\n\t\tthis.getLogColumnAttributes = function (idOfNeedSection, idOfFileSpec, scsCallback) {\r\n\t\t\tfileSpecService.getColumnAttributes(ths.stageKey, idOfNeedSection, idOfFileSpec).done(function (res) {\r\n\t\t\t\t// ColumnAttributes (convert data objects into array)\r\n\t\t\t\tscsCallback(importColumnAttributes(res));\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Create log of well\r\n\t\t */\r\n\t\tthis.postLogOfWell = function (tmpIdOfFileSpec, tmpName, selectedArray) {\r\n\t\t\tlogOfWellService.post(ths.id, {\r\n\t\t\t\tIdOfWell : ths.id,\r\n\t\t\t\tIdOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\t\tName : tmpName,\r\n\t\t\t\tDescription : selectedArray.join(',')\r\n\t\t\t}).done(function (createdDataOfLogOfWell) {\r\n\t\t\t\t// Add to the list\r\n\t\t\t\tths.logsOfWell.push(new LogOfWell(createdDataOfLogOfWell));\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t////        fileSpecService.getColumnAttributes(ths.stageKey, needSection.id, tmpFileSpec.id).done(function (res) {\r\n\t\t////            // ColumnAttributes (convert data objects into array)\r\n\t\t////            var columnAttributes = importColumnAttributes(res);\r\n\r\n\t\t////            // Style decor for attribute selection\r\n\t\t////            var selectDepth = document.createElement('select');\r\n\t\t////            $(selectDepth).addClass('pd-parameter');\r\n\r\n\t\t////            var selectSP = document.createElement('select');\r\n\t\t////            $(selectSP).addClass('pd-parameter');\r\n\r\n\t\t////            var selectGR = document.createElement('select');\r\n\t\t////            $(selectGR).addClass('pd-parameter');\r\n\r\n\t\t////            var selectRS = document.createElement('select');\r\n\t\t////            $(selectRS).addClass('pd-parameter');\r\n\r\n\t\t////            for (var caIndex = 0, caMaxIndex = columnAttributes.length; caIndex < caMaxIndex; caIndex++) {\r\n\t\t////                var optionColumnAttribute = document.createElement('option');\r\n\t\t////                $(optionColumnAttribute)\r\n\t\t////                    .val(columnAttributes[caIndex].Id)\r\n\t\t////                    .html(columnAttributes[caIndex].Name + (columnAttributes[caIndex].Format() ? (', ' + columnAttributes[caIndex].Format()) : ''));\r\n\r\n\t\t////                switch (columnAttributes[caIndex].Name) {\r\n\t\t////                    case 'DEPTH': case 'DEPT': selectDepth.appendChild(optionColumnAttribute); break;\r\n\t\t////                    case 'SP': case 'SPC': selectSP.appendChild(optionColumnAttribute); break;\r\n\t\t////                    case 'GR': case 'HGRT': case 'GRDS': case 'SGR': case 'NGRT': selectGR.appendChild(optionColumnAttribute); break;\r\n\t\t////                    case 'RS': case 'RES': case 'RESD': selectRS.appendChild(optionColumnAttribute); break;\r\n\t\t////                }\r\n\t\t////            }\r\n\r\n\t\t////            var innerDiv = document.createElement('div');\r\n\t\t////            $(innerDiv).addClass('form-horizontal').append(\r\n\t\t////                bootstrapModal.gnrtDom('Depth', selectDepth),\r\n\t\t////                bootstrapModal.gnrtDom('GR', selectGR),\r\n\t\t////                bootstrapModal.gnrtDom('SP', selectSP),\r\n\t\t////                bootstrapModal.gnrtDom('Resistivity', selectRS)\r\n\t\t////            );\r\n\r\n\t\t////            function submitFunction() {\r\n\t\t////                var selectedArray = $(innerDiv).find('.pd-parameter').map(function () {\r\n\t\t////                    return $(this).val();\r\n\t\t////                }).get();\r\n\r\n\t\t////                if (selectedArray.length < 4) {\r\n\t\t////                    alert('All fields required');\r\n\t\t////                    return;\r\n\t\t////                }\r\n\r\n\t\t////                // 3. Select column attributes\r\n\t\t////                // 4. Add new log\r\n\r\n\t\t////                logOfWellService.post(ths.id, {\r\n\t\t////                    IdOfWell: ths.id,\r\n\t\t////                    IdOfFileSpec: tmpFileSpec.id,\r\n\t\t////                    Name: ko.unwrap(tmpFileSpec.name),\r\n\t\t////                    Description: selectedArray.join(',')\r\n\t\t////                }).done(function (createdDataOfLogOfWell) {\r\n\t\t////                    // Add to the list\r\n\t\t////                    ths.logsOfWell.push(new LogOfWell(createdDataOfLogOfWell));\r\n\t\t////                });\r\n\r\n\t\t////                bootstrapModal.closeModalWindow();\r\n\t\t////            }\r\n\r\n\t\t////            tmpModalFileMgr.hide();\r\n\r\n\t\t////            bootstrapModal.openModalWindow('Column match', innerDiv, submitFunction);\r\n\r\n\t\t//// };\r\n\r\n\t\t//} #endregion LOG\r\n\r\n\t\t//{ #region HISTORY\r\n\r\n\t\t/**\r\n\t\t * List of history records\r\n\t\t * @type {Array.<module:models/history-of-well>}\r\n\t\t */\r\n\t\tthis.historyList = ko.observableArray();\r\n\r\n\t\tthis.isLoadedHistoryList = ko.observable(false);\r\n\r\n\t\t//} #endregion HISTORY\r\n\r\n\t\t//{ #region REPORT\r\n\r\n\t\t//// // by default - checked summary tab\r\n\t\t////this.reportSectionIdList = ko.observableArray(['summary']);\r\n\r\n\t\t//// this.checkReportSection = function (checkedReportSection) {\r\n\t\t////    switch (checkedReportSection.id) {\r\n\t\t////        case 'map': ths.getWellGroup().getWellField().loadMapsOfWield(); break;\r\n\t\t////        case 'history': ths.loadWellHistoryList(); break;\r\n\t\t////        case 'log':\r\n\t\t////        // Load list of logs\r\n\t\t////        break;\r\n\t\t////        case 'pd': ths.perfomanceOfWell.getHstProductionDataSet(); break;\r\n\t\t////    }\r\n\t\t//// };\r\n\r\n\t\t////this.selectedReportMap = ko.observable();\r\n\t\t////this.selectedReportLog = ko.observable();\r\n\r\n\t\t////this.isCompanyLogoInReport = ko.observable(false);\r\n\r\n\t\t// TODO: make create report\r\n\t\t////ths.createReport = function () {\r\n\t\t////    // checking checkboxes\r\n\t\t////    if (ths.reportSectionIdList().length === 0) {\r\n\t\t////        alert('No selected sections for the report');\r\n\t\t////        return;\r\n\t\t////    }\r\n\r\n\t\t////    // existing selected map when map section is checked\r\n\t\t////    if ($.inArray('map', ths.reportSectionIdList()) >= 0) {\r\n\t\t////        if (typeof ths.selectedReportMap() === 'undefined') {\r\n\t\t////            alert('No selected map in the map section');\r\n\t\t////            return;\r\n\t\t////        }\r\n\t\t////    }\r\n\r\n\t\t////    if ($.inArray('log', ths.reportSectionIdList()) >= 0) {\r\n\t\t////        if (typeof ths.selectedReportLog() === 'undefined') {\r\n\t\t////            alert('No selected log in the log section');\r\n\t\t////            return;\r\n\t\t////        }\r\n\t\t////    }\r\n\r\n\t\t////    if (ths.isCompanyLogoInReport() === true) {\r\n\t\t////        // get user profile\r\n\t\t////        if (!ths.getAppViewModel().curUserProfile().companyLogo()) {\r\n\t\t////            alert('No company logo. Please upload company logo in Cabinet');\r\n\t\t////            return;\r\n\t\t////        }\r\n\t\t////    }\r\n\r\n\t\t////    // todo: make check for begin date existence (or end date or together)\r\n\t\t////    //// if ($.inArray('history', ths.reportSectionIdList()) >= 0) {\r\n\t\t////    ////    if (typeof ths.reportHistoryBeginDate === 'undefined') {\r\n\t\t////    ////        alert('No selected maps in the map section');\r\n\t\t////    ////        return;\r\n\t\t////    ////    }\r\n\t\t////    //// }\r\n\t\t////    // get all unknown data for pdf report and creating\r\n\r\n\t\t////    var logoUrl = null;\r\n\t\t////    if (ths.isCompanyLogoInReport() === true) {\r\n\t\t////        var companyLogoByte64String = ths.getAppViewModel().curUserProfile().companyLogo();\r\n\t\t////        if (companyLogoByte64String) {\r\n\t\t////            logoUrl = companyLogoByte64String;\r\n\t\t////        }\r\n\t\t////    }\r\n\r\n\t\t////    require(['helpers/pdf-helper'], function (pdfHelper) {\r\n\r\n\t\t////        pdfHelper.getImageFromUrl(logoUrl, function (logoBase64) {\r\n\t\t////            var sketchUrl = $.inArray('sketch', ths.reportSectionIdList()) >= 0 ? [sketchUrl] : null;\r\n\t\t////            pdfHelper.getImageFromUrl(sketchUrl, function (sketchBase64) {\r\n\t\t////                // coord to nill - load full image (without crop)\r\n\t\t////                var mapUrl = ($.inArray('map', ths.reportSectionIdList()) >= 0) ? (ths.selectedReportMap().fullImgUrl + '&x1=0&y1=0&x2=0&y2=0') : null;\r\n\t\t////                pdfHelper.getImageFromUrl(mapUrl, function (mapBase64) {\r\n\t\t////                    var logUrl = ($.inArray('log', ths.reportSectionIdList()) >= 0) ? (ths.selectedReportLog().Url()) : null;\r\n\t\t////                    pdfHelper.getImageFromUrl(logUrl, function (logBase64) {\r\n\t\t////                        var doc = pdfHelper.createPdf();\r\n\t\t////                        // start string position\r\n\t\t////                        var strPos = 0;\r\n\t\t////                        strPos = pdfHelper.writeFileHeader(doc, strPos, \"Well report\");\r\n\t\t////                        var nowDateString = appMoment().format(\"YYYY-MM-DD\");\r\n\t\t////                        strPos = pdfHelper.writeHeaderDate(doc, strPos, nowDateString);\r\n\r\n\t\t////                        if (logoBase64.length > 0) {\r\n\t\t////                            strPos = pdfHelper.writeLogoImage(doc, strPos, logoBase64[0]);\r\n\t\t////                        }\r\n\r\n\t\t////                        strPos = pdfHelper.writeWellName(doc, strPos, ths.Name());\r\n\r\n\t\t////                        // other summary fields\r\n\t\t////                        if ($.inArray('summary', ths.reportSectionIdList()) >= 0) {\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlDescription, ths.Description(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlProductionHistory, ths.ProductionHistory(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlCompletionType, ths.CompletionType(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlFormationCompleteState, ths.FormationCompleteState(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlDrillingDate, ths.DrillingDate() ? appMoment(ths.DrillingDate()).format('YYYY-MM-DD') : '', strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlIntegrityStatus, ths.IntegrityStatus(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlLastInterventionType, ths.LastInterventionType(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlLastInterventionDate, ths.LastInterventionDate() ? appMoment(ths.LastInterventionDate()).format('YYYY-MM-DD') : '', strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlPerforationDepth, ths.PerforationDepth(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlPressureData, ths.PressureData(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlPvt, ths.Pvt(), strPos);\r\n\t\t////                            strPos = pdfHelper.addSummaryFieldToPdf(doc, ths.ttlReservoirData, ths.ReservoirData(), strPos);\r\n\t\t////                        }\r\n\r\n\t\t////                        // sketch\r\n\t\t////                        if ($.inArray('sketch', ths.reportSectionIdList()) >= 0) {\r\n\t\t////                            // no string position (new page)\r\n\t\t////                            pdfHelper.writeSketchImg(doc, sketchBase64, 'Sketch'); // sketch description\r\n\r\n\r\n\t\t////                        }\r\n\r\n\t\t////                        if (mapBase64.length > 0) {\r\n\t\t////                            pdfHelper.writeMap(doc, mapBase64, 'Map', ths.selectedReportMap().wellMarkers(), ths.selectedReportMap().WellFieldMapAreas());\r\n\t\t////                        }\r\n\r\n\t\t////                        if ($.inArray('history', ths.reportSectionIdList()) >= 0) {\r\n\t\t////                            pdfHelper.writeHistory(doc, 'History', ths.sortedHistoryList());\r\n\t\t////                        }\r\n\r\n\t\t////                        if (logBase64.length > 0) {\r\n\t\t////                            pdfHelper.writeLog(doc, logBase64, 'Log');\r\n\t\t////                        }\r\n\r\n\t\t////                        if ($.inArray('pd', ths.reportSectionIdList()) >= 0) {\r\n\t\t////                            var arrPd = ko.unwrap(ths.perfomanceOfWell.filteredByDateProductionDataSet);\r\n\t\t////                            $.each(ko.unwrap(ths.selectedWfmParamSquadList), function (elemIndex, elemValue) {\r\n\t\t////                                var headerList = $.grep(ko.unwrap(ths.perfomanceOfWell.prdColumnAttributeList), function (pdElem) {\r\n\t\t////                                    return pdElem.Group === elemValue;\r\n\t\t////                                });\r\n\r\n\t\t////                                pdfHelper.writePd(doc, elemValue, arrPd, headerList);\r\n\r\n\t\t////                                pdfHelper.addHeaderToPdfDoc(doc, 'Perfomance: ' + elemValue + ' graph');\r\n\t\t////                                pdfHelper.drawGraphLabelInPdf(doc, headerList);\r\n\r\n\t\t////                                // Graph data is not generated by array\r\n\t\t////                                ////var graphData = getGraphData(arrPd, headerList);\r\n\t\t////                                ////pdfHelper.drawGraphDataInPdf(doc, graphData, headerList);\r\n\t\t////                            });\r\n\t\t////                        }\r\n\r\n\t\t////                        pdfHelper.savePdf(doc, 'Report ' + ths.Name() + ' ' + nowDateString);\r\n\t\t////                    });\r\n\t\t////                });\r\n\t\t////            });\r\n\t\t////        });\r\n\t\t////    });\r\n\t\t//// };\r\n\r\n\t\t//} #endregion REPORT\r\n\r\n\t\t//{ #region NODALANALYSIS\r\n\r\n\t\t/**\r\n\t\t * List of nodal analyzes\r\n\t\t * @type {Array.<modul:models/nodal-analysis-of-well>}\r\n\t\t */\r\n\t\tthis.listOfNodalAnalysis = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether nodal analyzes are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedListOfNodalAnalysis = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Load nodal analyzes\r\n\t\t */\r\n\t\tthis.loadListOfNodalAnalysis = function () {\r\n\t\t\tif (ko.unwrap(ths.isLoadedListOfNodalAnalysis)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tnodalAnalysisOfWellService.get(ths.id).done(function (response) {\r\n\t\t\t\tths.listOfNodalAnalysis(importListOfNodalAnalysisOfWell(response));\r\n\t\t\t\tths.isLoadedListOfNodalAnalysis(true);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Create nodal analysis\r\n\t\t */\r\n\t\tthis.postNodalAnalysis = function (tmpIdOfFileSpec, tmpName, tmpDescription, scsCallback, errCallback) {\r\n\t\t\tnodalAnalysisOfWellService.post(ths.id, {\r\n\t\t\t\tIdOfWell : ths.id,\r\n\t\t\t\tIdOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\t\tName : tmpName,\r\n\t\t\t\tDescription : tmpDescription\r\n\t\t\t}).done(function (response) {\r\n\t\t\t\tths.listOfNodalAnalysis.push(new NodalAnalysisOfWell(response));\r\n\t\t\t\tscsCallback();\r\n\t\t\t}).fail(errCallback);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove from server\r\n\t\t */\r\n\t\tthis.removeNodalAnalysis = function (tmpMdlToRemove) {\r\n\t\t\tnodalAnalysisOfWellService.remove(tmpMdlToRemove.idOfWell, tmpMdlToRemove.idOfFileSpec).done(function () {\r\n\t\t\t\tths.listOfNodalAnalysis.remove(tmpMdlToRemove);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//} #endregion NODALANALYSIS\r\n\r\n\t\t//{ #region INTEGRITY\r\n\r\n\t\t/**\r\n\t\t * List of integrity\r\n\t\t * @type {Array.<modul:models/integrity-of-well>}\r\n\t\t */\r\n\t\tthis.listOfIntegrity = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether integrities are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedListOfIntegrity = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Load integrities\r\n\t\t */\r\n\t\tthis.loadListOfIntegrity = function () {\r\n\t\t\tif (ko.unwrap(ths.isLoadedListOfIntegrity)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tintegrityOfWellService.get(ths.id).done(function (response) {\r\n\t\t\t\tths.listOfIntegrity(importListOfIntegrityOfWell(response));\r\n\t\t\t\tths.isLoadedListOfIntegrity(true);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Create integrity\r\n\t\t */\r\n\t\tthis.postIntegrity = function (tmpIdOfFileSpec, tmpName, tmpDescription, scsCallback, errCallback) {\r\n\t\t\tintegrityOfWellService.post(ths.id, {\r\n\t\t\t\tIdOfWell : ths.id,\r\n\t\t\t\tIdOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\t\tName : tmpName,\r\n\t\t\t\tDescription : tmpDescription\r\n\t\t\t}).done(function (response) {\r\n\t\t\t\tths.listOfIntegrity.push(new IntegrityOfWell(response));\r\n\t\t\t\tscsCallback();\r\n\t\t\t}).fail(errCallback);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove from server\r\n\t\t */\r\n\t\tthis.removeIntegrity = function (tmpMdlToRemove) {\r\n\t\t\tintegrityOfWellService.remove(tmpMdlToRemove.idOfWell, tmpMdlToRemove.idOfFileSpec).done(function () {\r\n\t\t\t\tths.listOfIntegrity.remove(tmpMdlToRemove);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//} #endregion INTEGRITY\r\n\r\n\t\t//{ #region VOLUME\r\n\t\t/**\r\n\t\t * Volumes of well\r\n\t\t * @type {Array.<module:models/volume-of-well>}\r\n\t\t */\r\n\t\tthis.volumes = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether volumes are loaded already\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedVolumes = ko.observable(false);\r\n\r\n\t\t/** Load volumes */\r\n\t\tthis.loadVolumes = function () {\r\n\t\t\tif (ko.unwrap(ths.isLoadedVolumes)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvolumeOfWellService.get(ths.id).done(function (res) {\r\n\t\t\t\tths.isLoadedVolumes(true);\r\n\t\t\t\tths.volumes(importVolumes(res));\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t/** Send volume to the server */\r\n\t\tthis.postVolumeOfWell = function (tmpIdOfFileSpec, tmpName, scsCallback, errCallback) {\r\n\t\t\tvolumeOfWellService.post(ths.id, {\r\n\t\t\t\tidOfWell : ths.id,\r\n\t\t\t\tidOfFileSpec : tmpIdOfFileSpec,\r\n\t\t\t\tname : tmpName || '',\r\n\t\t\t\tdescription : ''\r\n\t\t\t}).done(function (res) {\r\n\t\t\t\t// Add to the current array\r\n\t\t\t\tths.volumes.push(new VolumeOfWell(res));\r\n\t\t\t\tscsCallback();\r\n\t\t\t}).fail(errCallback);\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Remove volume from server\r\n\t\t */\r\n\t\tthis.removeVolumeOfWell = function (mdlToRemove) {\r\n\t\t\tvolumeOfWellService.remove(mdlToRemove.idOfWell, mdlToRemove.idOfFileSpec).done(function () {\r\n\t\t\t\tths.volumes.remove(mdlToRemove);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t//} #endregion VOLUME\r\n\r\n\t\t//{ #region PERFOMANCE\r\n\r\n\t\tthis.perfomanceOfWell = new PerfomanceOfWell(ths);\r\n\r\n\t\t// Load column attributes - all loading logic in this file (not separated - not in perfomance of well model)\r\n\t\tthis.perfomanceOfWell.prdColumnAttributeList(importColumnAttributes(datacontext.getColumnAttributesLocal()));\r\n\r\n\t\t//} #endregion PERFOMANCE\r\n\r\n\t\t//{ #region MONITORING (for a well group monitoring section and a well monitoring section)\r\n\r\n\t\t/**\r\n\t\t * Procent borders\r\n\t\t * @type {Array.<module:models/procent-border>}\r\n\t\t */\r\n\t\tthis.procentBorders = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Procent borders as a JSON object\r\n\t\t *    with empty object for non-exist properties\r\n\t\t * @type {object}\r\n\t\t */\r\n\t\tthis.objProcentBorders = ko.computed({\r\n\t\t\t\tread : this.calcObjProcentBorders,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * List of monitoring records\r\n\t\t * @type {Array.<models/monitoring-record>}\r\n\t\t */\r\n\t\tthis.listOfMonitoringRecord = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Sorted records\r\n\t\t * @type {Array.<models/monitoring-record>}\r\n\t\t */\r\n\t\tthis.sortedListOfMonitoringRecord = ko.computed({\r\n\t\t\t\tread : this.calcSortedListOfMonitoringRecord,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether data are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedListOfMonitoringRecord = ko.observable(false);\r\n\r\n\t\t//} #endregion MONITORING\r\n\r\n\t\t/** Load well sections */\r\n\t\tthis.listOfSection(importListOfSection(data.ListOfSectionOfWellDto, ths));\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/**\r\n\t * Remove (clear) a procent border\r\n\t */\r\n\texports.prototype.removeProcentBorder = function (itemToRemove) {\r\n\t\tvar ths = this;\r\n\t\tprocentBorderService.remove(itemToRemove.idOfWell, itemToRemove.idOfWfmParameter).done(function () {\r\n\t\t\tths.procentBorders.remove(itemToRemove);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Get well map list from well field maps with need well id */\r\n\texports.prototype.calcMarkersForWell = function () {\r\n\t\tvar wellFieldMapList = ko.unwrap(this.getWellGroup().getWellField().WellFieldMaps);\r\n\t\tconsole.log('calc markers for a well', wellFieldMapList);\r\n\t\tvar wellId = this.id;\r\n\r\n\t\tvar arrMarkers = [];\r\n\r\n\t\twellFieldMapList.forEach(function (elemValue) {\r\n\t\t\tvar tmpWellMarkers = ko.unwrap(elemValue.wellMarkers);\r\n\r\n\t\t\tvar needMarkers = tmpWellMarkers.filter(function (wfmElem) {\r\n\t\t\t\t\t// If the marker belongs to this well\r\n\t\t\t\t\tif (ko.unwrap(wfmElem.idOfWell) === wellId) {\r\n\t\t\t\t\t\t// If the marker is active (is drilled)\r\n\t\t\t\t\t\tif (ko.unwrap(wfmElem.isDrilled)) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\r\n\t\t\tif (needMarkers.length === 1) {\r\n\t\t\t\tarrMarkers.push(needMarkers[0]);\r\n\t\t\t} else if (needMarkers.length > 1) {\r\n\t\t\t\t// (only one marker (of one well) may be in every map)\r\n\t\t\t\tthrow new Error('Only one well per each map');\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn arrMarkers;\r\n\t};\r\n\r\n\t// /**\r\n\t// * Create a PDF report\r\n\t// */\r\n\t// exports.prototype.createReport = function(){\r\n\t// var pdfDoc = pdfHelper.createPdf();\r\n\t// pdfHelper.savePdf(pdfDoc);\r\n\t// };\r\n\r\n\t//{ #region HISTORY-METHODS\r\n\r\n\t/**\r\n\t * Load a list with history records\r\n\t */\r\n\texports.prototype.loadWellHistoryList = function () {\r\n\t\tif (ko.unwrap(this.isLoadedHistoryList)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdatacontext.getWellHistoryList({\r\n\t\t\twell_id : this.id\r\n\t\t}).done(this.successLoadWellHistoryList.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Success callback for loading history records\r\n\t */\r\n\texports.prototype.successLoadWellHistoryList = function (data) {\r\n\t\tthis.historyList(importWellHistoryDto(data, this));\r\n\t\tthis.isLoadedHistoryList(true);\r\n\t};\r\n\r\n\t/**\r\n\t * Post a history record to the server\r\n\t */\r\n\texports.prototype.postHistoryOfWell = function (tmpStartUnixTime, tmpEndUnixTime, scsCallback) {\r\n\t\tdatacontext.postWellHistory({\r\n\t\t\twellId : this.id,\r\n\t\t\thistoryText : '',\r\n\t\t\tstartUnixTime : tmpStartUnixTime,\r\n\t\t\tendUnixTime : tmpEndUnixTime\r\n\t\t}).done(scsCallback);\r\n\t};\r\n\r\n\t/**\r\n\t * Push a history record to the main list\r\n\t * @params {Object} data - Data from the server\r\n\t */\r\n\texports.prototype.pushHistoryOfWell = function (data) {\r\n\t\tthis.historyList.push(new HistoryOfWell(data, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Remove a history record\r\n\t */\r\n\texports.prototype.unlinkHistoryOfWell = function (itemForDelete) {\r\n\t\tthis.historyList.remove(itemForDelete);\r\n\t};\r\n\r\n\t/**\r\n\t * Delete a history record from the server\r\n\t */\r\n\texports.prototype.deleteWellHistory = function (itemForDelete) {\r\n\t\tdatacontext.deleteWellHistory(itemForDelete.id)\r\n\t\t.done(this.unlinkHistoryOfWell.bind(this, itemForDelete));\r\n\t};\r\n\r\n\t//} #endregion HISTORY-METHODS\r\n\r\n\t//{ #region MONITORING-METHODS\r\n\r\n\t/**\r\n\t * Load the filtered list of monitoring records\r\n\t */\r\n\texports.prototype.loadListOfMonitoringRecord = function (startUnixTime, endUnixTime) {\r\n\t\t// Reload every time: other users can change data in their cabinets\r\n\t\tthis.isLoadedListOfMonitoringRecord(false);\r\n\t\tmonitoringRecordService.getFilteredData(this.id, startUnixTime, endUnixTime)\r\n\t\t.done(this.scsLoadListOfMinitoringRecord.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Success loading\r\n\t */\r\n\texports.prototype.scsLoadListOfMinitoringRecord = function (res) {\r\n\t\tthis.isLoadedListOfMonitoringRecord(true);\r\n\t\tthis.importMonitoringRecords(res);\r\n\t};\r\n\r\n\t/**\r\n\t * Import monitoring records\r\n\t */\r\n\texports.prototype.importMonitoringRecords = function (tmpData) {\r\n\t\tvar tmpMntrParams = ko.unwrap(this.getWellGroup().listOfMonitoredParams);\r\n\r\n\t\tvar objArr = tmpData.map(function (tmpItem) {\r\n\t\t\t\t// objProcentBorders to make computed properties:\r\n\t\t\t\t//         difference between the aveDict and the dict with some procent border\r\n\t\t\t\treturn new MonitoringRecord(tmpItem, tmpMntrParams, this.objProcentBorders);\r\n\t\t\t}, this);\r\n\r\n\t\tthis.listOfMonitoringRecord(objArr);\r\n\r\n\t\t// Destroy\r\n\t\tobjArr = null;\r\n\t};\r\n\r\n\t/**\r\n\t * Post the monitoring record to the server\r\n\t * @param {object} tmpDict - Dictionary of parameters (for new records - empty)\r\n\t */\r\n\texports.prototype.postMonitoringRecord = function (tmpUnixTime, tmpMntrParams, tmpDict, scsCallback) {\r\n\t\tmonitoringRecordService.upsert(this.id, tmpUnixTime, {\r\n\t\t\tIdOfWell : this.id,\r\n\t\t\tUnixTime : tmpUnixTime,\r\n\t\t\tDict : tmpDict\r\n\t\t}).done(scsCallback);\r\n\t\t// function () {\r\n\t\t// // Add to the list: not required - this method used only in a group section,\r\n\t\t// //       where all data will be reload after posting (to get average values)\r\n\t\t// ////ths.listOfMonitoringRecord.push(new MonitoringRecord(response, tmpMntrParams, ths.objProcentBorders));\r\n\t\t// if (scsCallback) {\r\n\t\t// scsCallback();\r\n\t\t// }\r\n\t\t// });\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate procent borders\r\n\t * @private\r\n\t */\r\n\texports.prototype.calcObjProcentBorders = function () {\r\n\t\t// List of all params\r\n\t\tvar tmpListOfWfmParamOfWroup = ko.unwrap(this.getWellGroup().listOfWfmParameterOfWroup);\r\n\r\n\t\t// List of existing procent borders\r\n\t\tvar tmpPbs = ko.unwrap(this.procentBorders);\r\n\r\n\t\t// Result object\r\n\t\tvar result = {};\r\n\r\n\t\t// Fill result\r\n\t\ttmpListOfWfmParamOfWroup.forEach(this.fillObjProcentBorder.bind(this, result, tmpPbs));\r\n\r\n\t\t// Destroy\r\n\t\ttmpPbs = null;\r\n\t\ttmpListOfWfmParamOfWroup = null;\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t/**\r\n\t * Fill the object with percent border's data\r\n\t *    need to foreach method in calcObjProcentBorders\r\n\t * @private\r\n\t */\r\n\texports.prototype.fillObjProcentBorder = function (result, tmpPbs, tmpPrm) {\r\n\t\tvar tmpProcentBorder = tmpPbs.filter(function (pbItem) {\r\n\t\t\t\treturn pbItem.idOfWfmParameter === tmpPrm.wfmParameterId;\r\n\t\t\t})[0];\r\n\r\n\t\tif (tmpProcentBorder) {\r\n\t\t\tresult[tmpPrm.wfmParameterId] = tmpProcentBorder;\r\n\t\t} else {\r\n\t\t\tresult[tmpPrm.wfmParameterId] = new ProcentBorder({\r\n\t\t\t\t\tIdOfWell : this.id,\r\n\t\t\t\t\tIdOfWfmParameter : tmpPrm.wfmParameterId\r\n\t\t\t\t\t// Without procent - null by default\r\n\t\t\t\t}, this);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a sorted list\r\n\t */\r\n\texports.prototype.calcSortedListOfMonitoringRecord = function () {\r\n\t\treturn ko.unwrap(this.listOfMonitoringRecord).sort(function (l, r) {\r\n\t\t\treturn ko.unwrap(l.unixTime) > ko.unwrap(r.unixTime) ? 1 : -1;\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Remove all records for this well\r\n\t */\r\n\texports.prototype.removeAllMonitoringRecords = function () {\r\n\t\tmonitoringRecordService.removeAll(this.id).done(this.cleanListOfMonitoringRecord.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Clean list after deletion\r\n\t * @private\r\n\t */\r\n\texports.prototype.cleanListOfMonitoringRecord = function () {\r\n\t\tthis.listOfMonitoringRecord([]);\r\n\t};\r\n\r\n\t/**\r\n\t * Import server data to procent borders\r\n\t *    procent borders loaded through the wroup loadProcentBordersForAllWells method\r\n\t */\r\n\texports.prototype.importProcentBorders = function (tmpProcentBorders) {\r\n\t\tthis.procentBorders(tmpProcentBorders.map(function (pbItem) {\r\n\t\t\t\treturn new ProcentBorder(pbItem, this);\r\n\t\t\t}, this));\r\n\t};\r\n\r\n\t//} #endregion MONITORING-METHODS\r\n\r\n\t//{ #region TEST-METHODS\r\n\r\n\t/**\r\n\t * Load a list of test scopes\r\n\t */\r\n\texports.prototype.loadListOfTestScope = function () {\r\n\t\ttestScopeService.get(this.id).done(this.importListOfTestScope.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Fill a list\r\n\t * @private\r\n\t */\r\n\texports.prototype.importListOfTestScope = function (data) {\r\n\t\tdata = data || [];\r\n\t\tthis.listOfTestScope(data.map(this.createTestScope, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Create an object\r\n\t * @private\r\n\t */\r\n\texports.prototype.createTestScope = function (itemData) {\r\n\t\treturn new TestScope(itemData, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate the last approved test scope\r\n\t * @returns {module:models/test-scope}\r\n\t */\r\n\texports.prototype.calcLastApprovedTestScope = function () {\r\n\t\tvar tmpApprovedList = ko.unwrap(this.listOfTestScope).filter(function (elem) {\r\n\t\t\t\treturn ko.unwrap(elem.isApproved) === true;\r\n\t\t\t});\r\n\r\n\t\tvar lastTestScope = tmpApprovedList[0];\r\n\r\n\t\t// Find last (by time) test scope\r\n\t\ttmpApprovedList.forEach(function (elem) {\r\n\t\t\tif (ko.unwrap(elem.startUnixTime) > ko.unwrap(lastTestScope.startUnixTime)) {\r\n\t\t\t\tlastTestScope = elem;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t// Destroy\r\n\t\ttmpApprovedList = null;\r\n\r\n\t\treturn lastTestScope;\r\n\t};\r\n\r\n\t/**\r\n\t * Whether the user can add a new test scope\r\n\t * @returns {boolean}\r\n\t */\r\n\texports.prototype.calcIsEnabledPostTestScope = function () {\r\n\t\tif (ko.unwrap(this.testScopeNewStartUnixTime.unixDate)) {\r\n\t\t\tif (ko.unwrap(this.testScopeNewStartUnixTime.hour) >= 0) {\r\n\t\t\t\tif (ko.unwrap(this.testScopeNewStartUnixTime.minute) >= 0) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\t/**\r\n\t * Set a default time for the new test scope template\r\n\t */\r\n\texports.prototype.setDefaultTimeForTestScopeNew = function () {\r\n\t\tthis.testScopeNewStartUnixTime.unixDate(null);\r\n\t\tthis.testScopeNewStartUnixTime.hour(0);\r\n\t\tthis.testScopeNewStartUnixTime.minute(0);\r\n\t};\r\n\r\n\t/** Post a test scope to the server */\r\n\texports.prototype.postTestScope = function () {\r\n\t\tif (!this.isEnabledPostTestScope) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Date in UTC second\r\n\t\tvar unixTime = ko.unwrap(this.testScopeNewStartUnixTime.unixDate);\r\n\r\n\t\t// Remove UTC offset\r\n\t\t// in seconds\r\n\t\tunixTime += new Date(unixTime * 1000).getTimezoneOffset() * 60;\r\n\r\n\t\t// Add hours\r\n\t\tunixTime += ko.unwrap(this.testScopeNewStartUnixTime.hour) * 3600;\r\n\r\n\t\t// Add minutes\r\n\t\tunixTime += ko.unwrap(this.testScopeNewStartUnixTime.minute) * 60;\r\n\r\n\t\ttestScopeService.post({\r\n\t\t\tWellId : this.id,\r\n\t\t\tStartUnixTime : unixTime,\r\n\t\t\tIsApproved : null,\r\n\t\t\tConductedBy : '',\r\n\t\t\tCertifiedBy : ''\r\n\t\t}).done(this.scsPostTestScope.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * A success callback for posting the test scope\r\n\t */\r\n\texports.prototype.scsPostTestScope = function (data) {\r\n\t\tthis.setDefaultTimeForTestScopeNew();\r\n\t\tthis.unshiftTestScope(data);\r\n\t};\r\n\r\n\t/**\r\n\t * Add to the begin of the list\r\n\t */\r\n\texports.prototype.unshiftTestScope = function (data) {\r\n\t\tthis.listOfTestScope.unshift(new TestScope(data, this));\r\n\t};\r\n\r\n\t//} #endregion TEST-METHODS\r\n\r\n\t/**\r\n\t * Find a list of cognate stages\r\n\t *    1. A list for selection box for new widget (name and id)\r\n\t *    2. A list to find specific stage by id: findCognateStage\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function (keyOfStage) {\r\n\t\tswitch (keyOfStage) {\r\n\t\tcase stageCnst.company.id:\r\n\t\t\treturn [this.getWellGroup().getWellField().getWellRegion().getCompany()];\r\n\t\tcase stageCnst.wegion.id:\r\n\t\t\treturn [this.getWellGroup().getWellField().getWellRegion()];\r\n\t\tcase stageCnst.wield.id:\r\n\t\t\treturn [this.getWellGroup().getWellField()];\r\n\t\tcase stageCnst.wroup.id:\r\n\t\t\treturn [this.getWellGroup()];\r\n\t\tcase stageCnst.well.id:\r\n\t\t\treturn [this];\r\n\t\t}\r\n\t};\r\n\r\n\t/** Save this well main properties */\r\n\texports.prototype.save = function () {\r\n\t\twellService.put(this.id, this.toDto());\r\n\t};\r\n\r\n\t/**\r\n\t * Convert to a plain object\r\n\t */\r\n\texports.prototype.toDto = function () {\r\n\t\tvar dtoObj = {\r\n\t\t\t'Id' : this.Id,\r\n\t\t\t'WellGroupId' : this.WellGroupId,\r\n\t\t\t'WellType' : ko.unwrap(this.WellType),\r\n\t\t\t'FlowType' : ko.unwrap(this.FlowType),\r\n\t\t\t'Comment' : ko.unwrap(this.Comment)\r\n\t\t};\r\n\r\n\t\tthis.propSpecList.forEach(function (prop) {\r\n\t\t\tdtoObj[prop.serverId] = ko.unwrap(this[prop.clientId]);\r\n\t\t}, this);\r\n\r\n\t\treturn dtoObj;\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of a parent company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\treturn this.getWellGroup().getWellField().getWellRegion().getCompany().id;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('helpers/uom-helper',[], function () {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Unit helper\r\n\t */\r\n\tvar exports = {};\r\n\r\n\texports.getUomCoefFromDict = function (needUom, needCoefDict) {\r\n\t\tvar result;\r\n\t\tfor (var coefGroup in needCoefDict) {\r\n\t\t\tif (needCoefDict.hasOwnProperty(coefGroup)) {\r\n\t\t\t\tfor (var coefItem in needCoefDict[coefGroup]) {\r\n\t\t\t\t\tif (needCoefDict[coefGroup].hasOwnProperty(coefItem)) {\r\n\t\t\t\t\t\tif (needUom === coefItem) {\r\n\t\t\t\t\t\t\tresult = needCoefDict[coefGroup][coefItem];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t};\r\n\r\n\t// [['bbl'],['d']] -> bbl/d\r\n\t// [['kg','m'], ['s']] -> kg*m/s\r\n\texports.convertMatrixToStr = function (uomMatrix) {\r\n\t\t// [['kg','m'], ['s']] -> ['kg*m','s']\r\n\t\tvar groupArr = [];\r\n\t\tfor (var i = 0; i < uomMatrix.length; i += 1) {\r\n\t\t\tgroupArr.push(uomMatrix[i].join('*'));\r\n\t\t}\r\n\r\n\t\t// ['kg*m','s'] -> kg*m/s\r\n\t\treturn groupArr.join('/');\r\n\t};\r\n\r\n\t// bbl/d -> [['bbl'],['d']]\r\n\t// kg*m/s -> [['kg','m'], ['s']]\r\n\texports.convertStrToMatrix = function (uomStr) {\r\n\t\t// divide by numerator and denominator\r\n\t\tvar tmpList = uomStr.split('/');\r\n\r\n\t\tvar readyMatrix = [];\r\n\t\tfor (var i = 0; i < tmpList.length; i += 1) {\r\n\t\t\treadyMatrix.push(tmpList[i].split('*'));\r\n\t\t}\r\n\r\n\t\treturn readyMatrix;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","define('constants/uom-constants',['require','exports','module'],function (require, exports, module) {\n/** @module constants/uom-constants */\r\n\r\n'use strict';\r\n\r\n/**\r\n * UOM coefficients\r\n */\r\nexports = {\r\n\ttime : {\r\n\t\tsec : 1,\r\n\t\tmin : 60,\r\n\t\thr : 3600,\r\n\t\td : 86400\r\n\t},\r\n\tvolume : {\r\n\t\tm3 : 1,\r\n\t\tbbl : 0.159159637116027, //? approximately\r\n\t\tMbbl : 159.159637116027, // 1 000 barrels\r\n\t\tMMbbl : 159159.637116027, // 1 000 000 barrels\r\n\t\tscf : 0.028316846592, // Math.Pow(0.3048, 3);\r\n\t\tMcf : 28.316846592, // Math.Pow(0.3048, 3) * 1000\r\n\t\tMMcf : 28316.846592, // Math.Pow(0.3048, 3) * 1000000\r\n\t\tin3 : 0.000016387064, // Math.Pow(0.3048 / 12, 3);\r\n\t\tL : 0.001,\r\n\t\tgalUS : 0.003785411784, // 231 * Math.Pow(0.3048 / 12, 3);// 231 * cui\r\n\t\tgalUK : 0.00454609 // (4.54609 / 1000);//// official in litres\r\n\t},\r\n\ttemperature : {\r\n\t\t'F' : 1\r\n\t}\r\n};\r\n\r\nmodule.exports = exports;\r\n\n});\n","/** @module */\r\ndefine('models/wfm-parameter',['knockout',\r\n\t\t'helpers/uom-helper',\r\n\t\t'constants/uom-constants'], function (ko,\r\n\t\tuomHelper,\r\n\t\tuomCoefDict) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Parameter, like OilRate, WaterRate etc.\r\n\t * @constructor\r\n\t * @param {object} data - Parameter data\r\n\t */\r\n\tvar exports = function (data) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * Parameter id (OilRate, WaterRate, etc.)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Parameter name (Oil rate, water rate, etc.)\r\n\t\t * @todo feat: redefine in wroup parameters #MM!\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.name = ko.observable(data.Name);\r\n\r\n\t\t/**\r\n\t\t * Unit of measurement (scf, barrels, etc.)\r\n\t\t * @todo feat: redefine in wroup parameters #MM!\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.uom = ko.observable(data.Uom);\r\n\r\n\t\t// Todo: need to store in db as this array\r\n\t\t// For Newton: [[kg,m],[s,s]]\r\n\t\t// For Speed: [[m],[s,s]]\r\n\t\t// For Gas: [[f, f, f]] or [[scf]] - standard cubic feet\r\n\t\tthis.sourceUomMatrix = uomHelper.convertStrToMatrix(data.Uom);\r\n\r\n\t\tthis.uomMatrix = ko.computed({\r\n\t\t\t\tread : this.calcUomMatrix,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Default hex color of this parameter: can be redefined in the wroup parameter\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.defaultColor = ko.observable(data.DefaultColor);\r\n\r\n\t\t/**\r\n\t\t * Whether this parameter is cumulative\r\n\t\t * @todo feat: redefine in wroup parameters #MM!\r\n\t\t *       during change need to change squad (for example from Rate to Cumulative)\r\n\t\t * @type {bool}\r\n\t\t */\r\n\t\tthis.isCumulative = ko.observable(data.IsCumulative);\r\n\r\n\t\t/**\r\n\t\t * Whether this parameter is system: used in program logic and can't be deleted\r\n\t\t * @type {bool}\r\n\t\t */\r\n\t\tthis.isSystem = ko.observable(data.IsSystem);\r\n\r\n\t\t/**\r\n\t\t * Id of the squad of parameters ('rate', 'cumulative'...)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.wfmParamSquadId = ko.observable(data.WfmParamSquadId);\r\n\r\n\t\t// If user wants to remember coef state than use cookies and change after initialization\r\n\t\tthis.uomCoef = ko.computed({\r\n\t\t\t\tread : this.calcUomCoef.bind(this),\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\tthis.toPlainJson = function () {\r\n\t\t\treturn ko.toJS(this);\r\n\t\t};\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate a coef for an unit\r\n\t * @private\r\n\t */\r\n\texports.prototype.calcUomCoef = function () {\r\n\t\tvar coef = 1;\r\n\r\n\t\tvar currentUomMatrix = ko.unwrap(this.uomMatrix);\r\n\t\tfor (var i = 0; i < this.sourceUomMatrix.length; i += 1) {\r\n\t\t\tfor (var j = 0; j < this.sourceUomMatrix[i].length; j += 1) {\r\n\t\t\t\tvar curItem = currentUomMatrix[i][j];\r\n\t\t\t\tvar srcItem = this.sourceUomMatrix[i][j];\r\n\r\n\t\t\t\tif (curItem !== srcItem) {\r\n\t\t\t\t\t// get coef (only for changed values)\r\n\t\t\t\t\tif (i === 0) {\r\n\t\t\t\t\t\t// If numerator (first value in array)\r\n\t\t\t\t\t\tcoef *= uomHelper.getUomCoefFromDict(srcItem, uomCoefDict) / uomHelper.getUomCoefFromDict(curItem, uomCoefDict);\r\n\t\t\t\t\t} else if (i === 1) {\r\n\t\t\t\t\t\t// If denominator (second value in array)\r\n\t\t\t\t\t\tcoef /= uomHelper.getUomCoefFromDict(srcItem, uomCoefDict) / uomHelper.getUomCoefFromDict(curItem, uomCoefDict);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn coef;\r\n\t};\r\n\r\n\t/**\r\n\t * Select box for changing unit\r\n\t */\r\n\texports.prototype.changeSelectedUom = function (selectedUom, selectedUomSquadPosition, selectedUomPosition) {\r\n\t\t////var prevSelectedUom = self.uomMatrix()[selectedUomSquadPosition][selectedUomPosition];\r\n\t\tvar uomMatrixNew = ko.unwrap(this.uomMatrix).slice();\r\n\t\tuomMatrixNew[selectedUomSquadPosition][selectedUomPosition] = selectedUom;\r\n\t\tthis.uom(uomHelper.convertMatrixToStr(uomMatrixNew));\r\n\t};\r\n\r\n\t/**\r\n\t *  List of possible units of measurements (for choosed uom)\r\n\t */\r\n\texports.prototype.getPossibleUomListForSelectedUom = function (selectedUom) {\r\n\t\t// choose group for need unit of measurement\r\n\t\tvar needGroup;\r\n\t\tfor (var uomCoefGroup in uomCoefDict) {\r\n\t\t\tif (uomCoefDict.hasOwnProperty(uomCoefGroup)) {\r\n\t\t\t\tfor (var uomCoefItem in uomCoefDict[uomCoefGroup]) {\r\n\t\t\t\t\tif (uomCoefDict[uomCoefGroup].hasOwnProperty(uomCoefItem)) {\r\n\t\t\t\t\t\tif (uomCoefItem === selectedUom) {\r\n\t\t\t\t\t\t\tneedGroup = uomCoefDict[uomCoefGroup];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar resultList = [];\r\n\t\t// convert group to array (exclude need uom)\r\n\t\tif (needGroup) {\r\n\t\t\tfor (var uomCoefMain in needGroup) {\r\n\t\t\t\tif (needGroup.hasOwnProperty(uomCoefMain)) {\r\n\t\t\t\t\tif (uomCoefMain !== selectedUom) {\r\n\t\t\t\t\t\tresultList.push(uomCoefMain);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn resultList;\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a matrix for an unit\r\n\t * @private\r\n\t */\r\n\texports.prototype.calcUomMatrix = function () {\r\n\t\treturn uomHelper.convertStrToMatrix(ko.unwrap(this.uom));\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/wfm-parameter-of-wroup',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t */\r\n\tvar url = function (idOfWroup, idOfWfmParameter) {\r\n\t\t// [RoutePrefix(\"api/well-groups/{idOfWroup:int}/wfm-parameters\")]\r\n\t\treturn '//wfm-report.herokuapp.com/api/well-groups/' + idOfWroup + '/wfm-parameters' + (idOfWfmParameter ? ('/' + idOfWfmParameter) : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Data service: parameters of well group\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function (idOfWroup, idOfWfmParameter) {\r\n\t\t\treturn ajaxRequest('GET', url(idOfWroup, idOfWfmParameter));\r\n\t\t\t// return [{\r\n\t\t\t// WellGroupId: 123,\r\n\t\t\t// WfmParameterId: 'GasRate',\r\n\t\t\t// Color: ...\r\n\t\t},\r\n\t\tpost : function (idOfWroup, mdlData) {\r\n\t\t\treturn ajaxRequest('POST', url(idOfWroup), mdlData);\r\n\t\t},\r\n\t\tput : function (idOfWroup, idOfWfmParameter, mdlData) {\r\n\t\t\treturn ajaxRequest('PUT', url(idOfWroup, idOfWfmParameter), mdlData);\r\n\t\t},\r\n\t\t// delete parameter from wellgroup\r\n\t\t// need to clean all data from TestData (and ProductionData)\r\n\t\t// if no one used this parameter (no more references to this table) and if parameter is not in the library\r\n\t\t// then delete from wfmParameter table\r\n\t\tremove : function (idOfWroup, idOfWfmParameter) {\r\n\t\t\treturn ajaxRequest('DELETE', url(idOfWroup, idOfWfmParameter));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/wfm-parameter-of-wroup',['knockout',\r\n\t\t'models/wfm-parameter',\r\n\t\t'services/wfm-parameter-of-wroup'],\r\n\tfunction (ko,\r\n\t\tWfmParameter,\r\n\t\twfmParameterOfWroupService) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Parameter (union) for test or perfomance data. Every well group has own array of wfm parameters.\r\n\t * @constructor\r\n\t * @param {object} data - Parameter data\r\n\t * @param {module:models/wroup} wellGroupItem - Well group (parent of parameter)\r\n\t */\r\n\tvar exports = function (data, wellGroupItem) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/**\r\n\t\t * Get well group (parent)\r\n\t\t * @returns {module:models/wroup} Well group (parent)\r\n\t\t */\r\n\t\tthis.getWellGroup = function () {\r\n\t\t\treturn wellGroupItem;\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Well group (parent) id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.wellGroupId = data.WellGroupId;\r\n\r\n\t\t/**\r\n\t\t * Wfm parameter id\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.wfmParameterId = data.WfmParameterId;\r\n\r\n\t\t/**\r\n\t\t * Serial number (order number)\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.serialNumber = ko.observable(data.SerialNumber);\r\n\r\n\t\t/**\r\n\t\t * Parameter color, specified for this well group. Ovveride default color of parameter.\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.color = ko.observable(data.Color);\r\n\r\n\t\t/**\r\n\t\t * Unit of measure\r\n\t\t *    overrided a wfm-parameter property\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.uom = ko.observable(data.Uom);\r\n\r\n\t\t/**\r\n\t\t * Whether this parameter is monitored (well or platform monitoring)\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isMonitored = ko.observable(data.IsMonitored);\r\n\r\n\t\t/**\r\n\t\t * Whether parameter can be calculated from other parameters\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isCalc = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Wfm parameter (global parameter definition - not only for this group)\r\n\t\t * @type {module:models/wfm-parameter}\r\n\t\t */\r\n\t\tthis.wfmParameter = ko.observable();\r\n\r\n\t\tif (!data.WfmParameterDto) {\r\n\t\t\tconsole.log('TODO: remove');\r\n\t\t}\r\n\r\n\t\t// When create temp parameter for POST request - this data is not exists\r\n\t\tif (data.WfmParameterDto) {\r\n      console.log('try to find a parameter from loaded parameters');\r\n\t\t\tthis.wfmParameter(new WfmParameter(data.WfmParameterDto));\r\n\t\t}\r\n\r\n\t\t// Subscribe events (only after function and props initialization)\r\n\r\n\t\tthis.isMonitored.subscribe(this.save, this);\r\n\t\tthis.color.subscribe(this.save, this);\r\n    this.uom.subscribe(this.save, this);\r\n\t};\r\n\r\n\t/**\r\n\t * Save the wfm parameter\r\n\t */\r\n\texports.prototype.save = function () {\r\n\t\twfmParameterOfWroupService.put(this.wellGroupId, this.wfmParameterId, {\r\n\t\t\tWellGroupId : this.wellGroupId,\r\n\t\t\tWfmParameterId : this.wfmParameterId,\r\n\t\t\tIsMonitored : ko.unwrap(this.isMonitored),\r\n\t\t\tColor : ko.unwrap(this.color),\r\n\t\t\tSerialNumber : ko.unwrap(this.serialNumber),\r\n\t\t\tUom : ko.unwrap(this.uom)\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/wroup',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    var url = function (uqp) {\r\n        return '//wfm-report.herokuapp.com/api/wellgroup/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function () {\r\n            return ajaxRequest('GET', url());\r\n        },\r\n        post: function (data) {\r\n            return ajaxRequest('POST', url(), data);\r\n        },\r\n        put: function (id, data) {\r\n            return ajaxRequest('PUT', url({ id: id }), data);\r\n        },\r\n        remove: function (id) {\r\n            return ajaxRequest('DELETE', url({ id: id }));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/wroup',['jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'models/well',\r\n\t\t'models/wfm-parameter-of-wroup',\r\n\t\t'services/wfm-parameter-of-wroup',\r\n\t\t'models/section-of-stage',\r\n\t\t'base-models/stage-base',\r\n\t\t'models/prop-spec',\r\n\t\t'services/wroup',\r\n\t\t'constants/stage-constants',\r\n\t\t'services/procent-border',\r\n\t\t'services/monitoring-record',\r\n\t\t'helpers/app-helper'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tdatacontext,\r\n\t\tWell,\r\n\t\tWellGroupWfmParameter,\r\n\t\twfmParameterOfWroupService,\r\n\t\tSectionOfWroup,\r\n\t\tStageBase,\r\n\t\tPropSpec,\r\n\t\twroupService,\r\n\t\tstageCnst,\r\n\t\tprocentBorderService,\r\n\t\tmonitoringRecordService,\r\n\t\tappHelper) {\r\n\t'use strict';\r\n\r\n\t// 18. WellGroupWfmParameter\r\n\tfunction importWellGroupWfmParameterDtoList(data, wellGroupItem) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new WellGroupWfmParameter(item, wellGroupItem);\r\n\t\t});\r\n\t}\r\n\r\n\t// 4. Wells (convert data objects into array)\r\n\tfunction importWells(data, parent) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new Well(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Import sections */\r\n\tfunction importListOfSectionOfWroupDto(data, parent) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new SectionOfWroup(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Main properties for groups */\r\n\tvar wroupPropSpecList = [\r\n\t\tnew PropSpec('Name', 'Name', 'Group name', 'SingleLine', {\r\n\t\t\tmaxLength : 255\r\n\t\t}),\r\n\t\tnew PropSpec('Description', 'Description', 'Description', 'MultiLine', {})\r\n\t];\r\n\r\n\t/**\r\n\t * Well group\r\n\t * @constructor\r\n\t * @param {object} data - Group data\r\n\t * @param {module:models/wield} wellField - Well field (parent)\r\n\t */\r\n\tvar exports = function (data, wellField) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/** Alternative of this context: for closures etc. */\r\n\t\tvar ths = this;\r\n\r\n\t\t/**\r\n\t\t * Get well field (parent)\r\n\t\t * @returns {module:models/wield}\r\n\t\t */\r\n\t\tthis.getWellField = function () {\r\n\t\t\treturn wellField;\r\n\t\t};\r\n\r\n\t\t/** Get root view model */\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn this.getWellField().getRootMdl();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Group id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.Id = data.Id;\r\n\r\n\t\t/** Alternatie for caps Id */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Field (parent) id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.WellFieldId = data.WellFieldId;\r\n\r\n\t\t/** Property specifications */\r\n\t\tthis.propSpecList = wroupPropSpecList;\r\n\r\n\t\t/**\r\n\t\t * Stage key: equals file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageCnst.wroup.id;\r\n\r\n\t\t/** Base for all stages */\r\n\t\tStageBase.call(this, data);\r\n\r\n\t\t/**\r\n\t\t * List of well for this group\r\n\t\t * @type {Array.<module:models/well>}\r\n\t\t */\r\n\t\tthis.wells = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * List of wfm parameters for this group\r\n\t\t * @type {Array.<module:models/wfm-parameter-of-wroup>}\r\n\t\t */\r\n\t\tthis.listOfWfmParameterOfWroup = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether parameters are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedListOfWfmParameterOfWroup = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Sum of totals of test scopes\r\n\t\t *    for wroup potential\r\n\t\t */\r\n\t\tthis.totalTestScopeOfWells = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar result = {};\r\n\t\t\t\t\tvar tmpActiveWells = ko.unwrap(ths.wells).filter(function (elem) {\r\n\t\t\t\t\t\t\treturn ko.unwrap(elem['IsActive']) === true;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\tvar tmpWroupParams = ko.unwrap(ths.listOfWfmParameterOfWroup);\r\n\r\n\t\t\t\t\ttmpActiveWells.forEach(function (tmpWell) {\r\n\t\t\t\t\t\tvar tmpLastApprovedTestScope = ko.unwrap(tmpWell.lastApprovedTestScope);\r\n\t\t\t\t\t\tif (tmpLastApprovedTestScope) {\r\n\t\t\t\t\t\t\tvar tmpTestDataTotal = ko.unwrap(tmpLastApprovedTestScope.testDataTotal);\r\n\t\t\t\t\t\t\ttmpWroupParams.forEach(function (tmpParam) {\r\n\t\t\t\t\t\t\t\tif (!result[tmpParam.wfmParameterId]) {\r\n\t\t\t\t\t\t\t\t\tresult[tmpParam.wfmParameterId] = 0;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tresult[tmpParam.wfmParameterId] +=  + (tmpTestDataTotal[tmpParam.wfmParameterId] || 0);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t//{ #region MONITORING\r\n\r\n\t\t/**\r\n\t\t * List of monitored params\r\n\t\t * @type {Array.<module:models/wfm-parameter-of-well-group>}\r\n\t\t */\r\n\t\tthis.listOfMonitoredParams = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar tmpList = ko.unwrap(ths.listOfWfmParameterOfWroup);\r\n\t\t\t\t\treturn tmpList.filter(function (elem) {\r\n\t\t\t\t\t\treturn ko.unwrap(elem.isMonitored);\r\n\t\t\t\t\t});\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * Whether procent borders are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedProcentBordersForAllWells = ko.observable(false);\r\n\r\n\t\t//} #endregion MONITORING\r\n\r\n\t\t/** Load wells */\r\n\t\tthis.wells(importWells(data.WellsDto, ths));\r\n\r\n\t\t/** Load sections */\r\n\t\tthis.listOfSection(importListOfSectionOfWroupDto(data.ListOfSectionOfWroupDto, ths));\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/**\r\n\t * Load procent borders for all wells\r\n\t */\r\n\texports.prototype.loadProcentBordersForAllWells = function () {\r\n\t\tvar ths = this;\r\n\t\tif (ko.unwrap(ths.isLoadedProcentBordersForAllWells)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tprocentBorderService.getForAllWells(ths.id).done(function (tmpScope) {\r\n\t\t\tths.isLoadedProcentBordersForAllWells(true);\r\n\t\t\tconsole.log(tmpScope);\r\n\t\t\tvar tmpWells = ko.unwrap(ths.wells);\r\n\r\n\t\t\t// Import data to each well\r\n\t\t\ttmpWells.forEach(function (tmpWell) {\r\n\t\t\t\t// Get array of procent borders for need well\r\n\t\t\t\tvar tmpProcentBordersForWell = tmpScope.filter(function (scopeItem) {\r\n\t\t\t\t\t\treturn scopeItem.IdOfWell === tmpWell.id;\r\n\t\t\t\t\t})[0].ArrayOfProcentBorder;\r\n\r\n\t\t\t\ttmpWell.importProcentBorders(tmpProcentBordersForWell);\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Convert to DTO\r\n\t */\r\n\texports.prototype.toDto = function () {\r\n\t\tvar ths = this;\r\n\r\n\t\tvar dtoObj = {\r\n\t\t\t'Id' : ths.Id,\r\n\t\t\t'WellFieldId' : ths.WellFieldId\r\n\t\t};\r\n\r\n\t\tths.propSpecList.forEach(function (prop) {\r\n\t\t\tdtoObj[prop.serverId] = ko.unwrap(ths[prop.clientId]);\r\n\t\t});\r\n\r\n\t\treturn dtoObj;\r\n\t};\r\n\r\n\t/**\r\n\t * Load data for all wells and for need date\r\n\t * @param {number} tmpUnixTime - Need date\r\n\t * @param {object} tmpMntrParams - Monitored parameters\r\n\t */\r\n\texports.prototype.loadListOfScopeOfMonitoring = function (tmpUnixTime, tmpMntrParams) {\r\n\t\tvar ths = this;\r\n\t\t// TODO: if there are data for this date - no need to load #LH!\r\n\t\tmonitoringRecordService.getListOfScope(ths.id, tmpUnixTime).done(function (tmpListOfScope) {\r\n\t\t\tvar tmpWells = ko.unwrap(ths.wells);\r\n\r\n\t\t\t// Import data to each well\r\n\t\t\ttmpWells.forEach(function (tmpWell) {\r\n\t\t\t\t// Get array of data for need well\r\n\t\t\t\tvar needScope = tmpListOfScope.filter(function (scopeItem) {\r\n\t\t\t\t\t\treturn scopeItem.IdOfWell === tmpWell.id;\r\n\t\t\t\t\t})[0];\r\n\r\n\t\t\t\tif (needScope) {\r\n\t\t\t\t\t// Import data to the well\r\n\t\t\t\t\ttmpWell.importMonitoringRecords(needScope.ListOfMonitoringRecord, tmpMntrParams);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Save this well group\r\n\t */\r\n\texports.prototype.save = function () {\r\n\t\twroupService.put(this.id, this.toDto());\r\n\t};\r\n\r\n\t/**\r\n\t * Remove a child well\r\n\t * @param {module:models/well} wellToRemove - Well to remove\r\n\t */\r\n\texports.prototype.removeChild = function (wellToRemove) {\r\n\t\tvar ths = this;\r\n\r\n\t\tdatacontext.deleteWell(wellToRemove).done(function () {\r\n\t\t\tths.wells.remove(wellToRemove);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Create a new well\r\n\t * @param {string} tmpName - Well name\r\n\t */\r\n\texports.prototype.postWell = function (tmpName, scsCallback) {\r\n\t\tvar ths = this;\r\n\t\tdatacontext.postWell({\r\n\t\t\tName : tmpName,\r\n\t\t\tDescription : '',\r\n\t\t\tWellGroupId : ths.id,\r\n\t\t\tIsActive : true\r\n\t\t}).done(function (result) {\r\n\t\t\tths.wells.push(new Well(result, ths));\r\n\t\t\tscsCallback();\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Load parameters\r\n\t */\r\n\texports.prototype.loadListOfWfmParameterOfWroup = function (callback) {\r\n\t\tif (!ko.unwrap(this.isLoadedListOfWfmParameterOfWroup)) {\r\n\t\t\twfmParameterOfWroupService.get(this.id).done(this.scsLoadListOfWfmParameterOfWroup.bind(this, callback));\r\n\t\t} else {\r\n\t\t\tif (appHelper.isFunction(callback)) {\r\n\t\t\t\tcallback();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Success callback\r\n\t * @private\r\n\t */\r\n\texports.prototype.scsLoadListOfWfmParameterOfWroup = function (callback, response) {\r\n\t\tthis.listOfWfmParameterOfWroup(importWellGroupWfmParameterDtoList(response));\r\n\t\tthis.isLoadedListOfWfmParameterOfWroup(true);\r\n\t\tif (appHelper.isFunction(callback)) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Remove param from a well group\r\n\t * @param {module:models/wfm-parameter-of-wroup} - Model of the parameter to remove\r\n\t */\r\n\texports.prototype.removeWfmParameterOfWroup = function (mdlToRemove) {\r\n\t\tvar ths = this;\r\n\t\twfmParameterOfWroupService.remove(mdlToRemove.wellGroupId, mdlToRemove.wfmParameterId).done(function () {\r\n\t\t\tths.listOfWfmParameterOfWroup.remove(mdlToRemove);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Add selected param to the server with default color and order number\r\n\t * @param {string} tmpWfmParamId - Id of a parameter, like well-map\r\n\t */\r\n\texports.prototype.postWfmParameterOfWroup = function (tmpWfmParamId, tmpColor, tmpUom) {\r\n\t\twfmParameterOfWroupService.post(this.id, {\r\n\t\t\tColor : tmpColor,\r\n\t\t\tSerialNumber : 1,\r\n\t\t\tWellGroupId : this.id,\r\n\t\t\tWfmParameterId : tmpWfmParamId,\r\n\t\t\tIsMonitored : false,\r\n      Uom: tmpUom\r\n\t\t}).done(this.pushWfmParameterOfWroup.bind(this));\r\n\t};\r\n\r\n\texports.prototype.pushWfmParameterOfWroup = function (data) {\r\n\t\tthis.listOfWfmParameterOfWroup.push(new WellGroupWfmParameter(data, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Find a list of cognate stages\r\n\t *    1. A list for selection box for new widget (name and id)\r\n\t *    2. A list to find specific stage by id: findCognateStage\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function (keyOfStage) {\r\n\t\tswitch (keyOfStage) {\r\n\t\tcase stageCnst.company.id:\r\n\t\t\treturn [this.getWellField().getWellRegion().getCompany()];\r\n\t\tcase stageCnst.wegion.id:\r\n\t\t\treturn [this.getWellField().getWellRegion()];\r\n\t\tcase stageCnst.wield.id:\r\n\t\t\treturn [this.getWellField()];\r\n\t\tcase stageCnst.wroup.id:\r\n\t\t\treturn [this];\r\n\t\tcase stageCnst.well.id:\r\n\t\t\treturn ko.unwrap(this.wells);\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of a parent company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\treturn this.getWellField().getWellRegion().getCompany().id;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/wield',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    var url = function (uqp) {\r\n        return '//wfm-report.herokuapp.com/api/wellfield/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function () {\r\n            return ajaxRequest('GET', url());\r\n        },\r\n        post: function (data) {\r\n            return ajaxRequest('POST', url(), data);\r\n        },\r\n        put: function (id, data) {\r\n            return ajaxRequest('PUT', url({ id: id }), data);\r\n        },\r\n        remove: function (id) {\r\n            return ajaxRequest('DELETE', url({ id: id }));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/wield',['knockout',\r\n\t\t'services/datacontext',\r\n\t\t'helpers/file-helper',\r\n\t\t'base-models/stage-base',\r\n\t\t'models/map-of-wield',\r\n\t\t'services/map-of-wield',\r\n\t\t'models/section-of-stage',\r\n\t\t'models/wroup',\r\n\t\t'models/prop-spec',\r\n\t\t'services/wield',\r\n\t\t'services/wroup',\r\n\t\t'constants/stage-constants',\r\n\t\t'helpers/app-helper'],\r\n\tfunction (ko, datacontext,\r\n\t\tfileHelper, StageBase, MapOfWield, mapOfWieldService, SectionOfWield, WellGroup,\r\n\t\tPropSpec, wieldService, wroupService, stageCnst, appHelper) {\r\n\t'use strict';\r\n\r\n\t// 10. WellFieldMaps (convert data objects into array)\r\n\tfunction importWellFieldMapsDto(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new MapOfWield(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t// 3. WellGroup (convert data objects into array)\r\n\tfunction importWroupDtoList(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new WellGroup(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importListOfSectionOfWieldDto(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new SectionOfWield(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Main properties for company: headers can be translated here if needed */\r\n\tvar wieldPropSpecList = [\r\n\t\tnew PropSpec('name', 'Name', 'Field name', 'SingleLine', {\r\n\t\t\tmaxLength : 255\r\n\t\t}),\r\n\t\tnew PropSpec('description', 'Description', 'Description', 'MultiLine', {})\r\n\t];\r\n\r\n\t/**\r\n\t * Well field\r\n\t * @constructor\r\n\t * @param {object} data - Field data\r\n\t * @param {module:models/wegion} wellRegion - Region (parent)\r\n\t */\r\n\tvar exports = function (data, wellRegion) {\r\n\t\tdata = data || {};\r\n\r\n\t\tvar ths = this;\r\n\r\n\t\t/** Get region (parent) */\r\n\t\tthis.getWellRegion = function () {\r\n\t\t\treturn wellRegion;\r\n\t\t};\r\n\r\n\t\t/** Get root view model */\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn this.getWellRegion().getRootMdl();\r\n\t\t};\r\n\r\n\t\tthis.propSpecList = wieldPropSpecList;\r\n\r\n\t\t// TODO: change to small id\r\n\t\t/**\r\n\t\t * Field id\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.Id = data.Id;\r\n\r\n\t\t/** Alternative for Id */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/**\r\n\t\t * Id of region (parent): foreign key\r\n\t\t * @type {number}\r\n\t\t */\r\n\t\tthis.idOfWegion = data.WellRegionId;\r\n\r\n\t\t/**\r\n\t\t * Stage key: equals file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageCnst.wield.id;\r\n\r\n\t\t// Add identical properties for all stages (well, field, group, regions, company)\r\n\t\tStageBase.call(this, data);\r\n\r\n\t\t/**\r\n\t\t * List of groups\r\n\t\t * @type {Array.<module:models/wroup>}\r\n\t\t */\r\n\t\tthis.wroups = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * List of maps\r\n\t\t * @type {Array.<module:models/map-of-wield>}\r\n\t\t */\r\n\t\tthis.WellFieldMaps = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether maps are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedMapsOfWield = ko.observable(false);\r\n\r\n\t\t/** Save non-reference properties, like groups, or region */\r\n\t\tthis.save = function () {\r\n\t\t\twieldService.put(ths.Id, ths.toDto());\r\n\t\t};\r\n\r\n\t\t/** Convert to data transfer object: only simple props */\r\n\t\tthis.toDto = function () {\r\n\t\t\tvar dtoObj = {\r\n\t\t\t\t'Id' : ths.Id,\r\n\t\t\t\t'WellRegionId' : ths.idOfWegion\r\n\t\t\t};\r\n\r\n\t\t\tths.propSpecList.forEach(function (prop) {\r\n\t\t\t\tdtoObj[prop.serverId] = ko.unwrap(ths[prop.clientId]);\r\n\t\t\t});\r\n\r\n\t\t\treturn dtoObj;\r\n\t\t};\r\n\r\n\t\t/** Load groups */\r\n\t\tthis.wroups(importWroupDtoList(data.WellGroupsDto, this));\r\n\r\n\t\t/** Load sections */\r\n\t\tthis.listOfSection(importListOfSectionOfWieldDto(data.ListOfSectionOfWieldDto, this));\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/** Load all maps for this field */\r\n\texports.prototype.loadMapsOfWield = function () {\r\n\t\tif (ko.unwrap(this.isLoadedMapsOfWield)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar ths = this;\r\n\t\tmapOfWieldService.get(this.id).done(function (result) {\r\n\t\t\tths.isLoadedMapsOfWield(true);\r\n\t\t\tths.WellFieldMaps(importWellFieldMapsDto(result, ths));\r\n\t\t\tconsole.log('maps are loaded', result, ko.unwrap(ths.WellFieldMaps));\r\n\t\t});\r\n\t};\r\n\r\n\t/** Send a map to the server */\r\n\texports.prototype.postMapOfWield = function (tmpIdOfFileSpec, tmpNameOfFileSpec, scsCallback) {\r\n\t\tvar ths = this;\r\n\t\t// Create map on the server with this file\r\n\t\tmapOfWieldService.post(ths.id, {\r\n\t\t\tWellFieldId : ths.id,\r\n\t\t\tScaleCoefficient : 1,\r\n\t\t\tDescription : '',\r\n\t\t\t// by default - map name = file name\r\n\t\t\tName : tmpNameOfFileSpec,\r\n\t\t\tIdOfFileSpec : tmpIdOfFileSpec\r\n\t\t}).done(function (r) {\r\n\t\t\tths.WellFieldMaps.push(new MapOfWield(r, ths));\r\n\r\n\t\t\tscsCallback();\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Get well group by id\r\n\t * @param {number} idOfWroup - Id of well group\r\n\t */\r\n\texports.prototype.getWroupById = function (idOfWroup) {\r\n\t\tvar tmpWroups = ko.unwrap(this.wroups);\r\n\t\treturn tmpWroups.filter(function (elem) {\r\n\t\t\treturn elem.id === idOfWroup;\r\n\t\t})[0];\r\n\t};\r\n\r\n\t/** Post well group */\r\n\texports.prototype.postWroup = function (tmpName) {\r\n\t\tvar ths = this;\r\n\t\twroupService.post({\r\n\t\t\t'Name' : tmpName,\r\n\t\t\t'Description' : '',\r\n\t\t\t'WellFieldId' : ths.id\r\n\t\t}).done(function (result) {\r\n\t\t\tths.wroups.push(new WellGroup(result, ths));\r\n\t\t});\r\n\t};\r\n\r\n\t/** Remove a child */\r\n\texports.prototype.removeChild = function (wellGroupForDelete) {\r\n\t\tvar ths = this;\r\n\t\twroupService.remove(wellGroupForDelete.id).done(function () {\r\n\t\t\tths.wroups.remove(wellGroupForDelete);\r\n\t\t});\r\n\t};\r\n\r\n\t/** Remove a map from the field */\r\n\texports.prototype.removeMapOfWield = function (itemToDelete) {\r\n\t\tvar ths = this;\r\n\t\tmapOfWieldService.remove(ths.id, itemToDelete.id).done(function () {\r\n\t\t\tths.WellFieldMaps.remove(itemToDelete);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Find a list of cognate stages\r\n\t *    1. A list for selection box for new widget (name and id)\r\n\t *    2. A list to find specific stage by id: findCognateStage\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function (keyOfStage) {\r\n\t\tswitch (keyOfStage) {\r\n\t\tcase stageCnst.company.id:\r\n\t\t\treturn [this.getWellRegion().getCompany()];\r\n\t\tcase stageCnst.wegion.id:\r\n\t\t\treturn [this.getWellRegion()];\r\n\t\tcase stageCnst.wield.id:\r\n\t\t\treturn [this];\r\n\t\tcase stageCnst.wroup.id:\r\n\t\t\treturn ko.unwrap(this.wroups);\r\n\t\tcase stageCnst.well.id:\r\n\t\t\treturn this.calcListOfWell();\r\n\t\t}\r\n\t};\r\n\r\n\t/** Calc all wells for this well field */\r\n\texports.prototype.calcListOfWell = function () {\r\n\t\tvar needArr = [];\r\n\r\n\t\tko.unwrap(this.wroups).forEach(function (wroupItem) {\r\n\t\t\tko.unwrap(wroupItem.wells).forEach(function (wellItem) {\r\n\t\t\t\tneedArr.push(wellItem);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of a parent company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\treturn this.getWellRegion().getCompany().id;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/wegion',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    var url = function (uqp) {\r\n        return '//wfm-report.herokuapp.com/api/wellregion/' + (uqp ? ('?' + $.param(uqp)) : '');\r\n    };\r\n\r\n    /**\r\n    * Data service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        getInclusive: function (companyId) {\r\n            return ajaxRequest('GET', url({\r\n                company_id: companyId,\r\n                is_inclusive: true\r\n            }));\r\n        },\r\n        get: function () {\r\n            return ajaxRequest('GET', url());\r\n        },\r\n        post: function (data) {\r\n            return ajaxRequest('POST', url(), data);\r\n        },\r\n        put: function (id, data) {\r\n            return ajaxRequest('PUT', url({ id: id }), data);\r\n        },\r\n        remove: function (id) {\r\n            return ajaxRequest('DELETE', url({ id: id }));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/wegion',['jquery',\r\n\t\t'knockout',\r\n\t\t'services/datacontext',\r\n\t\t'models/wield',\r\n\t\t'base-models/stage-base',\r\n\t\t'models/section-of-stage',\r\n\t\t'models/prop-spec',\r\n\t\t'services/wegion',\r\n\t\t'services/wield',\r\n\t\t'constants/stage-constants',\r\n\t\t'helpers/app-helper'],\r\n\tfunction ($, ko, datacontext,\r\n\t\tWellField, StageBase, SectionOfWegion,\r\n\t\tPropSpec,\r\n\t\twegionService, wieldService, stageCnst,\r\n\t\tappHelper) {\r\n\t'use strict';\r\n\r\n\t// 2. WellField (convert data objects into array)\r\n\tfunction importWieldDtoList(data, parent) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new WellField(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction importListOfSectionOfWegionDto(data, parent) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new SectionOfWegion(item, parent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Main properties for company: headers can be translated here if needed */\r\n\tvar wegionPropSpecList = [\r\n\t\tnew PropSpec('name', 'Name', 'Region name', 'SingleLine', {\r\n\t\t\tmaxLength : 255\r\n\t\t}),\r\n\t\tnew PropSpec('description', 'Description', 'Description', 'MultiLine', {})\r\n\t];\r\n\r\n\t/**\r\n\t * Well region\r\n\t * @constructor\r\n\t * @param {object} data - Region data\r\n\t * @param {module:models/company} company - Region company (parent)\r\n\t */\r\n\tvar exports = function (data, company) {\r\n\t\tdata = data || {};\r\n\r\n\t\tthis.getCompany = function () {\r\n\t\t\treturn company;\r\n\t\t};\r\n\r\n\t\t/** Get root view model */\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn this.getCompany().getRootMdl();\r\n\t\t};\r\n\r\n\t\t// Persisted properties\r\n\t\tthis.id = data.Id;\r\n\t\tthis.companyId = data.CompanyId;\r\n\t\tthis.wields = ko.observableArray([]);\r\n\t\t/** Props specifications */\r\n\t\tthis.propSpecList = wegionPropSpecList;\r\n\r\n\t\t/**\r\n\t\t * Stage key: equals file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageCnst.wegion.id;\r\n\r\n\t\t/** Base for all stages */\r\n\t\tStageBase.call(this, data);\r\n\r\n\t\t/** load well fields */\r\n\t\tthis.wields(importWieldDtoList(data.WellFieldsDto, this));\r\n\r\n\t\t/** Load sections */\r\n\t\tthis.listOfSection(importListOfSectionOfWegionDto(data.ListOfSectionOfWegionDto, this));\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/** Remove a child from a server */\r\n\texports.prototype.removeChild = function (wieldForDelete) {\r\n\t\twieldService.remove(wieldForDelete.id).done(this.removeFromListOfWield.bind(this, wieldForDelete));\r\n\t};\r\n\r\n\t/** Remove a child from a list */\r\n\texports.prototype.removeFromListOfWield = function (wieldForDelete) {\r\n\t\tthis.wields.remove(wieldForDelete);\r\n\t};\r\n\r\n\t// exports.prototype.findCognateStage = function(typeOfStage, idOfStage){\r\n\r\n\t// };\r\n\r\n\t/**\r\n\t * Convert model to plain json object without unnecessary properties.\r\n\t *    Can be used to send requests (with clean object) to the server.\r\n\t *    http://knockoutjs.com/documentation/json-data.html\r\n\t *    \"ko.toJS  this clones your view models object graph, substituting for each observable the current value of that observable,\r\n\t *    so you get a plain copy that contains only your data and no Knockout-related artifacts\"\r\n\t */\r\n\texports.prototype.toDto = function () {\r\n\t\tvar dtoObj = {\r\n\t\t\t'Id' : this.id,\r\n\t\t\t'CompanyId' : this.companyId\r\n\t\t};\r\n\r\n\t\tthis.propSpecList.forEach(function (prop) {\r\n\t\t\tdtoObj[prop.serverId] = ko.unwrap(this[prop.clientId]);\r\n\t\t}, this);\r\n\r\n\t\treturn dtoObj;\r\n\t};\r\n\r\n\t/** Post well field */\r\n\texports.prototype.postWield = function (tmpName) {\r\n\t\twieldService.post({\r\n\t\t\t'Name' : tmpName,\r\n\t\t\t'Description' : '',\r\n\t\t\t'WellRegionId' : this.id\r\n\t\t}).done(this.pushWield.bind(this));\r\n\t};\r\n\r\n\texports.prototype.pushWield = function (wieldData) {\r\n\t\tthis.wields.push(new WellField(wieldData, this));\r\n\t};\r\n\r\n\t/** Save well region */\r\n\texports.prototype.save = function () {\r\n\t\twegionService.put(this.id, this.toDto());\r\n\t};\r\n\r\n\t/**\r\n\t * Find a list of cognate stages\r\n\t *    1. A list for selection box for new widget (name and id)\r\n\t *    2. A list to find specific stage by id: findCognateStage\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function (keyOfStage) {\r\n\t\tswitch (keyOfStage) {\r\n\t\tcase stageCnst.company.id:\r\n\t\t\treturn [this.getCompany()];\r\n\t\tcase stageCnst.wegion.id:\r\n\t\t\treturn [this];\r\n\t\tcase stageCnst.wield.id:\r\n\t\t\treturn ko.unwrap(this.wields);\r\n\t\tcase stageCnst.wroup.id:\r\n\t\t\treturn this.calcListOfWroup();\r\n\t\tcase stageCnst.well.id:\r\n\t\t\treturn this.calcListOfWell();\r\n\t\t}\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a list of well groups for this region\r\n\t */\r\n\texports.prototype.calcListOfWroup = function () {\r\n\t\tvar needArr = [];\r\n\t\tko.unwrap(this.wields).forEach(function (wieldItem) {\r\n\t\t\tko.unwrap(wieldItem.wroups).forEach(function (wroupItem) {\r\n\t\t\t\tneedArr.push(wroupItem);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/**\r\n\t * Calc a list of well groups for this region\r\n\t */\r\n\texports.prototype.calcListOfWell = function () {\r\n\t\tvar needArr = [];\r\n\t\tko.unwrap(this.wields).forEach(function (wieldItem) {\r\n\t\t\tko.unwrap(wieldItem.wroups).forEach(function (wroupItem) {\r\n\t\t\t\tko.unwrap(wroupItem.wells).forEach(function (wellItem) {\r\n\t\t\t\t\tneedArr.push(wellItem);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of a parent company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\treturn this.getCompany().id;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** \r\n* Job type module\r\n* @module\r\n*/\r\ndefine('models/job-type',['knockout'], function (ko) {\r\n    'use strict';\r\n\r\n    /** \r\n    * Job type module\r\n    * @constructor\r\n    * @param {object} data - Job type data\r\n    */\r\n    var JobType = function (data) {\r\n        data = data || {};\r\n\r\n        /**\r\n        * Job type id\r\n        * @type {number}\r\n        */\r\n        this.id = data.Id;\r\n\r\n        /** Job type name */\r\n        this.name = ko.observable(data.Name);\r\n\r\n        /** Job type description */\r\n        this.description = ko.observable(data.Description);\r\n\r\n        /** Job type company id */\r\n        this.companyId = data.CompanyId;\r\n    };\r\n\r\n    return JobType;\r\n});\n","/** @module */\r\ndefine('services/company',['jquery', 'helpers/ajax-request'], function ($, ajaxRequest) {\r\n    'use strict';\r\n\r\n    var companyUrl = function (companyId) {\r\n        return '//wfm-report.herokuapp.com/api/company/' + (companyId ? ('?' + $.param({ id: companyId })) : '');\r\n    };\r\n\r\n    /**\r\n    * Company service\r\n    * @constructor\r\n    */\r\n    var exports = {\r\n        get: function () {\r\n            return ajaxRequest('GET', companyUrl());\r\n        },\r\n        post: function (data) {\r\n            return ajaxRequest('POST', companyUrl(), data);\r\n        },\r\n        put: function (companyId, data) {\r\n            return ajaxRequest('PUT', companyUrl(companyId), data);\r\n        },\r\n        remove: function (companyId) {\r\n            return ajaxRequest('DELETE', companyUrl(companyId));\r\n        }\r\n    };\r\n\r\n    return exports;\r\n});\n","/**\r\n * @module\r\n * @todo #42! Allow only jpg and png as a logo\r\n */\r\ndefine('models/company',['jquery',\r\n\t\t'knockout',\r\n\t\t'models/wegion',\r\n\t\t'models/job-type',\r\n\t\t'services/datacontext',\r\n\t\t'helpers/modal-helper',\r\n\t\t'helpers/history-helper',\r\n\t\t'base-models/stage-base',\r\n\t\t'models/section-of-stage',\r\n\t\t'models/prop-spec',\r\n\t\t'services/company',\r\n\t\t'models/file-spec',\r\n\t\t'services/wegion',\r\n\t\t'constants/stage-constants',\r\n\t\t'helpers/app-helper',\r\n\t\t'helpers/knockout-lazy'],\r\n\tfunction ($,\r\n\t\tko,\r\n\t\tWegion,\r\n\t\tJobType,\r\n\t\tappDatacontext,\r\n\t\tmodalHelper,\r\n\t\thistoryHelper,\r\n\t\tStageBase,\r\n\t\tSectionOfCompany,\r\n\t\tPropSpec,\r\n\t\tcompanyService,\r\n\t\tFileSpec,\r\n\t\twegionService,\r\n\t\tstageCnst,\r\n\t\tappHelper) {\r\n\t'use strict';\r\n\r\n\t/** Import well regions for company */\r\n\tfunction importWegions(data, companyParent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new Wegion(item, companyParent);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Import company sections */\r\n\tfunction importListOfSectionOfCompanyDto(data, parent) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new SectionOfCompany(item, parent, item.CompanyId);\r\n\t\t});\r\n\t\t// item.CompanyId === parent.id\r\n\t}\r\n\r\n\t/** Main properties for company: headers can be translated here if needed */\r\n\tvar companyPropSpecList = [\r\n\t\tnew PropSpec('name', 'Name', 'Company name', 'SingleLine', {\r\n\t\t\tmaxLength : 255\r\n\t\t}),\r\n\t\tnew PropSpec('description', 'Description', 'Company description', 'MultiLine', {}),\r\n\t\tnew PropSpec('fileSpecOfLogo', 'FileSpecOfLogo', 'Company logo', 'FileLine', {\r\n\t\t\twidth : 100,\r\n\t\t\t// Client id of property of nested id of file spec\r\n\t\t\tnestedClientId : 'idOfFileSpecOfLogo'\r\n\t\t}),\r\n\t\tnew PropSpec('idOfFileSpecOfLogo', 'IdOfFileSpecOfLogo', '', '', {})\r\n\t];\r\n\r\n\t/**\r\n\t * Company model\r\n\t * @constructor\r\n\t * @param {object} data - Company data\r\n\t */\r\n\tvar exports = function (data, mdlEmployee) {\r\n\t\tdata = data || {};\r\n\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn mdlEmployee.getRootMdl();\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Company guid\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/** Props specifications */\r\n\t\tthis.propSpecList = companyPropSpecList;\r\n\r\n\t\t/**\r\n\t\t * Stage key: equals file name\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageCnst.company.id;\r\n\r\n\t\t/** Base for all stages */\r\n\t\tStageBase.call(this, data);\r\n\r\n\t\t/**\r\n\t\t * List of well regions\r\n\t\t * @type {module:models/wegion}\r\n\t\t */\r\n\t\tthis.wegions = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether well regions are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedWegions = ko.observable(false);\r\n\r\n\t\tthis.jobTypeList = ko.lazyObservableArray(this.loadJobTypeList, this);\r\n\r\n\t\t/** Load sections */\r\n\t\tthis.listOfSection(importListOfSectionOfCompanyDto(data.ListOfSectionOfCompanyDto, this));\r\n\r\n\t\t/** Load inner object after initialization: only one time per user profile selection */\r\n\t\tthis.loadWegions();\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/** Convert to data transfer object to sent to the server*/\r\n\texports.prototype.toDto = function () {\r\n\t\tvar dtoObj = {\r\n\t\t\tId : this.id\r\n\t\t};\r\n\r\n\t\tthis.propSpecList.forEach(function (prop) {\r\n\t\t\tdtoObj[prop.serverId] = ko.unwrap(this[prop.clientId]);\r\n\t\t}, this);\r\n\r\n\t\treturn dtoObj;\r\n\t};\r\n\r\n\t/** Add a job type */\r\n\texports.prototype.postJobType = function (tmpName) {\r\n\t\tappDatacontext.postCompanyJobType(this.id, {\r\n\t\t\tname : tmpName,\r\n\t\t\tdescription : '',\r\n\t\t\tcompanyId : this.id\r\n\t\t}).done(this.pushJobType.bind(this));\r\n\t};\r\n\r\n\texports.prototype.pushJobType = function (dataOfJobType) {\r\n\t\tthis.jobTypeList.push(new JobType(dataOfJobType));\r\n\t};\r\n\r\n\t/**\r\n\t * Load wegions of this company\r\n\t */\r\n\texports.prototype.loadWegions = function () {\r\n\t\tif (!ko.unwrap(this.isLoadedWegions)) {\r\n\t\t\twegionService.getInclusive(this.id).done(this.successLoadWegions.bind(this));\r\n\t\t}\r\n\t};\r\n\r\n\texports.prototype.successLoadWegions = function (dataOfWegions) {\r\n\t\tthis.wegions(importWegions(dataOfWegions, this));\r\n\t\tthis.isLoadedWegions(true);\r\n\t};\r\n\r\n\t/** Delete well region */\r\n\texports.prototype.removeChild = function (wellRegionForDelete) {\r\n\t\tvar ths = this;\r\n\t\twegionService.remove(wellRegionForDelete.id).done(function () {\r\n\t\t\tths.wegions.remove(wellRegionForDelete);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Find a list of cognate stages\r\n\t *    1. A list for selection box for new widget (name and id)\r\n\t *    2. A list to find specific stage by id: findCognateStage\r\n\t * @returns {Array.<Object>}\r\n\t */\r\n\texports.prototype.getListOfStageByKey = function (keyOfStage) {\r\n\t\tswitch (keyOfStage) {\r\n\t\tcase stageCnst.company.id:\r\n\t\t\treturn [this];\r\n\t\tcase stageCnst.wegion.id:\r\n\t\t\treturn ko.unwrap(this.wegions);\r\n\t\tcase stageCnst.wield.id:\r\n\t\t\treturn this.calcListOfWield();\r\n\t\tcase stageCnst.wroup.id:\r\n\t\t\treturn this.calcListOfWroup();\r\n\t\tcase stageCnst.well.id:\r\n\t\t\treturn this.calcListOfWell();\r\n\t\t}\r\n\t};\r\n\r\n\t/** Find all well fields */\r\n\texports.prototype.calcListOfWield = function () {\r\n\t\tvar needArr = [];\r\n\r\n\t\tko.unwrap(this.wegions).forEach(function (wegionItem) {\r\n\t\t\tko.unwrap(wegionItem.wields).forEach(function (wieldItem) {\r\n\t\t\t\tneedArr.push(wieldItem);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/** Find all well groups */\r\n\texports.prototype.calcListOfWroup = function () {\r\n\t\tvar needArr = [];\r\n\r\n\t\tko.unwrap(this.wegions).forEach(function (wegionItem) {\r\n\t\t\tko.unwrap(wegionItem.wields).forEach(function (wieldItem) {\r\n\t\t\t\tko.unwrap(wieldItem.wroups).forEach(function (wroupItem) {\r\n\t\t\t\t\tneedArr.push(wroupItem);\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/** Find all wells */\r\n\texports.prototype.calcListOfWell = function () {\r\n\t\tvar needArr = [];\r\n\r\n\t\tko.unwrap(this.wegions).forEach(function (wegionItem) {\r\n\t\t\tko.unwrap(wegionItem.wields).forEach(function (wieldItem) {\r\n\t\t\t\tko.unwrap(wieldItem.wroups).forEach(function (wroupItem) {\r\n\t\t\t\t\tko.unwrap(wroupItem.wells).forEach(function (wellItem) {\r\n\t\t\t\t\t\tneedArr.push(wellItem);\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn needArr;\r\n\t};\r\n\r\n\t/** Save properties */\r\n\texports.prototype.save = function () {\r\n\t\tcompanyService.put(this.id, this.toDto()).done(this.successSave.bind(this));\r\n\t};\r\n\r\n\t/** Success callback for saving this company */\r\n\texports.prototype.successSave = function (dataOfCompany) {\r\n\t\t// Calculated properties on the server\r\n\t\tvar tmpFileSpecOfLogoProp = this.propSpecList.filter(function (elem) {\r\n\t\t\t\treturn elem.clientId === 'fileSpecOfLogo';\r\n\t\t\t})[0];\r\n\r\n\t\tif (!tmpFileSpecOfLogoProp) {\r\n\t\t\tthrow new ReferenceError('No fileSpecOfLogo property for company model');\r\n\t\t}\r\n\r\n\t\t// Value of logo file from server\r\n\t\tvar tmpValueOfFileSpecOfLogo = dataOfCompany[tmpFileSpecOfLogoProp.serverId];\r\n\r\n\t\tif (tmpValueOfFileSpecOfLogo) {\r\n\t\t\tthis[tmpFileSpecOfLogoProp.clientId](new FileSpec(tmpValueOfFileSpecOfLogo));\r\n\t\t} else {\r\n\t\t\tthis[tmpFileSpecOfLogoProp.clientId](null);\r\n\t\t}\r\n\t};\r\n\r\n\t/** Create and post new well region */\r\n\texports.prototype.postWegion = function (tmpName, scsCallback) {\r\n\t\twegionService.post({\r\n\t\t\t'Name' : tmpName,\r\n\t\t\t'Description' : '',\r\n\t\t\t'CompanyId' : this.id\r\n\t\t}).done(scsCallback);\r\n\t};\r\n\r\n\t/**\r\n\t * Push a well region to the main list\r\n\t */\r\n\texports.prototype.pushWegion = function (dataOfWegion) {\r\n\t\tthis.wegions.push(new Wegion(dataOfWegion, this));\r\n\t};\r\n\r\n\t/**\r\n\t * Load a list of job types\r\n\t */\r\n\texports.prototype.loadJobTypeList = function () {\r\n\t\tappDatacontext.getJobTypeList(this.id).done(this.importJobTypeList.bind(this));\r\n\t};\r\n\r\n\t/** Import job types for this company (joined with global types) */\r\n\texports.prototype.importJobTypeList = function (data) {\r\n\t\tdata = data || [];\r\n\t\tthis.jobTypeList(data.map(function (item) {\r\n\t\t\t\treturn new JobType(item);\r\n\t\t\t}));\r\n\t};\r\n\r\n\t/**\r\n\t * Get guid of this company\r\n\t * @returns {string}\r\n\t */\r\n\texports.prototype.getIdOfCompany = function () {\r\n\t\treturn this.id;\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/employee',['knockout','models/company'], function (ko, Company) {\r\n    'use strict';\r\n\r\n    /**\r\n    * Employee (user in company)\r\n    * @constructor\r\n    * @param {object} data - Employee data\r\n    */\r\n    var exports = function (data, mdlUserProfile) {\r\n        data = data || {};\r\n\r\n        /** Alternative of this */\r\n        var ths = this;\r\n\r\n        /** Get root */\r\n        this.getRootMdl = function () {\r\n            return mdlUserProfile.getRootMdl();\r\n        };\r\n\r\n        /**\r\n        * Company guid\r\n        * @type {string}\r\n        */\r\n        this.companyId = data.CompanyId;\r\n\r\n        /**\r\n        * Company\r\n        * @type {module:models/company}\r\n        */\r\n        this.company = new Company(data.CompanyDto, ths);\r\n\r\n        /**\r\n        * User guid\r\n        * @type {string}\r\n        */\r\n        this.userProfileId = data.UserProfileId;\r\n\r\n        /**\r\n        * Access level for user in this company\r\n        * @type {number}\r\n        */\r\n        this.accessLevel = data.AccessLevel;\r\n\r\n        /**\r\n        * Can this user view all\r\n        * @type {boolean}\r\n        */\r\n        this.canViewAll = (this.accessLevel & 4) === 4;\r\n\r\n        /**\r\n        * Can this user edit all: workspace, etc.\r\n        * @type {boolean}\r\n        */\r\n        this.canEditAll = (this.accessLevel & 2) === 2;\r\n\r\n        /**\r\n        * Can this user manage all: users, system settings for company, etc.\r\n        * @type {boolean}\r\n        */\r\n        this.canManageAll = (this.accessLevel & 1) === 1;\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/section-pattern',[], function () {\r\n    'use strict';\r\n\r\n    /**\r\n    * Section pattern\r\n    * @constructor\r\n    * @param {object} data - Pattern data\r\n    */\r\n    var exports = function (data) {\r\n        data = data || {};\r\n\r\n        /**\r\n        * Pattern id, like 'well-summary', 'wroup-map'\r\n        * @type {string}\r\n        */\r\n        this.id = data.Id;\r\n\r\n        /**\r\n        * Section default name\r\n        * @type {string}\r\n        */\r\n        this.name = data.Name;\r\n\r\n        /**\r\n        * A css class for the section pattern\r\n        * @type {string}\r\n        */\r\n        this.iconClass = this.id + '-icon';\r\n        \r\n        /**\r\n        * Id of stage: 'well', 'wroup' etc\r\n        * @type {string}\r\n        */\r\n        this.idOfStage = data.IdOfStage;\r\n\r\n        /**\r\n        * Allowed file types regular expression (to upload through a file manager)\r\n        * @type {string}\r\n        */\r\n        this.fileTypeRegExp = data.FileFormatRegExp;\r\n\r\n        // All below props can be changed only using admin panel\r\n        /**\r\n        * Is view\r\n        * @type {boolean}\r\n        */\r\n        this.isView = data.IsView;\r\n\r\n        /**\r\n        * Whether section is showed in a file manager\r\n        * @type {boolean}\r\n        */\r\n        this.isFolder = data.IsFolder;\r\n\r\n        /**\r\n        * Whether section is widget on a dashboard\r\n        * @type {boolean}\r\n        */\r\n        this.isWidget = data.IsWidget;\r\n    };\r\n\r\n    return exports;\r\n});\n","/** @module */\r\ndefine('models/user-profile',['knockout',\r\n\t\t'models/employee',\r\n\t\t'helpers/lang-helper',\r\n\t\t'services/company-user',\r\n\t\t'services/company',\r\n\t\t'helpers/history-helper',\r\n\t\t'constants/stage-constants',\r\n\t\t'models/prop-spec',\r\n\t\t'base-models/stage-base',\r\n\t\t'helpers/app-helper'],\r\n\tfunction (ko,\r\n\t\tEmployee,\r\n\t\tlangHelper,\r\n\t\tcompanyUserService,\r\n\t\tcompanyService,\r\n\t\thistoryHelper,\r\n\t\tstageConstants,\r\n\t\tPropSpec,\r\n\t\tStageBase,\r\n\t\tappHelper) {\r\n\t'use strict';\r\n\r\n\t/** Import employees for this user */\r\n\tfunction importEmployees(data, userProfileItem) {\r\n\t\treturn data.map(function (item) {\r\n\t\t\treturn new Employee(item, userProfileItem);\r\n\t\t});\r\n\t}\r\n\r\n\t/** Main properties for company: headers can be translated here if needed */\r\n\tvar userProfilePropSpecList = [\r\n\t\t/**\r\n\t\t * User email (name)\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tnew PropSpec('email', 'Email', 'Email', 'SingleLine', {\r\n\t\t\tmaxLength : 320\r\n\t\t})\r\n\t];\r\n\r\n\t/**\r\n\t * User profile\r\n\t * @constructor\r\n\t * @augments {module:base-models/stage-base}\r\n\t * @param {object} data - User profile data\r\n\t */\r\n\tvar exports = function (data, rootMdl) {\r\n\t\tdata = data || {};\r\n\r\n\t\t/** Alternative for this */\r\n\t\tvar ths = this;\r\n\r\n\t\t/**\r\n\t\t * Stage key: user profile\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.stageKey = stageConstants.upro.id;\r\n\r\n\t\tthis.getRootMdl = function () {\r\n\t\t\treturn rootMdl;\r\n\t\t};\r\n\r\n\t\t/** Main observable properties of user profile */\r\n\t\tthis.propSpecList = userProfilePropSpecList;\r\n\r\n\t\t/** User profile id (guid) */\r\n\t\tthis.id = data.Id;\r\n\r\n\t\t/** Base for all stages: no server data in user profile */\r\n\t\tStageBase.call(ths, data);\r\n\r\n\t\t/**\r\n\t\t * User can be in many companies with access level for each company\r\n\t\t * @type {Array.<module:models/employee>}\r\n\t\t */\r\n\t\tthis.employees = ko.observableArray();\r\n\r\n\t\t/**\r\n\t\t * Whether employees are loaded\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isLoadedEmployees = ko.observable(false);\r\n\r\n\t\t/**\r\n\t\t * Name of a new company: user can create only one company with manager access level\r\n\t\t * @type {string}\r\n\t\t */\r\n\t\tthis.nameOfCreatedCompany = ko.observable('');\r\n\r\n\t\t/** Add new employee with company */\r\n\t\tthis.postEmployee = function () {\r\n\t\t\t// Post employee company\r\n\t\t\tvar tmpNameOfCreatedCompany = ko.unwrap(ths.nameOfCreatedCompany);\r\n\t\t\tif (tmpNameOfCreatedCompany) {\r\n\t\t\t\tcompanyService.post({\r\n\t\t\t\t\t'Name' : tmpNameOfCreatedCompany,\r\n\t\t\t\t\t'Description' : ''\r\n\t\t\t\t}).done(function () {\r\n\t\t\t\t\t// Reload all companies:\r\n\t\t\t\t\t// by default - only one company (created company) for manage\r\n\t\t\t\t\t// and other - for view and/or edit\r\n\t\t\t\t\tths.isLoadedEmployees(false);\r\n\t\t\t\t\tths.loadEmployees();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t/**\r\n\t\t * Whether user is owner already: block link \"register company\"\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tths.isOwnerAlready = ko.computed({\r\n\t\t\t\tread : function () {\r\n\t\t\t\t\tvar result = false;\r\n\r\n\t\t\t\t\tvar tmpEmployees = ko.unwrap(ths.employees);\r\n\r\n\t\t\t\t\ttmpEmployees.forEach(function (arrElem) {\r\n\t\t\t\t\t\tif (ko.unwrap(arrElem.canManageAll)) {\r\n\t\t\t\t\t\t\tresult = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn result;\r\n\t\t\t\t},\r\n\t\t\t\tdeferEvaluation : true\r\n\t\t\t});\r\n\t};\r\n\r\n\t/** Inherit from a stage base model */\r\n\tappHelper.inherits(exports, StageBase);\r\n\r\n\t/**\r\n\t * Load employee list for this user\r\n\t */\r\n\texports.prototype.loadEmployees = function () {\r\n\t\tif (ko.unwrap(this.isLoadedEmployees)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ths = this;\r\n\t\tcompanyUserService.getCompanyUserList().done(function (response) {\r\n\r\n\t\t\t////// Set hash, add to history\r\n\t\t\t////historyHelper.pushState('/companies');\r\n\r\n\t\t\tths.employees(importEmployees(response, ths));\r\n\t\t\tths.isLoadedEmployees(true);\r\n\r\n\t\t\t////if (tmpInitialUrlData.companyId) {\r\n\t\t\t////    emplArray.forEach(function (arrElem) {\r\n\t\t\t////        if (arrElem.companyId === tmpInitialUrlData.companyId) {\r\n\t\t\t////            // Select employee = select company\r\n\t\t\t////            ths.selectEmployee(arrElem);\r\n\t\t\t////            // Clean from initial url data to don't select again\r\n\t\t\t////            delete tmpInitialUrlData.companyId;\r\n\t\t\t////            rootMdl.initialUrlData(tmpInitialUrlData);\r\n\t\t\t////        }\r\n\t\t\t////    });\r\n\t\t\t////}\r\n\t\t});\r\n\t};\r\n\r\n\t/** Remove company with employee */\r\n\texports.prototype.removeChild = function (companyToRemove) {\r\n\t\tvar ths = this;\r\n\t\tvar tmpCompanyId = ko.unwrap(companyToRemove.id);\r\n\t\tcompanyService.remove(tmpCompanyId).done(function () {\r\n\t\t\t// Reload all employees\r\n\t\t\tths.isLoadedEmployees(false);\r\n\t\t\tths.loadEmployees();\r\n\t\t});\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('models/wfm-param-squad',['knockout', 'models/wfm-parameter'], function (ko, WfmParameter) {\r\n\t'use strict';\r\n\r\n\tfunction importWfmParameterDtoList(data) {\r\n\t\treturn (data || []).map(function (item) {\r\n\t\t\treturn new WfmParameter(item);\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Wfm param squad\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function (data) {\r\n\t\t\r\n\t\tdata = data || {};\r\n\r\n\t\tthis.id = data.Id;\r\n\r\n\t\tthis.wfmParameterList = ko.observableArray();\r\n\r\n\t\tthis.toPlainJson = function () {\r\n\t\t\treturn ko.toJS(this);\r\n\t\t};\r\n\r\n\t\t// Set list of well file manager parameters to group (if exists)\r\n\t\t// Get requests for squads can be inclusive and non-inclusive: if inclusive then this list exists\r\n\t\tif (data.WfmParameterDtoList) {\r\n\t\t\tthis.wfmParameterList(importWfmParameterDtoList(data.WfmParameterDtoList));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n","/** @module */\r\ndefine('services/wfm-param-squad',['helpers/ajax-request'], function (ajaxRequest) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Generate url for service\r\n\t * @param {bool} isInclusive - Whether include child parameters\r\n\t */\r\n\tvar url = function (isInclusive) {\r\n\t\treturn '//wfm-report.herokuapp.com/api/wfm-param-squads' + (isInclusive ? '/inclusive' : '');\r\n\t};\r\n\r\n\t/**\r\n\t * Data service: parameter squads\r\n\t * @constructor\r\n\t */\r\n\tvar exports = {\r\n\t\tget : function () {\r\n\t\t\treturn ajaxRequest('GET', url());\r\n      // return ['rate', 'cumulative', 'watercut', 'gor', etc.];\r\n\t\t},\r\n\t\tgetInclusive : function () {\r\n\t\t\treturn ajaxRequest('GET', url(true));\r\n\t\t}\r\n\t};\r\n\r\n\treturn exports;\r\n});\n","/** @module\r\n * todo: #22! handle to remove\r\n *       this.setUserProfile\r\n *       this.cleanUserProfile\r\n */\r\ndefine('models/workspace',[\r\n\t\t'knockout',\r\n\t\t'helpers/app-helper',\r\n\t\t'models/user-profile',\r\n\t\t'models/section-pattern',\r\n\t\t'services/section-pattern',\r\n\t\t'models/wfm-param-squad',\r\n\t\t'services/wfm-param-squad',\r\n\t\t'services/auth',\r\n\t\t'helpers/knockout-lazy'],\r\n\tfunction (ko,\r\n\t\tappHelper,\r\n\t\tUserProfile,\r\n\t\tSectionPattern,\r\n\t\tsectionPatternService,\r\n\t\tWfmParamSquad,\r\n\t\twfmParamSquadService,\r\n\t\tuserProfileService) {\r\n\t'use strict';\r\n\r\n\t/**\r\n\t * Root view model\r\n\t * @constructor\r\n\t */\r\n\tvar exports = function () {\r\n\t\t/**\r\n\t\t * Param squads\r\n\t\t */\r\n\t\tthis.wfmParamSquadList = ko.lazyObservableArray(this.loadParamSquadList, this);\r\n\r\n\t\t/**\r\n\t\t * A list of section patterns: lazy loading by first request\r\n\t\t */\r\n\t\tthis.ListOfSectionPatternDto = ko.lazyObservableArray(this.loadListOfSectionPattern, this);\r\n\r\n\t\t/**\r\n\t\t * All parameters from all groups as one dimensional array\r\n\t\t */\r\n\t\tthis.wfmParameterList = ko.computed({\r\n\t\t\t\tread : this.calcWfmParameterList,\r\n\t\t\t\tdeferEvaluation : true,\r\n\t\t\t\towner : this\r\n\t\t\t});\r\n\r\n\t\t/**\r\n\t\t * User profile model\r\n\t\t * @type {module:models/user-profile}\r\n\t\t */\r\n\t\tthis.userProfile = ko.observable();\r\n\r\n\t\t/**\r\n\t\t * Whether profile is loaded: profile can be loaded, but not exists (if user is not logged or registered)\r\n\t\t *    Existing of profile need to check, using ths.userProfile object\r\n\t\t * @type {boolean}\r\n\t\t */\r\n\t\tthis.isTriedToLoadUserProfile = ko.observable(false);\r\n\t};\r\n\r\n\texports.prototype.setUserProfile = function (r) {\r\n\t\tthis.userProfile(new UserProfile(r, this));\r\n\t};\r\n\r\n\texports.prototype.cleanUserProfile = function () {\r\n\t\tthis.userProfile(null);\r\n\t\t// automatically cleaned all child companies, wegions etc.\r\n\t};\r\n\r\n\t/**\r\n\t * Try to get user profile: Email, Roles, IsLogged\r\n\t */\r\n\texports.prototype.tryToLoadUserProfile = function () {\r\n\t\t// Send auth cookies to the server\r\n\t\tuserProfileService.getUserProfile()\r\n\t\t.done(this.setUserProfile.bind(this))\r\n\t\t.always(this.setTryStatus.bind(this));\r\n\t};\r\n\r\n\texports.prototype.setTryStatus = function () {\r\n\t\tthis.isTriedToLoadUserProfile(true);\r\n\t};\r\n\r\n\t/**\r\n\t * End the session\r\n\t *    Logoff only from current cabinet (now, logic may changed)\r\n\t */\r\n\texports.prototype.accountLogOff = function () {\r\n    // sync methods, no time to wait response\r\n\t\tuserProfileService.accountLogOff();\r\n    this.cleanUserProfile();\r\n\t};\r\n\r\n\t/**\r\n\t * Calculate parameters from squads\r\n\t * @private\r\n\t * @returns {module:models/wfm-parameter}\r\n\t */\r\n\texports.prototype.calcWfmParameterList = function () {\r\n\t\tvar outArr = [];\r\n\r\n\t\tko.unwrap(this.wfmParamSquadList).forEach(function (sqdElem) {\r\n\t\t\tko.unwrap(sqdElem.wfmParameterList).forEach(function (prmElem) {\r\n\t\t\t\toutArr.push(prmElem);\r\n\t\t\t});\r\n\t\t});\r\n\r\n\t\treturn outArr;\r\n\t};\r\n\r\n\t/** Load squads */\r\n\texports.prototype.loadParamSquadList = function () {\r\n\t\twfmParamSquadService.getInclusive().done(this.applyParamSquadList.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Apply squads after loading\r\n\t * @private\r\n\t */\r\n\texports.prototype.applyParamSquadList = function (data) {\r\n\t\tdata = data || [];\r\n\t\tthis.wfmParamSquadList(data.map(function (item) {\r\n\t\t\t\treturn new WfmParamSquad(item);\r\n\t\t\t}));\r\n\t};\r\n\r\n\t/**\r\n\t * Load a list of patterns\r\n\t * @private\r\n\t */\r\n\texports.prototype.loadListOfSectionPattern = function () {\r\n\t\tsectionPatternService.get().done(this.applyListOfSectionPattern.bind(this));\r\n\t};\r\n\r\n\t/**\r\n\t * Apply patterns\r\n\t * @private\r\n\t */\r\n\texports.prototype.applyListOfSectionPattern = function (data) {\r\n\t\tdata = data || [];\r\n\t\tthis.ListOfSectionPatternDto(data.map(function (item) {\r\n\t\t\t\treturn new SectionPattern(item);\r\n\t\t\t}));\r\n\t};\r\n\r\n\treturn exports;\r\n});\r\n\n"]}